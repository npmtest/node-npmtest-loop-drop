{"/home/travis/build/npmtest/node-npmtest-loop-drop/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_loop_drop */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/lib.npmtest_loop_drop.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/lib.npmtest_loop_drop.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":54}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":60}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_loop_drop */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_loop_drop = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_loop_drop = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":53}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":67},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-loop-drop && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_loop_drop */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_loop_drop","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_loop_drop.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_loop_drop.rollup.js'] =","            local.assetsDict['/assets.npmtest_loop_drop.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_loop_drop.__dirname + '/lib.npmtest_loop_drop.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/main.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/main.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":31},"end":{"line":13,"column":42}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":38},"end":{"line":17,"column":59}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":7},"end":{"line":21,"column":21}}},"4":{"name":"(anonymous_4)","line":32,"loc":{"start":{"line":32,"column":7},"end":{"line":32,"column":23}}},"5":{"name":"(anonymous_5)","line":42,"loc":{"start":{"line":42,"column":30},"end":{"line":42,"column":51}}},"6":{"name":"(anonymous_6)","line":46,"loc":{"start":{"line":46,"column":37},"end":{"line":46,"column":48}}},"7":{"name":"(anonymous_7)","line":51,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":36}}},"8":{"name":"chooseProject","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":25}}},"9":{"name":"(anonymous_9)","line":75,"loc":{"start":{"line":75,"column":52},"end":{"line":75,"column":64}}},"10":{"name":"(anonymous_10)","line":79,"loc":{"start":{"line":79,"column":50},"end":{"line":79,"column":68}}},"11":{"name":"(anonymous_11)","line":86,"loc":{"start":{"line":86,"column":31},"end":{"line":86,"column":43}}},"12":{"name":"createProject","line":92,"loc":{"start":{"line":92,"column":0},"end":{"line":92,"column":29}}},"13":{"name":"(anonymous_13)","line":93,"loc":{"start":{"line":93,"column":17},"end":{"line":93,"column":31}}},"14":{"name":"getDemoProjectPath","line":99,"loc":{"start":{"line":99,"column":0},"end":{"line":99,"column":30}}},"15":{"name":"loadProject","line":115,"loc":{"start":{"line":115,"column":0},"end":{"line":115,"column":27}}},"16":{"name":"(anonymous_16)","line":139,"loc":{"start":{"line":139,"column":47},"end":{"line":139,"column":58}}},"17":{"name":"(anonymous_17)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":57}}},"18":{"name":"(anonymous_18)","line":147,"loc":{"start":{"line":147,"column":45},"end":{"line":147,"column":62}}},"19":{"name":"(anonymous_19)","line":153,"loc":{"start":{"line":153,"column":25},"end":{"line":153,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":54}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":24}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":21}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":19}},"11":{"start":{"line":13,"column":0},"end":{"line":15,"column":2}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":16}},"13":{"start":{"line":17,"column":0},"end":{"line":40,"column":2}},"14":{"start":{"line":18,"column":2},"end":{"line":39,"column":3}},"15":{"start":{"line":19,"column":4},"end":{"line":25,"column":6}},"16":{"start":{"line":22,"column":6},"end":{"line":24,"column":7}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":27}},"18":{"start":{"line":26,"column":9},"end":{"line":39,"column":3}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":37}},"20":{"start":{"line":28,"column":9},"end":{"line":39,"column":3}},"21":{"start":{"line":29,"column":4},"end":{"line":36,"column":6}},"22":{"start":{"line":33,"column":6},"end":{"line":35,"column":7}},"23":{"start":{"line":34,"column":8},"end":{"line":34,"column":29}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":19}},"25":{"start":{"line":42,"column":0},"end":{"line":44,"column":2}},"26":{"start":{"line":43,"column":2},"end":{"line":43,"column":51}},"27":{"start":{"line":46,"column":0},"end":{"line":49,"column":2}},"28":{"start":{"line":48,"column":2},"end":{"line":48,"column":21}},"29":{"start":{"line":51,"column":0},"end":{"line":56,"column":3}},"30":{"start":{"line":52,"column":2},"end":{"line":54,"column":3}},"31":{"start":{"line":53,"column":4},"end":{"line":53,"column":33}},"32":{"start":{"line":55,"column":2},"end":{"line":55,"column":17}},"33":{"start":{"line":58,"column":0},"end":{"line":90,"column":1}},"34":{"start":{"line":60,"column":2},"end":{"line":62,"column":3}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":22}},"36":{"start":{"line":64,"column":2},"end":{"line":89,"column":3}},"37":{"start":{"line":65,"column":4},"end":{"line":65,"column":24}},"38":{"start":{"line":67,"column":4},"end":{"line":73,"column":6}},"39":{"start":{"line":75,"column":4},"end":{"line":77,"column":6}},"40":{"start":{"line":76,"column":6},"end":{"line":76,"column":26}},"41":{"start":{"line":79,"column":4},"end":{"line":82,"column":6}},"42":{"start":{"line":80,"column":6},"end":{"line":80,"column":24}},"43":{"start":{"line":81,"column":6},"end":{"line":81,"column":38}},"44":{"start":{"line":84,"column":4},"end":{"line":84,"column":72}},"45":{"start":{"line":86,"column":4},"end":{"line":88,"column":6}},"46":{"start":{"line":87,"column":6},"end":{"line":87,"column":26}},"47":{"start":{"line":92,"column":0},"end":{"line":97,"column":1}},"48":{"start":{"line":93,"column":2},"end":{"line":96,"column":4}},"49":{"start":{"line":94,"column":4},"end":{"line":94,"column":22}},"50":{"start":{"line":94,"column":13},"end":{"line":94,"column":22}},"51":{"start":{"line":95,"column":4},"end":{"line":95,"column":21}},"52":{"start":{"line":99,"column":0},"end":{"line":113,"column":1}},"53":{"start":{"line":101,"column":2},"end":{"line":101,"column":22}},"54":{"start":{"line":102,"column":2},"end":{"line":102,"column":17}},"55":{"start":{"line":103,"column":2},"end":{"line":109,"column":3}},"56":{"start":{"line":104,"column":4},"end":{"line":104,"column":21}},"57":{"start":{"line":105,"column":4},"end":{"line":105,"column":78}},"58":{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},"59":{"start":{"line":107,"column":6},"end":{"line":107,"column":20}},"60":{"start":{"line":112,"column":2},"end":{"line":112,"column":40}},"61":{"start":{"line":115,"column":0},"end":{"line":159,"column":1}},"62":{"start":{"line":117,"column":2},"end":{"line":119,"column":3}},"63":{"start":{"line":118,"column":4},"end":{"line":118,"column":22}},"64":{"start":{"line":121,"column":2},"end":{"line":123,"column":3}},"65":{"start":{"line":122,"column":4},"end":{"line":122,"column":24}},"66":{"start":{"line":125,"column":2},"end":{"line":125,"column":23}},"67":{"start":{"line":127,"column":2},"end":{"line":137,"column":4}},"68":{"start":{"line":139,"column":2},"end":{"line":141,"column":4}},"69":{"start":{"line":140,"column":4},"end":{"line":140,"column":21}},"70":{"start":{"line":143,"column":2},"end":{"line":145,"column":4}},"71":{"start":{"line":144,"column":4},"end":{"line":144,"column":22}},"72":{"start":{"line":147,"column":2},"end":{"line":150,"column":4}},"73":{"start":{"line":148,"column":4},"end":{"line":148,"column":22}},"74":{"start":{"line":149,"column":4},"end":{"line":149,"column":36}},"75":{"start":{"line":152,"column":2},"end":{"line":152,"column":66}},"76":{"start":{"line":153,"column":2},"end":{"line":158,"column":4}},"77":{"start":{"line":154,"column":4},"end":{"line":154,"column":21}},"78":{"start":{"line":155,"column":4},"end":{"line":157,"column":5}},"79":{"start":{"line":156,"column":6},"end":{"line":156,"column":21}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":9},"end":{"line":26,"column":9}},{"start":{"line":26,"column":9},"end":{"line":26,"column":9}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":9},"end":{"line":28,"column":9}},{"start":{"line":28,"column":9},"end":{"line":28,"column":9}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]},"6":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":10},"end":{"line":33,"column":15}},{"start":{"line":33,"column":19},"end":{"line":33,"column":31}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":2},"end":{"line":52,"column":2}},{"start":{"line":52,"column":2},"end":{"line":52,"column":2}}]},"8":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":60,"column":2}},{"start":{"line":60,"column":2},"end":{"line":60,"column":2}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"10":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"11":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":106,"column":4}},{"start":{"line":106,"column":4},"end":{"line":106,"column":4}}]},"12":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":2},"end":{"line":117,"column":2}},{"start":{"line":117,"column":2},"end":{"line":117,"column":2}}]},"13":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":2},"end":{"line":121,"column":2}},{"start":{"line":121,"column":2},"end":{"line":121,"column":2}}]},"14":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]}},"code":["var electron = require('electron')","var BrowserWindow = electron.BrowserWindow","var fs = require('fs')","var Menu = electron.Menu","var menu = Menu.buildFromTemplate(require('lib/menu'))","var join = require('path').join","","var welcomeWindow = null","var mainWindow = null","var currentProject = null","var quiting = false","","electron.app.on('before-quit', function() {","  quiting = true","})","","electron.ipcMain.on('choose-project', function(event, arg) {","  if (arg === 'new') {","    electron.dialog.showSaveDialog({","      title: 'Create New Project'","    }, function(path){","      if (path) {","        createProject(path)","      }","    })","  } else if (arg === 'demo') {","    loadProject(getDemoProjectPath())","  } else if (arg === 'browse') {","    electron.dialog.showOpenDialog({","      title: 'Browse for Project Folder',","      properties: [ 'openDirectory' ]","    }, function(paths) {","      if (paths && paths.length) {","        loadProject(paths[0])","      }","    })","  } else {","    chooseProject()","  }","})","","electron.ipcMain.on('loaded', function(event, arg) {","  event.sender.send('load-project', currentProject)","})","","electron.app.on('window-all-closed', function() {","  //if (process.platform != 'darwin')","  electron.app.quit()","})","","electron.app.on('ready', function() {","  if (process.platform === 'darwin') {","    Menu.setApplicationMenu(menu)","  }","  chooseProject()","});","","function chooseProject() {","","  if (mainWindow) {","    mainWindow.close()","  }","","  if (welcomeWindow) {","    welcomeWindow.show()","  } else {","    welcomeWindow = new BrowserWindow({","      title: 'Choose Project',","      acceptFirstMouse: true,","      width: 500,","      height: 550,","      show: false","    })","","    welcomeWindow.webContents.on('did-finish-load', function () {","      welcomeWindow.show()","    })","","    welcomeWindow.webContents.on('will-navigate', function (e, url) {","      e.preventDefault()","      electron.shell.openExternal(url)","    })","","    welcomeWindow.loadURL('file://' + __dirname + '/views/welcome.html')","","    welcomeWindow.on('closed', function () {","      welcomeWindow = null","    })","  }","}","","function createProject(path) {","  fs.mkdir(path, function(err) {","    if (err) throw err","    loadProject(path)","  })","}","","function getDemoProjectPath() {","  // find demo-project by looking upwards","  var searchLevels = 2","  var lookUp = []","  for (var i=0;i<searchLevels;i++) {","    lookUp.push('..')","    var current = join.apply(this, [__dirname].concat(lookUp, 'demo-project'))","    if (fs.existsSync(current)) {","      return current","    }","  }","","  // fallback","  return join(__dirname, 'demo-project')","}","","function loadProject(path) {","","  if (mainWindow) {","    mainWindow.close()","  }","","  if (welcomeWindow) {","    welcomeWindow.hide()","  }","","  currentProject = path","","  mainWindow = new BrowserWindow({","    width: 1400,","    height: 900,","    title: path + '  Loop Drop',","    acceptFirstMouse: true,","    show: false,","    webPreferences: {","      experimentalFeatures: true,","      pageVisibility: true","    }","  })","","  mainWindow.webContents.on('did-finish-load', function() {","    mainWindow.show()","  })","","  mainWindow.webContents.on('will-navigate', function(e) {","    e.preventDefault()","  })","","  mainWindow.webContents.on('will-navigate', function(e, url) {","    e.preventDefault()","    electron.shell.openExternal(url)","  })","","  mainWindow.loadURL('file://' + __dirname + '/views/window.html')","  mainWindow.on('close', function() {","    mainWindow = null","    if (!quiting) {","      chooseProject()","    }","  })","}",""],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"17":0,"18":0,"19":0,"22":0,"23":0,"26":0,"27":0,"28":0,"29":0,"33":0,"34":0,"38":0,"42":0,"43":0,"46":0,"48":0,"51":0,"52":0,"53":0,"55":0,"58":1,"60":0,"61":0,"64":0,"65":0,"67":0,"75":0,"76":0,"79":0,"80":0,"81":0,"84":0,"86":0,"87":0,"92":1,"93":0,"94":0,"95":0,"99":1,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"112":0,"115":1,"117":0,"118":0,"121":0,"122":0,"125":0,"127":0,"139":0,"140":0,"143":0,"144":0,"147":0,"148":0,"149":0,"152":0,"153":0,"154":0,"155":0,"156":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/start.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/start.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":29}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"4":{"start":{"line":7,"column":0},"end":{"line":12,"column":2}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":16}}},"branchMap":{},"code":["//#!/usr/bin/env node","","var spawn = require('child_process').spawn","var electron = require('electron-prebuilt')","var join = require('path').join","","var app = spawn(electron, ['main.js'], { ","  stdio: 'inherit',","  cwd: join(__dirname, '..') ","}).on('exit', function(i, m) {","  process.exit()","})",""],"l":{"3":1,"4":1,"5":1,"7":1,"11":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/node_modules/electron-prebuilt/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/node_modules/electron-prebuilt/index.js","s":{"1":1,"2":1,"3":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":97}}},"branchMap":{},"code":["var fs = require('fs')","var path = require('path')","","module.exports = path.join(__dirname, fs.readFileSync(path.join(__dirname, 'path.txt'), 'utf-8'))",""],"l":{"1":1,"2":1,"4":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/active-indexes.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/active-indexes.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"activeIndexes","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":46}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":25},"end":{"line":4,"column":41}}},"3":{"name":"pushIndexIfPresent","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":8,"column":4}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":19}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":49}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":17}},"7":{"start":{"line":11,"column":0},"end":{"line":15,"column":1}},"8":{"start":{"line":12,"column":2},"end":{"line":14,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":2},"end":{"line":12,"column":2}},{"start":{"line":12,"column":2},"end":{"line":12,"column":2}}]}},"code":["var computed = require('observ/computed')","","module.exports = function activeIndexes (obs) {","  return computed([obs], function (grid) {","    var result = []","    grid.data.forEach(pushIndexIfPresent, result)","    return result","  })","}","","function pushIndexIfPresent (value, index) {","  if (value) {","    this.push(index)","  }","}"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"11":1,"12":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-mixer-params.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-mixer-params.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":32}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":31},"end":{"line":9,"column":49}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":27},"end":{"line":11,"column":49}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":23},"end":{"line":24,"column":41}}},"5":{"name":"release","line":26,"loc":{"start":{"line":26,"column":11},"end":{"line":26,"column":31}}},"6":{"name":"ParamLookup","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":62}}},"7":{"name":"refresh","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":22}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":24},"end":{"line":65,"column":36}}},"9":{"name":"(anonymous_9)","line":71,"loc":{"start":{"line":71,"column":20},"end":{"line":71,"column":35}}},"10":{"name":"(anonymous_10)","line":75,"loc":{"start":{"line":75,"column":21},"end":{"line":75,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"5":{"start":{"line":6,"column":0},"end":{"line":36,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":30}},"7":{"start":{"line":9,"column":2},"end":{"line":21,"column":4}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":23}},"9":{"start":{"line":11,"column":4},"end":{"line":19,"column":6}},"10":{"start":{"line":12,"column":6},"end":{"line":17,"column":7}},"11":{"start":{"line":13,"column":8},"end":{"line":13,"column":47}},"12":{"start":{"line":14,"column":8},"end":{"line":16,"column":9}},"13":{"start":{"line":15,"column":10},"end":{"line":15,"column":41}},"14":{"start":{"line":18,"column":6},"end":{"line":18,"column":18}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":21}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":42}},"17":{"start":{"line":24,"column":2},"end":{"line":32,"column":3}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":35}},"19":{"start":{"line":26,"column":4},"end":{"line":31,"column":5}},"20":{"start":{"line":27,"column":6},"end":{"line":27,"column":52}},"21":{"start":{"line":28,"column":6},"end":{"line":30,"column":7}},"22":{"start":{"line":29,"column":8},"end":{"line":29,"column":43}},"23":{"start":{"line":34,"column":2},"end":{"line":34,"column":92}},"24":{"start":{"line":35,"column":2},"end":{"line":35,"column":40}},"25":{"start":{"line":38,"column":0},"end":{"line":80,"column":1}},"26":{"start":{"line":39,"column":2},"end":{"line":39,"column":14}},"27":{"start":{"line":40,"column":2},"end":{"line":40,"column":28}},"28":{"start":{"line":42,"column":2},"end":{"line":58,"column":3}},"29":{"start":{"line":43,"column":4},"end":{"line":43,"column":37}},"30":{"start":{"line":44,"column":4},"end":{"line":44,"column":43}},"31":{"start":{"line":45,"column":4},"end":{"line":55,"column":5}},"32":{"start":{"line":46,"column":6},"end":{"line":46,"column":25}},"33":{"start":{"line":47,"column":6},"end":{"line":47,"column":79}},"34":{"start":{"line":48,"column":6},"end":{"line":54,"column":7}},"35":{"start":{"line":49,"column":8},"end":{"line":49,"column":90}},"36":{"start":{"line":50,"column":8},"end":{"line":50,"column":36}},"37":{"start":{"line":52,"column":8},"end":{"line":52,"column":23}},"38":{"start":{"line":53,"column":8},"end":{"line":53,"column":26}},"39":{"start":{"line":56,"column":4},"end":{"line":56,"column":19}},"40":{"start":{"line":57,"column":4},"end":{"line":57,"column":27}},"41":{"start":{"line":60,"column":2},"end":{"line":63,"column":3}},"42":{"start":{"line":65,"column":2},"end":{"line":69,"column":3}},"43":{"start":{"line":66,"column":4},"end":{"line":68,"column":5}},"44":{"start":{"line":67,"column":6},"end":{"line":67,"column":22}},"45":{"start":{"line":71,"column":2},"end":{"line":73,"column":3}},"46":{"start":{"line":72,"column":4},"end":{"line":72,"column":19}},"47":{"start":{"line":75,"column":2},"end":{"line":77,"column":3}},"48":{"start":{"line":76,"column":4},"end":{"line":76,"column":27}},"49":{"start":{"line":79,"column":2},"end":{"line":79,"column":20}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":6},"end":{"line":12,"column":6}},{"start":{"line":12,"column":6},"end":{"line":12,"column":6}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":10},"end":{"line":12,"column":15}},{"start":{"line":12,"column":19},"end":{"line":12,"column":45}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":8}},{"start":{"line":14,"column":8},"end":{"line":14,"column":8}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":6}},{"start":{"line":48,"column":6},"end":{"line":48,"column":6}}]},"6":{"line":48,"type":"binary-expr","locations":[{"start":{"line":48,"column":10},"end":{"line":48,"column":18}},{"start":{"line":48,"column":22},"end":{"line":48,"column":41}}]},"7":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":58},"end":{"line":49,"column":71}},{"start":{"line":49,"column":74},"end":{"line":49,"column":90}}]},"8":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":74},"end":{"line":49,"column":85}},{"start":{"line":49,"column":89},"end":{"line":49,"column":90}}]}},"code":["var computed = require('observ/computed')","var ObservArray = require('observ-array')","var Observ = require('observ')","var extend = require('xtend')","","module.exports = function (obs) {","  // hack for mixer params","  var params = ['A', 'B', 'C']","  obs.params = computed([obs], function (values) {","    var usedParams = []","    JSON.stringify(values, function (key, value) {","      if (value && value.node === 'linkParam') {","        var index = params.indexOf(value.param)","        if (~index) {","          usedParams[index] = value.param","        }","      }","      return value","    })","    return usedParams","  })","","  var paramOverrideStack = ObservArray([])","  obs.overrideParams = function (params) {","    paramOverrideStack.push(params)","    return function release () {","      var index = paramOverrideStack.indexOf(params)","      if (~index) {","        paramOverrideStack.splice(index, 1)","      }","    }","  }","","  obs.context.paramLookup = ParamLookup(obs.context.paramLookup, params, paramOverrideStack)","  return obs.context.paramLookup.destroy","}","","function ParamLookup (rootParams, params, paramOverrideStack) {","  var raw = {}","  var paramLookup = Observ()","","  function refresh () {","    var result = extend(rootParams())","    var rawResult = extend(rootParams._raw)","    for (var i = 0; i < params.length; i++) {","      var key = params[i]","      var override = paramOverrideStack.get(paramOverrideStack.getLength() - 1)","      if (override && override[i] != null) {","        result[key] = typeof override[i] === 'function' ? override[i]() : override[i] || 0","        rawResult[key] = override[i]","      } else {","        result[key] = 0","        rawResult[key] = 0","      }","    }","    raw = rawResult","    paramLookup.set(result)","  }","","  var releases = [","    rootParams(refresh),","    paramOverrideStack(refresh)","  ]","","  paramLookup.destroy = function () {","    while (releases.length) {","      releases.pop()()","    }","  }","","  paramLookup.get = function (key) {","    return raw[key]","  }","","  paramLookup.keys = function (key) {","    return Object.keys(raw)","  }","","  return paramLookup","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"18":0,"20":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"34":0,"35":0,"38":1,"39":0,"40":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"52":0,"53":0,"56":0,"57":0,"60":0,"65":0,"66":0,"67":0,"71":0,"72":0,"75":0,"76":0,"79":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-params.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-params.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"applyParams","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":44}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":12},"end":{"line":7,"column":29}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":22},"end":{"line":8,"column":38}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":23},"end":{"line":18,"column":41}}},"5":{"name":"release","line":20,"loc":{"start":{"line":20,"column":11},"end":{"line":20,"column":31}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":80},"end":{"line":30,"column":117}}},"7":{"name":"(anonymous_7)","line":48,"loc":{"start":{"line":48,"column":20},"end":{"line":48,"column":34}}},"8":{"name":"(anonymous_8)","line":52,"loc":{"start":{"line":52,"column":21},"end":{"line":52,"column":35}}},"9":{"name":"(anonymous_9)","line":58,"loc":{"start":{"line":58,"column":30},"end":{"line":58,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":4,"column":0},"end":{"line":70,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":25}},"5":{"start":{"line":7,"column":2},"end":{"line":15,"column":4}},"6":{"start":{"line":8,"column":4},"end":{"line":14,"column":6}},"7":{"start":{"line":9,"column":6},"end":{"line":9,"column":24}},"8":{"start":{"line":10,"column":6},"end":{"line":13,"column":7}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":36}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":53}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":42}},"12":{"start":{"line":18,"column":2},"end":{"line":26,"column":3}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":35}},"14":{"start":{"line":20,"column":4},"end":{"line":25,"column":5}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":52}},"16":{"start":{"line":22,"column":6},"end":{"line":24,"column":7}},"17":{"start":{"line":23,"column":8},"end":{"line":23,"column":43}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":14}},"19":{"start":{"line":30,"column":2},"end":{"line":46,"column":4}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":19}},"21":{"start":{"line":32,"column":4},"end":{"line":32,"column":22}},"22":{"start":{"line":33,"column":4},"end":{"line":43,"column":5}},"23":{"start":{"line":34,"column":6},"end":{"line":34,"column":25}},"24":{"start":{"line":35,"column":6},"end":{"line":35,"column":79}},"25":{"start":{"line":36,"column":6},"end":{"line":42,"column":7}},"26":{"start":{"line":37,"column":8},"end":{"line":37,"column":90}},"27":{"start":{"line":38,"column":8},"end":{"line":38,"column":36}},"28":{"start":{"line":40,"column":8},"end":{"line":40,"column":48}},"29":{"start":{"line":41,"column":8},"end":{"line":41,"column":49}},"30":{"start":{"line":44,"column":4},"end":{"line":44,"column":19}},"31":{"start":{"line":45,"column":4},"end":{"line":45,"column":17}},"32":{"start":{"line":48,"column":2},"end":{"line":50,"column":3}},"33":{"start":{"line":49,"column":4},"end":{"line":49,"column":19}},"34":{"start":{"line":52,"column":2},"end":{"line":54,"column":3}},"35":{"start":{"line":53,"column":4},"end":{"line":53,"column":27}},"36":{"start":{"line":56,"column":2},"end":{"line":56,"column":39}},"37":{"start":{"line":58,"column":2},"end":{"line":69,"column":3}},"38":{"start":{"line":59,"column":4},"end":{"line":59,"column":17}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":28}},"40":{"start":{"line":61,"column":4},"end":{"line":61,"column":16}},"41":{"start":{"line":63,"column":4},"end":{"line":66,"column":5}},"42":{"start":{"line":64,"column":6},"end":{"line":64,"column":15}},"43":{"start":{"line":65,"column":6},"end":{"line":65,"column":34}},"44":{"start":{"line":68,"column":4},"end":{"line":68,"column":13}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":10},"end":{"line":10,"column":23}},{"start":{"line":10,"column":27},"end":{"line":10,"column":55}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":36,"column":6}},{"start":{"line":36,"column":6},"end":{"line":36,"column":6}}]},"5":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":10},"end":{"line":36,"column":18}},{"start":{"line":36,"column":22},"end":{"line":36,"column":41}}]},"6":{"line":37,"type":"cond-expr","locations":[{"start":{"line":37,"column":58},"end":{"line":37,"column":71}},{"start":{"line":37,"column":74},"end":{"line":37,"column":90}}]},"7":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":74},"end":{"line":37,"column":85}},{"start":{"line":37,"column":89},"end":{"line":37,"column":90}}]},"8":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":22},"end":{"line":40,"column":28}},{"start":{"line":40,"column":32},"end":{"line":40,"column":43}},{"start":{"line":40,"column":47},"end":{"line":40,"column":48}}]}},"code":["var computed = require('observ/computed')","var ObservArray = require('observ-array')","","module.exports = function applyParams (obs) {","  // HACK: make ring modulator effect work on output channel","  var triggeredSlots = []","  obs.slots(function (slots) {","    obs.slots.forEach(function (slot) {","      var id = slot.id()","      if (!isFinite(id) && !~triggeredSlots.indexOf(id)) {","        triggeredSlots.push(slot.id)","        slot.triggerOn(obs.context.audio.currentTime)","      }","    })","  })","","  var paramOverrideStack = ObservArray([])","  obs.overrideParams = function (params) {","    paramOverrideStack.push(params)","    return function release () {","      var index = paramOverrideStack.indexOf(params)","      if (~index) {","        paramOverrideStack.splice(index, 1)","      }","    }","  }","","  var raw = {}","","  var paramLookup = computed([obs.params, obs.paramValues, paramOverrideStack], function (params, values, overrides) {","    var result = {}","    var rawResult = {}","    for (var i = 0; i < params.length; i++) {","      var key = params[i]","      var override = paramOverrideStack.get(paramOverrideStack.getLength() - 1)","      if (override && override[i] != null) {","        result[key] = typeof override[i] === 'function' ? override[i]() : override[i] || 0","        rawResult[key] = override[i]","      } else {","        result[key] = values && values[key] || 0","        rawResult[key] = obs.paramValues.get(key)","      }","    }","    raw = rawResult","    return result","  })","","  paramLookup.get = function(key) {","    return raw[key]","  }","","  paramLookup.keys = function(key) {","    return Object.keys(raw)","  }","","  obs.context.paramLookup = paramLookup","","  obs.resolveAvailableParam = function(id){","    var base = id","    var items = obs.params()","    var incr = 0","","    while (~items.indexOf(id)){","      incr += 1","      id = base + ' ' + (incr + 1)","    }","","    return id","  }","}",""],"l":{"1":1,"2":1,"4":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"28":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"41":0,"44":0,"45":0,"48":0,"49":0,"52":0,"53":0,"56":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"68":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-scale.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/apply-scale.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0},"b":{"1":[0,0,0],"2":[0,0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"applyScale","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}}},"2":{"name":"getInterval","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":38}}},"3":{"name":"mod","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":4,"column":1}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"3":{"start":{"line":8,"column":0},"end":{"line":25,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":9,"column":59}},"5":{"start":{"line":10,"column":2},"end":{"line":10,"column":56}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":50}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":45}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":50}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":49}},"10":{"start":{"line":17,"column":2},"end":{"line":17,"column":45}},"11":{"start":{"line":19,"column":2},"end":{"line":24,"column":3}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":55}},"13":{"start":{"line":21,"column":4},"end":{"line":21,"column":59}},"14":{"start":{"line":23,"column":4},"end":{"line":23,"column":35}},"15":{"start":{"line":27,"column":0},"end":{"line":33,"column":1}},"16":{"start":{"line":28,"column":2},"end":{"line":32,"column":3}},"17":{"start":{"line":29,"column":4},"end":{"line":29,"column":41}},"18":{"start":{"line":31,"column":4},"end":{"line":31,"column":46}},"19":{"start":{"line":35,"column":0},"end":{"line":37,"column":1}},"20":{"start":{"line":36,"column":2},"end":{"line":36,"column":26}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":15},"end":{"line":9,"column":20}},{"start":{"line":9,"column":24},"end":{"line":9,"column":36}},{"start":{"line":9,"column":40},"end":{"line":9,"column":59}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":14},"end":{"line":10,"column":19}},{"start":{"line":10,"column":23},"end":{"line":10,"column":34}},{"start":{"line":10,"column":38},"end":{"line":10,"column":56}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":2},"end":{"line":28,"column":2}},{"start":{"line":28,"column":2},"end":{"line":28,"column":2}}]}},"code":["var defaultScale = {","  offset: 0,","  notes: [0, 2, 4, 5, 7, 9, 11]","}","","module.exports = applyScale","","function applyScale (base, scale) {","  var offset = scale && scale.offset || defaultScale.offset","  var notes = scale && scale.notes || defaultScale.notes","","  var multiplier = Math.floor(base / notes.length)","  var scalePosition = mod(base, notes.length)","  var absScalePosition = Math.floor(scalePosition)","  var fraction = scalePosition - absScalePosition","","  var note = notes[absScalePosition] + offset","","  if (fraction) {","    var interval = getInterval(absScalePosition, notes)","    return note + (interval * fraction) + (multiplier * 12)","  } else {","    return note + (multiplier * 12)","  }","}","","function getInterval (current, notes) {","  if (current >= notes.length - 1) {","    return 12 + notes[0] - notes[current]","  } else {","    return notes[current + 1] - notes[current]","  }","}","","function mod (n, m) {","  return ((n % m) + m) % m","}",""],"l":{"1":1,"6":1,"8":1,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"17":0,"19":0,"20":0,"21":0,"23":0,"27":1,"28":0,"29":0,"31":0,"35":1,"36":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/array-stack.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/array-stack.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"ArrayStack","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":25},"end":{"line":6,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":18,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":17,"column":4}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":19}},"6":{"start":{"line":8,"column":4},"end":{"line":15,"column":5}},"7":{"start":{"line":9,"column":6},"end":{"line":9,"column":28}},"8":{"start":{"line":10,"column":6},"end":{"line":14,"column":7}},"9":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"10":{"start":{"line":12,"column":10},"end":{"line":12,"column":28}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":17}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]}},"code":["var computed = require('observ/computed')","","module.exports = ArrayStack","","function ArrayStack (items) {","  return computed(items, function(_) {","    var result = []","    for (var i = 0; i < arguments.length; i++) {","      var arr = arguments[i]","      for (var k = 0; k < arr.length; k++) {","        if (arr[k] != null) {","          result[k] = arr[k]","        }","      }","    }","    return result","  })","}"],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/assign-available-port.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/assign-available-port.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"assignAvailablePort","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":59},"end":{"line":7,"column":75}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":50},"end":{"line":11,"column":72}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":16},"end":{"line":13,"column":32}}},"5":{"name":"getRarest","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"6":{"name":"(anonymous_6)","line":24,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":52}}},"7":{"name":"(anonymous_7)","line":29,"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":58}},"4":{"start":{"line":5,"column":2},"end":{"line":20,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":19,"column":5}},"6":{"start":{"line":7,"column":6},"end":{"line":9,"column":8}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":44}},"8":{"start":{"line":11,"column":6},"end":{"line":15,"column":8}},"9":{"start":{"line":12,"column":8},"end":{"line":12,"column":51}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":44}},"11":{"start":{"line":17,"column":6},"end":{"line":17,"column":64}},"12":{"start":{"line":18,"column":6},"end":{"line":18,"column":29}},"13":{"start":{"line":23,"column":0},"end":{"line":32,"column":1}},"14":{"start":{"line":24,"column":2},"end":{"line":27,"column":8}},"15":{"start":{"line":25,"column":4},"end":{"line":25,"column":42}},"16":{"start":{"line":26,"column":4},"end":{"line":26,"column":17}},"17":{"start":{"line":29,"column":2},"end":{"line":31,"column":7}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":32}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":6},"end":{"line":5,"column":14}},{"start":{"line":5,"column":18},"end":{"line":5,"column":27}},{"start":{"line":5,"column":31},"end":{"line":5,"column":49}}]},"3":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"4":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":20}},{"start":{"line":6,"column":24},"end":{"line":6,"column":61}}]},"5":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":15},"end":{"line":12,"column":30}},{"start":{"line":12,"column":34},"end":{"line":12,"column":51}}]},"6":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":32}},{"start":{"line":25,"column":36},"end":{"line":25,"column":37}}]}},"code":["module.exports = assignAvailablePort","","function assignAvailablePort (node) {","  var nodeInfo = node.context.nodeInfo.lookup[node().node]","  if (nodeInfo && node.port && nodeInfo.portMatch) {","    if (!node.port() || !nodeInfo.portMatch.exec(node.port())) {","      var availablePorts = node.context.midiPorts().filter(function (name) {","        return nodeInfo.portMatch.exec(name)","      })","","      var usedPorts = node.context.collection.map(function (controller) {","        return controller.port && controller.port()","      }).filter(function (name) {","        return availablePorts.includes(name)","      })","","      var portName = getRarest(availablePorts.concat(usedPorts))","      node.port.set(portName)","    }","  }","}","","function getRarest (array) {","  var ranked = array.reduce(function (result, item) {","    result[item] = (result[item] || 0) + 1","    return result","  }, {})","","  return Object.keys(ranked).sort(function (a, b) {","    return ranked[a] - ranked[b]","  })[0]","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"11":0,"12":0,"14":0,"17":0,"18":0,"23":1,"24":0,"25":0,"26":0,"29":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/attribute-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/attribute-hook.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"AttributeHook","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":31},"end":{"line":12,"column":59}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":33},"end":{"line":17,"column":61}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"2":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":40}},"5":{"start":{"line":9,"column":4},"end":{"line":9,"column":23}},"6":{"start":{"line":12,"column":0},"end":{"line":15,"column":2}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":40}},"8":{"start":{"line":17,"column":0},"end":{"line":22,"column":2}},"9":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"10":{"start":{"line":19,"column":8},"end":{"line":19,"column":15}},"11":{"start":{"line":21,"column":4},"end":{"line":21,"column":30}},"12":{"start":{"line":24,"column":0},"end":{"line":24,"column":48}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"3":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":12}},{"start":{"line":18,"column":16},"end":{"line":18,"column":46}}]}},"code":["'use strict';","","module.exports = AttributeHook;","","function AttributeHook(value) {","    if (!(this instanceof AttributeHook)) {","        return new AttributeHook(value);","    }","    this.value = value;","}","","AttributeHook.prototype.hook = function (node, prop, prev) {","","    node.setAttribute(prop, this.value);","};","","AttributeHook.prototype.unhook = function (node, prop, next) {","    if (next && next._type === 'AttributeHook') {","        return;","    }","    node.removeAttribute(prop)","};","","AttributeHook.prototype._type = 'AttributeHook';",""],"l":{"3":1,"5":1,"6":0,"7":0,"9":0,"12":1,"14":0,"17":1,"18":0,"19":0,"21":0,"24":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/base-chunk.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/base-chunk.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":1,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"BaseChunk","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":52}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":69},"end":{"line":26,"column":95}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":18},"end":{"line":33,"column":34}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":35},"end":{"line":40,"column":52}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":31},"end":{"line":54,"column":45}}},"6":{"name":"(anonymous_6)","line":65,"loc":{"start":{"line":65,"column":19},"end":{"line":65,"column":35}}},"7":{"name":"(anonymous_7)","line":72,"loc":{"start":{"line":72,"column":14},"end":{"line":72,"column":32}}},"8":{"name":"(anonymous_8)","line":79,"loc":{"start":{"line":79,"column":16},"end":{"line":79,"column":28}}},"9":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":67},"end":{"line":83,"column":86}}},"10":{"name":"(anonymous_10)","line":98,"loc":{"start":{"line":98,"column":57},"end":{"line":98,"column":82}}},"11":{"name":"getGlobalId","line":106,"loc":{"start":{"line":106,"column":2},"end":{"line":106,"column":26}}},"12":{"name":"resolve","line":113,"loc":{"start":{"line":113,"column":0},"end":{"line":113,"column":23}}},"13":{"name":"chokeAll","line":117,"loc":{"start":{"line":117,"column":0},"end":{"line":117,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":44}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":26}},"12":{"start":{"line":14,"column":0},"end":{"line":111,"column":1}},"13":{"start":{"line":16,"column":2},"end":{"line":23,"column":22}},"14":{"start":{"line":25,"column":2},"end":{"line":29,"column":3}},"15":{"start":{"line":26,"column":4},"end":{"line":28,"column":6}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":30}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":23}},"18":{"start":{"line":33,"column":2},"end":{"line":63,"column":3}},"19":{"start":{"line":34,"column":4},"end":{"line":34,"column":41}},"20":{"start":{"line":35,"column":4},"end":{"line":35,"column":27}},"21":{"start":{"line":36,"column":4},"end":{"line":36,"column":36}},"22":{"start":{"line":38,"column":4},"end":{"line":46,"column":5}},"23":{"start":{"line":39,"column":6},"end":{"line":39,"column":46}},"24":{"start":{"line":40,"column":6},"end":{"line":45,"column":8}},"25":{"start":{"line":41,"column":8},"end":{"line":41,"column":38}},"26":{"start":{"line":42,"column":8},"end":{"line":44,"column":9}},"27":{"start":{"line":43,"column":10},"end":{"line":43,"column":28}},"28":{"start":{"line":48,"column":4},"end":{"line":50,"column":5}},"29":{"start":{"line":49,"column":6},"end":{"line":49,"column":23}},"30":{"start":{"line":52,"column":4},"end":{"line":62,"column":5}},"31":{"start":{"line":53,"column":6},"end":{"line":60,"column":7}},"32":{"start":{"line":54,"column":8},"end":{"line":59,"column":10}},"33":{"start":{"line":55,"column":10},"end":{"line":55,"column":52}},"34":{"start":{"line":56,"column":10},"end":{"line":58,"column":11}},"35":{"start":{"line":57,"column":12},"end":{"line":57,"column":50}},"36":{"start":{"line":61,"column":6},"end":{"line":61,"column":24}},"37":{"start":{"line":65,"column":2},"end":{"line":70,"column":3}},"38":{"start":{"line":66,"column":4},"end":{"line":66,"column":41}},"39":{"start":{"line":67,"column":4},"end":{"line":69,"column":5}},"40":{"start":{"line":68,"column":6},"end":{"line":68,"column":25}},"41":{"start":{"line":72,"column":2},"end":{"line":77,"column":3}},"42":{"start":{"line":73,"column":4},"end":{"line":73,"column":41}},"43":{"start":{"line":74,"column":4},"end":{"line":76,"column":5}},"44":{"start":{"line":75,"column":6},"end":{"line":75,"column":20}},"45":{"start":{"line":79,"column":2},"end":{"line":81,"column":3}},"46":{"start":{"line":80,"column":4},"end":{"line":80,"column":37}},"47":{"start":{"line":83,"column":2},"end":{"line":94,"column":4}},"48":{"start":{"line":84,"column":4},"end":{"line":84,"column":36}},"49":{"start":{"line":85,"column":4},"end":{"line":85,"column":19}},"50":{"start":{"line":86,"column":4},"end":{"line":92,"column":5}},"51":{"start":{"line":87,"column":6},"end":{"line":91,"column":7}},"52":{"start":{"line":88,"column":8},"end":{"line":88,"column":30}},"53":{"start":{"line":90,"column":8},"end":{"line":90,"column":25}},"54":{"start":{"line":93,"column":4},"end":{"line":93,"column":17}},"55":{"start":{"line":96,"column":2},"end":{"line":96,"column":59}},"56":{"start":{"line":98,"column":2},"end":{"line":100,"column":4}},"57":{"start":{"line":99,"column":4},"end":{"line":99,"column":54}},"58":{"start":{"line":102,"column":2},"end":{"line":102,"column":12}},"59":{"start":{"line":106,"column":2},"end":{"line":110,"column":3}},"60":{"start":{"line":107,"column":4},"end":{"line":109,"column":5}},"61":{"start":{"line":108,"column":6},"end":{"line":108,"column":32}},"62":{"start":{"line":113,"column":0},"end":{"line":115,"column":1}},"63":{"start":{"line":114,"column":2},"end":{"line":114,"column":48}},"64":{"start":{"line":117,"column":0},"end":{"line":125,"column":1}},"65":{"start":{"line":118,"column":2},"end":{"line":124,"column":3}},"66":{"start":{"line":119,"column":4},"end":{"line":119,"column":28}},"67":{"start":{"line":120,"column":4},"end":{"line":120,"column":36}},"68":{"start":{"line":121,"column":4},"end":{"line":123,"column":5}},"69":{"start":{"line":122,"column":6},"end":{"line":122,"column":31}}},"branchMap":{"1":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":4}},{"start":{"line":38,"column":4},"end":{"line":38,"column":4}}]},"3":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":19},"end":{"line":41,"column":29}},{"start":{"line":41,"column":33},"end":{"line":41,"column":38}}]},"4":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"5":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":12},"end":{"line":42,"column":16}},{"start":{"line":42,"column":20},"end":{"line":42,"column":32}},{"start":{"line":42,"column":36},"end":{"line":42,"column":75}}]},"6":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"8":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":10},"end":{"line":56,"column":10}},{"start":{"line":56,"column":10},"end":{"line":56,"column":10}}]},"10":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":23}},{"start":{"line":56,"column":27},"end":{"line":56,"column":45}},{"start":{"line":56,"column":49},"end":{"line":56,"column":93}}]},"11":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":27}},{"start":{"line":57,"column":31},"end":{"line":57,"column":50}}]},"12":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"13":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":4}},{"start":{"line":74,"column":4},"end":{"line":74,"column":4}}]},"14":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":8},"end":{"line":74,"column":12}},{"start":{"line":74,"column":16},"end":{"line":74,"column":26}}]},"15":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":6},"end":{"line":87,"column":6}},{"start":{"line":87,"column":6},"end":{"line":87,"column":6}}]},"16":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":10},"end":{"line":87,"column":32}},{"start":{"line":87,"column":37},"end":{"line":87,"column":41}},{"start":{"line":87,"column":45},"end":{"line":87,"column":69}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":4}},{"start":{"line":107,"column":4},"end":{"line":107,"column":4}}]},"18":{"line":114,"type":"cond-expr","locations":[{"start":{"line":114,"column":37},"end":{"line":114,"column":42}},{"start":{"line":114,"column":45},"end":{"line":114,"column":48}}]},"19":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":2},"end":{"line":118,"column":2}},{"start":{"line":118,"column":2},"end":{"line":118,"column":2}}]},"20":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":6},"end":{"line":118,"column":10}},{"start":{"line":118,"column":14},"end":{"line":118,"column":24}},{"start":{"line":118,"column":28},"end":{"line":118,"column":38}}]}},"code":["var ObservStruct = require('observ-struct')","var Observ = require('observ')","var Property = require('observ-default')","var ObservVarhash = require('observ-varhash')","var NodeArray = require('observ-node-array')","var ArrayGrid = require('array-grid')","var computed = require('observ/computed')","var nextTick = require('next-tick')","var deepEqual = require('deep-equal')","var extend = require('xtend/mutable')","","module.exports = BaseChunk","","function BaseChunk (context, extraProperties, opts) {","","  var obs = ObservStruct(extend({","    id: Observ(),","    shape: Property([1,4]),","    flags: Property([]),","    chokeAll: Property(false),","    chokeGroup: Property(),","    color: Property([255,255,255])","  }, extraProperties))","","  if (context.setup) {","    obs.selected = computed([obs.id, context.setup.selectedChunkId], function (id, selectedId) {","      return id === selectedId","    })","  }","","  obs.context = context","","  obs.triggerOn = function(id, at){","    var slot = context.slotLookup.get(id)","    var shape = obs.shape()","    var length = shape[0] * shape[1]","","    if (obs.chokeGroup()) {","      var chokeGroup = resolve(obs.chokeGroup)","      context.setup.chunks.forEach(function (chunk) {","        var node = chunk.node || chunk","        if (node && node !== obs && resolve(node.chokeGroup) === chokeGroup) {","          chokeAll(node, at)","        }","      })","    }","","    if (obs.chokeAll()) {","      chokeAll(obs, at)","    }","","    if (slot) {","      if (slot().chokeGroup) {","        obs.triggers().forEach(function (id) {","          var otherSlot = context.slotLookup.get(id)","          if (otherSlot && otherSlot !== slot && otherSlot().chokeGroup === slot().chokeGroup) {","            otherSlot.choke && otherSlot.choke(at)","          }","        })","      }","      slot.triggerOn(at)","    }","  }","","  obs.triggerOff = function(id, at){","    var slot = context.slotLookup.get(id)","    if (slot){","      slot.triggerOff(at)","    }","  }","","  obs.choke = function (id, at) {","    var slot = context.slotLookup.get(id)","    if (slot && slot.choke){","      slot.choke(at)","    }","  }","","  obs.getSlot = function(id){","    return context.slotLookup.get(id)","  }","","  obs.triggers = computed([obs.id, obs.shape, context.slotLookup], function(id, shape){","    var length = shape[0] * shape[1]","    var result = []","    for (var i=0;i<length;i++){","      if (obs.getSlot(String(i)) || (opts && opts.includedAllTriggers)) {","        result.push(String(i))","      } else {","        result.push(null)","      }","    }","    return result","  })","","  obs.grid = computed([obs.triggers, obs.shape], ArrayGrid)","","  obs.resolvedGrid = computed([obs.triggers, obs.shape], function(triggers, shape){","    return ArrayGrid(triggers.map(getGlobalId), shape)","  })","","  return obs","","  // scoped","","  function getGlobalId(id){","    if (id){","      return obs.id() + '/' + id","    }","  }","}","","function resolve (val) {","  return typeof val === 'function' ? val() : val","}","","function chokeAll(node, at) {","  if (node && node.shape && node.choke) {","    var shape = node.shape()","    var length = shape[0] * shape[1]","    for (var i = 0; i < length; i++) {","      node.choke(String(i), at)","    }","  }","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"14":1,"16":0,"25":0,"26":0,"27":0,"31":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"48":0,"49":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"61":0,"65":0,"66":0,"67":0,"68":0,"72":0,"73":0,"74":0,"75":0,"79":0,"80":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"90":0,"93":0,"96":0,"98":0,"99":0,"102":0,"106":1,"107":0,"108":0,"113":1,"114":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/cancel-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/cancel-event.js","s":{"1":1,"2":0,"3":0,"4":1,"5":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":41}}},"2":{"name":"handle","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":4,"column":3}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":17}},"4":{"start":{"line":8,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":9,"column":2},"end":{"line":9,"column":21}}},"branchMap":{},"code":["module.exports = function(fn, data, opts){","  var handler = {","    handleEvent: handle","  }","  return handler;","}","","function handle(ev){","  ev.preventDefault()","}"],"l":{"1":1,"2":0,"5":0,"8":1,"9":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/chain-scheduler.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/chain-scheduler.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":40}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":17},"end":{"line":17,"column":38}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":23},"end":{"line":19,"column":40}}},"4":{"name":"(anonymous_4)","line":38,"loc":{"start":{"line":38,"column":24},"end":{"line":38,"column":49}}},"5":{"name":"clearDiscarded","line":51,"loc":{"start":{"line":51,"column":2},"end":{"line":51,"column":29}}},"6":{"name":"disconnect","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":63,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":40}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":21}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":20}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":29}},"9":{"start":{"line":12,"column":2},"end":{"line":15,"column":19}},"10":{"start":{"line":17,"column":2},"end":{"line":46,"column":3}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":20}},"12":{"start":{"line":19,"column":4},"end":{"line":21,"column":6}},"13":{"start":{"line":20,"column":6},"end":{"line":20,"column":38}},"14":{"start":{"line":22,"column":4},"end":{"line":22,"column":36}},"15":{"start":{"line":24,"column":4},"end":{"line":24,"column":20}},"16":{"start":{"line":26,"column":4},"end":{"line":35,"column":5}},"17":{"start":{"line":27,"column":6},"end":{"line":34,"column":7}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":25}},"19":{"start":{"line":29,"column":8},"end":{"line":29,"column":45}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":41}},"21":{"start":{"line":31,"column":8},"end":{"line":31,"column":19}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":37}},"23":{"start":{"line":37,"column":4},"end":{"line":37,"column":19}},"24":{"start":{"line":38,"column":4},"end":{"line":45,"column":6}},"25":{"start":{"line":39,"column":6},"end":{"line":39,"column":44}},"26":{"start":{"line":40,"column":6},"end":{"line":40,"column":26}},"27":{"start":{"line":41,"column":6},"end":{"line":41,"column":26}},"28":{"start":{"line":42,"column":6},"end":{"line":42,"column":38}},"29":{"start":{"line":43,"column":6},"end":{"line":43,"column":27}},"30":{"start":{"line":44,"column":6},"end":{"line":44,"column":28}},"31":{"start":{"line":48,"column":2},"end":{"line":48,"column":21}},"32":{"start":{"line":49,"column":2},"end":{"line":49,"column":12}},"33":{"start":{"line":51,"column":2},"end":{"line":62,"column":3}},"34":{"start":{"line":52,"column":4},"end":{"line":52,"column":42}},"35":{"start":{"line":53,"column":4},"end":{"line":61,"column":5}},"36":{"start":{"line":54,"column":6},"end":{"line":54,"column":32}},"37":{"start":{"line":55,"column":6},"end":{"line":55,"column":34}},"38":{"start":{"line":57,"column":6},"end":{"line":60,"column":7}},"39":{"start":{"line":58,"column":8},"end":{"line":58,"column":34}},"40":{"start":{"line":59,"column":8},"end":{"line":59,"column":30}},"41":{"start":{"line":65,"column":0},"end":{"line":67,"column":1}},"42":{"start":{"line":66,"column":2},"end":{"line":66,"column":19}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":6}},{"start":{"line":27,"column":6},"end":{"line":27,"column":6}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":6}},{"start":{"line":57,"column":6},"end":{"line":57,"column":6}}]}},"code":["var RoutableSlot = require('audio-slot/routable')","var Property = require('observ-default')","","module.exports = function (context, id) {","","  var input = context.audio.createGain()","  var output = context.audio.createGain()","  var lastRoutes = []","  var discarded = []","  var connections = new Map()","","  var obs = RoutableSlot(context, {","    id: Property(id),","    output: Property('output')","  }, input, output)","","  obs.schedule = function (chain, at) {","    clearDiscarded()","    lastRoutes.forEach(function (route) {","      route.gain.setValueAtTime(0, at)","    })","    discarded.push([at, lastRoutes])","","    var last = input","","    for (var i = 0; i <= chain.length; i++) {","      if (i < chain.length) {","        var id = chain[i]","        var slot = context.slotLookup.get(id)","        connections.set(last, slot.input)","        last = slot","      } else {","        connections.set(last, output)","      }","    }","","    lastRoutes = []","    connections.forEach(function (output, input) {","      var route = context.audio.createGain()","      route.gain.value = 0","      input.connect(route)","      route.gain.setValueAtTime(1, at)","      route.connect(output)","      lastRoutes.push(route)","    })","  }","","  obs.schedule([], 0)","  return obs","","  function clearDiscarded () {","    var before = context.audio.currentTime","    for (var i = discarded.length - 1; i >= 0; i--) {","      var time = discarded[i][0]","      var routes = discarded[i][1]","","      if (time + 5 < before) {","        routes.forEach(disconnect)","        discarded.splice(i, 1)","      }","    }","  }","}","","function disconnect (item) {","  item.disconnect()","}",""],"l":{"1":1,"2":1,"4":1,"6":0,"7":0,"8":0,"9":0,"10":0,"12":0,"17":0,"18":0,"19":0,"20":0,"22":0,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"33":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"48":0,"49":0,"51":1,"52":0,"53":0,"54":0,"55":0,"57":0,"58":0,"59":0,"65":1,"66":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/computed-next-tick.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/computed-next-tick.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"computed","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":33},"end":{"line":7,"column":46}}},"3":{"name":"(anonymous_3)","line":14,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":44}}},"4":{"name":"(anonymous_4)","line":15,"loc":{"start":{"line":15,"column":10},"end":{"line":15,"column":30}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":20},"end":{"line":26,"column":30}}},"6":{"name":"(anonymous_6)","line":32,"loc":{"start":{"line":32,"column":25},"end":{"line":32,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":6,"column":0},"end":{"line":38,"column":1}},"5":{"start":{"line":7,"column":4},"end":{"line":9,"column":6}},"6":{"start":{"line":8,"column":8},"end":{"line":8,"column":18}},"7":{"start":{"line":11,"column":4},"end":{"line":11,"column":51}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":23}},"9":{"start":{"line":14,"column":4},"end":{"line":24,"column":6}},"10":{"start":{"line":15,"column":8},"end":{"line":23,"column":10}},"11":{"start":{"line":16,"column":12},"end":{"line":22,"column":13}},"12":{"start":{"line":17,"column":16},"end":{"line":17,"column":40}},"13":{"start":{"line":18,"column":16},"end":{"line":21,"column":17}},"14":{"start":{"line":19,"column":20},"end":{"line":19,"column":34}},"15":{"start":{"line":20,"column":20},"end":{"line":20,"column":48}},"16":{"start":{"line":26,"column":4},"end":{"line":30,"column":5}},"17":{"start":{"line":27,"column":8},"end":{"line":29,"column":9}},"18":{"start":{"line":28,"column":12},"end":{"line":28,"column":32}},"19":{"start":{"line":32,"column":4},"end":{"line":35,"column":5}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":23}},"21":{"start":{"line":34,"column":8},"end":{"line":34,"column":46}},"22":{"start":{"line":37,"column":4},"end":{"line":37,"column":17}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":12}},{"start":{"line":16,"column":12},"end":{"line":16,"column":12}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":16},"end":{"line":18,"column":16}},{"start":{"line":18,"column":16},"end":{"line":18,"column":16}}]},"3":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]}},"code":["var Observ = require('observ')","var nextTick = require('next-tick')","","module.exports = computed","","function computed(observables, lambda) {","    var values = observables.map(function (o) {","        return o()","    })","","    var result = Observ(lambda.apply(null, values))","    var pending = false","","    observables.forEach(function (o, index) {","        o(function (newValue) {","            if (values[index] !== newValue) {","                values[index] = newValue","                if (!pending){","                    pending = true","                    nextTick(result.forceUpdate)","                }","            }","        })","    })","","    result.update = function(){","        if (pending){","            result.forceUpdate()","        }","    }","","    result.forceUpdate = function(){","        pending = false","        result.set(lambda.apply(null, values))","    }","","    return result","}"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"26":0,"27":0,"28":0,"32":0,"33":0,"34":0,"37":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/context-menu.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/context-menu.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":20}}},"2":{"name":"(anonymous_2)","line":17,"loc":{"start":{"line":17,"column":39},"end":{"line":17,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":21}},"7":{"start":{"line":8,"column":0},"end":{"line":15,"column":3}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":72}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":72}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":57}},"11":{"start":{"line":17,"column":0},"end":{"line":21,"column":9}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":21}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"14":{"start":{"line":20,"column":2},"end":{"line":20,"column":48}}},"branchMap":{},"code":["var electron = require('electron')","var Menu = electron.remote.Menu","var MenuItem = electron.remote.MenuItem","var BrowserWindow = electron.remote.BrowserWindow","","var contextEvent = null","var menu = new Menu()","menu.append(new MenuItem({","  label: 'Inspect Element',","  click: function() {","    var x = Math.round(contextEvent.clientX * window.rootContext.zoom())","    var y = Math.round(contextEvent.clientY * window.rootContext.zoom())","    BrowserWindow.getFocusedWindow().inspectElement(x, y)","  }","}))","","window.addEventListener('contextmenu', function (e) {","  e.preventDefault();","  contextEvent = e","  menu.popup(electron.remote.getCurrentWindow())","}, false)",""],"l":{"1":2,"2":0,"3":0,"4":0,"6":0,"7":0,"8":0,"11":0,"12":0,"13":0,"17":0,"18":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/copy-file.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/copy-file.js","s":{"1":1,"2":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"copyFile","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":5,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":4,"column":21}}},"branchMap":{},"code":["module.exports = function copyFile (from, to, fs, cb) {","  fs.createReadStream(from).on('error', cb)","    .pipe(fs.createWriteStream(to)).on('error', cb)","    .on('finish', cb)","}"],"l":{"1":1,"2":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/data-transfer.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/data-transfer.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"6":{"start":{"line":8,"column":0},"end":{"line":15,"column":2}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"8":{"start":{"line":10,"column":2},"end":{"line":14,"column":4}}},"branchMap":{},"code":["var BaseEvent = require('value-event/base-event')","var Delegator = require('dom-delegator')","var DataSet = require('data-set')","","var delegator = Delegator()","delegator.listenTo('dragstart')","","module.exports = BaseEvent(function(ev, broadcast){","  var event = ev._rawEvent","  broadcast({","    data: this.data,","    dataTransfer: event.dataTransfer,","    preventDefault: event.preventDefault.bind(event)","  })","})",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"8":1,"9":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/destroy-all.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/destroy-all.js","s":{"1":1,"2":0,"3":0,"4":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":32}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":27},"end":{"line":2,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":6,"column":4}},"3":{"start":{"line":3,"column":4},"end":{"line":5,"column":5}},"4":{"start":{"line":4,"column":6},"end":{"line":4,"column":24}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":4}},{"start":{"line":3,"column":4},"end":{"line":3,"column":4}}]},"2":{"line":3,"type":"binary-expr","locations":[{"start":{"line":3,"column":8},"end":{"line":3,"column":16}},{"start":{"line":3,"column":20},"end":{"line":3,"column":58}}]}},"code":["module.exports = function (obs) {","  Object.keys(obs).forEach(function (key) {","    if (obs[key] && typeof obs[key].destroy === 'function') {","      obs[key].destroy()","    }","  })","}",""],"l":{"1":1,"2":0,"3":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/detect-peaks.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/detect-peaks.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":32}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":35}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":20},"end":{"line":24,"column":39}}},"5":{"name":"(anonymous_5)","line":27,"loc":{"start":{"line":27,"column":12},"end":{"line":27,"column":28}}},"6":{"name":"(anonymous_6)","line":29,"loc":{"start":{"line":29,"column":26},"end":{"line":29,"column":42}}},"7":{"name":"(anonymous_7)","line":31,"loc":{"start":{"line":31,"column":11},"end":{"line":31,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":14}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":39}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":31}},"8":{"start":{"line":12,"column":0},"end":{"line":44,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":27}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":51}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":41}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":43}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":49}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":47}},"16":{"start":{"line":22,"column":2},"end":{"line":34,"column":3}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":38}},"18":{"start":{"line":24,"column":4},"end":{"line":33,"column":7}},"19":{"start":{"line":25,"column":6},"end":{"line":25,"column":29}},"20":{"start":{"line":26,"column":6},"end":{"line":26,"column":71}},"21":{"start":{"line":28,"column":6},"end":{"line":28,"column":24}},"22":{"start":{"line":30,"column":6},"end":{"line":30,"column":24}},"23":{"start":{"line":32,"column":6},"end":{"line":32,"column":55}},"24":{"start":{"line":36,"column":2},"end":{"line":43,"column":4}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":11},"end":{"line":14,"column":17}},{"start":{"line":14,"column":21},"end":{"line":14,"column":27}}]},"3":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":13},"end":{"line":26,"column":26}},{"start":{"line":26,"column":31},"end":{"line":26,"column":36}},{"start":{"line":26,"column":40},"end":{"line":26,"column":70}}]}},"code":["var worker = new Worker('file://' + __dirname + '/worker/peaks.js')","var callbacks = {}","var nextId = 0","","worker.onmessage = function (e) {","  if (callbacks[e.data.id]) {","    callbacks[e.data.id](e.data.result)","    delete callbacks[e.data.id]","  }","}","","module.exports = function (data, count, offset, cb) {","  var id = nextId++","  offset = offset || [0, 1]","","  var range = (offset[1] - offset[0]) * data.length","  var step = Math.ceil(range / count / 2)","  var windowSize = Math.ceil(range / count)","  var start = Math.floor(offset[0] * data.length)","  var end = Math.floor(offset[1] * data.length)","","  callbacks[id] = function (peaks) {","    peaks = [[start, 1]].concat(peaks)","    cb(peaks.filter(function (peak, i) {","      var prev = peaks[i - 1]","      return peak[0] < end && (!prev || (peak[0] - prev[0]) > step / 4)","    }).sort(function (a, b) {","      return a[1] - b[1]","    }).slice(-count).sort(function (a, b) {","      return a[0] - b[0]","    }).map(function (item) {","      return Math.min(offset[1], item[0] / data.length)","    }))","  }","","  worker.postMessage({","    id: id,","    data: data,","    windowSize: windowSize,","    step: step,","    start: start,","    end: end","  })","}",""],"l":{"1":2,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"26":0,"28":0,"30":0,"32":0,"36":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/ditty-grid-stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/ditty-grid-stream.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"DittyGridStream","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":60}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":56},"end":{"line":11,"column":83}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":20},"end":{"line":16,"column":36}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":19},"end":{"line":48,"column":29}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":37},"end":{"line":50,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":59}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":62,"column":1}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":24}},"7":{"start":{"line":11,"column":2},"end":{"line":46,"column":4}},"8":{"start":{"line":13,"column":4},"end":{"line":14,"column":25}},"9":{"start":{"line":16,"column":4},"end":{"line":45,"column":6}},"10":{"start":{"line":17,"column":6},"end":{"line":17,"column":43}},"11":{"start":{"line":18,"column":6},"end":{"line":23,"column":7}},"12":{"start":{"line":19,"column":8},"end":{"line":19,"column":59}},"13":{"start":{"line":20,"column":8},"end":{"line":20,"column":64}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":36}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":29}},"16":{"start":{"line":25,"column":6},"end":{"line":44,"column":7}},"17":{"start":{"line":26,"column":8},"end":{"line":26,"column":58}},"18":{"start":{"line":27,"column":8},"end":{"line":43,"column":9}},"19":{"start":{"line":30,"column":10},"end":{"line":35,"column":12}},"20":{"start":{"line":38,"column":10},"end":{"line":41,"column":11}},"21":{"start":{"line":48,"column":2},"end":{"line":59,"column":3}},"22":{"start":{"line":49,"column":4},"end":{"line":58,"column":5}},"23":{"start":{"line":50,"column":6},"end":{"line":54,"column":8}},"24":{"start":{"line":51,"column":8},"end":{"line":53,"column":9}},"25":{"start":{"line":52,"column":10},"end":{"line":52,"column":38}},"26":{"start":{"line":55,"column":6},"end":{"line":55,"column":20}},"27":{"start":{"line":56,"column":6},"end":{"line":56,"column":22}},"28":{"start":{"line":57,"column":6},"end":{"line":57,"column":27}},"29":{"start":{"line":61,"column":2},"end":{"line":61,"column":15}}},"branchMap":{"1":{"line":13,"type":"cond-expr","locations":[{"start":{"line":14,"column":6},"end":{"line":14,"column":15}},{"start":{"line":14,"column":18},"end":{"line":14,"column":25}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":6}},{"start":{"line":18,"column":6},"end":{"line":18,"column":6}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":6}},{"start":{"line":25,"column":6},"end":{"line":25,"column":6}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"5":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"6":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]}},"code":["var Through = require('through')","var watchGridChanges = require('observ-grid/watch-changes')","","module.exports = DittyGridStream","","function DittyGridStream(observableGrid, mapping, scheduler){","","  var offEvents = {}","  var stream = Through()","","  var removeListener = watchGridChanges(observableGrid, function(changes, isRevert){","","    var resolvedMapping = typeof mapping === 'function' ?","      mapping() : mapping","","    changes.forEach(function(change){","      var key = change[0] + '/' + change[1]","      if (offEvents[key]){","        offEvents[key].time = scheduler.context.currentTime","        offEvents[key].position = scheduler.getCurrentPosition()","        stream.queue(offEvents[key])","        offEvents[key] = null","      }","","      if (change[2]){","        var id = resolvedMapping.get(change[0], change[1])","        if (id != null){","","          // send on event","          stream.queue({","            time: scheduler.context.currentTime,","            position: scheduler.getCurrentPosition(),","            id: id,","            event: 'start'","          })","","          // queue off event","          offEvents[key] = {","            id: id,","            event: 'stop'","          }","","        }","      }","    })","  })","","  stream.destroy = function(){","    if (removeListener){","      Object.keys(offEvents).forEach(function(key){","        if (offEvents[key]){","          stream.queue(offEvents[key])","        }","      })","      offEvents = {}","      removeListener()","      removeListener = null","    }","  }","","  return stream","}"],"l":{"1":1,"2":1,"4":1,"6":1,"8":0,"9":0,"11":0,"13":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"25":0,"26":0,"27":0,"30":0,"38":0,"48":0,"49":0,"50":0,"51":0,"52":0,"55":0,"56":0,"57":0,"61":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/dom-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/dom-event.js","s":{"1":1,"2":0,"3":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":8,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":6,"column":3}},"3":{"start":{"line":7,"column":2},"end":{"line":7,"column":17}}},"branchMap":{},"code":["module.exports = function(fn, data, opts){","  var handler = {","    handleEvent: fn,","    data: data,","    opts: opts","  }","  return handler;","}"],"l":{"1":1,"2":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/drag-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/drag-event.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":26}},"10":{"start":{"line":12,"column":0},"end":{"line":28,"column":2}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":26}},"12":{"start":{"line":14,"column":2},"end":{"line":27,"column":4}}},"branchMap":{},"code":["var BaseEvent = require('value-event/base-event')","var Delegator = require('dom-delegator')","","var delegator = Delegator()","delegator.listenTo('dragstart')","delegator.listenTo('dragend')","delegator.listenTo('dragover')","delegator.listenTo('dragenter')","delegator.listenTo('dragleave')","delegator.listenTo('drop')","","module.exports = BaseEvent(function(ev, broadcast){","  var event = ev._rawEvent","  broadcast({","    ctrlKey: event.ctrlKey,","    shiftKey: event.shiftKey,","    altKey: event.altKey,","    metaKey: event.metaKey,","","    dataTransfer: event.dataTransfer,","    currentTarget: ev.currentTarget,","","    preventDefault: ev.preventDefault,","    _rawEvent: event,","","    data: this.data","  })","})"],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/editable-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/editable-hook.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"EditableHook","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":30},"end":{"line":18,"column":59}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":15},"end":{"line":35,"column":26}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":32},"end":{"line":44,"column":58}}},"5":{"name":"(anonymous_5)","line":52,"loc":{"start":{"line":52,"column":30},"end":{"line":52,"column":40}}},"6":{"name":"(anonymous_6)","line":68,"loc":{"start":{"line":68,"column":32},"end":{"line":68,"column":42}}},"7":{"name":"handleEvent","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":23}}},"8":{"name":"selectInside","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":30}}},"9":{"name":"clearSelection","line":97,"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"3":{"start":{"line":5,"column":0},"end":{"line":16,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":89}},"5":{"start":{"line":6,"column":39},"end":{"line":6,"column":89}},"6":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":23}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":19}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":26}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":26}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":20}},"12":{"start":{"line":18,"column":0},"end":{"line":42,"column":1}},"13":{"start":{"line":19,"column":2},"end":{"line":32,"column":3}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":36}},"15":{"start":{"line":21,"column":4},"end":{"line":21,"column":29}},"16":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"17":{"start":{"line":28,"column":4},"end":{"line":28,"column":31}},"18":{"start":{"line":29,"column":4},"end":{"line":29,"column":39}},"19":{"start":{"line":30,"column":4},"end":{"line":30,"column":48}},"20":{"start":{"line":31,"column":4},"end":{"line":31,"column":51}},"21":{"start":{"line":34,"column":2},"end":{"line":39,"column":3}},"22":{"start":{"line":35,"column":4},"end":{"line":38,"column":10}},"23":{"start":{"line":36,"column":6},"end":{"line":36,"column":18}},"24":{"start":{"line":37,"column":6},"end":{"line":37,"column":24}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":18}},"26":{"start":{"line":44,"column":0},"end":{"line":50,"column":1}},"27":{"start":{"line":45,"column":2},"end":{"line":49,"column":3}},"28":{"start":{"line":46,"column":4},"end":{"line":46,"column":32}},"29":{"start":{"line":47,"column":4},"end":{"line":47,"column":51}},"30":{"start":{"line":48,"column":4},"end":{"line":48,"column":54}},"31":{"start":{"line":52,"column":0},"end":{"line":66,"column":1}},"32":{"start":{"line":54,"column":2},"end":{"line":54,"column":30}},"33":{"start":{"line":55,"column":2},"end":{"line":55,"column":24}},"34":{"start":{"line":56,"column":2},"end":{"line":56,"column":43}},"35":{"start":{"line":58,"column":2},"end":{"line":58,"column":28}},"36":{"start":{"line":60,"column":2},"end":{"line":60,"column":18}},"37":{"start":{"line":62,"column":2},"end":{"line":64,"column":3}},"38":{"start":{"line":63,"column":4},"end":{"line":63,"column":57}},"39":{"start":{"line":68,"column":0},"end":{"line":71,"column":1}},"40":{"start":{"line":69,"column":2},"end":{"line":69,"column":42}},"41":{"start":{"line":70,"column":2},"end":{"line":70,"column":18}},"42":{"start":{"line":73,"column":0},"end":{"line":87,"column":1}},"43":{"start":{"line":74,"column":2},"end":{"line":74,"column":22}},"44":{"start":{"line":75,"column":2},"end":{"line":86,"column":3}},"45":{"start":{"line":76,"column":4},"end":{"line":85,"column":5}},"46":{"start":{"line":77,"column":6},"end":{"line":82,"column":7}},"47":{"start":{"line":78,"column":8},"end":{"line":78,"column":19}},"48":{"start":{"line":79,"column":8},"end":{"line":79,"column":26}},"49":{"start":{"line":80,"column":13},"end":{"line":82,"column":7}},"50":{"start":{"line":81,"column":8},"end":{"line":81,"column":21}},"51":{"start":{"line":83,"column":11},"end":{"line":85,"column":5}},"52":{"start":{"line":84,"column":6},"end":{"line":84,"column":17}},"53":{"start":{"line":89,"column":0},"end":{"line":95,"column":1}},"54":{"start":{"line":90,"column":2},"end":{"line":90,"column":37}},"55":{"start":{"line":91,"column":2},"end":{"line":91,"column":36}},"56":{"start":{"line":92,"column":2},"end":{"line":92,"column":34}},"57":{"start":{"line":93,"column":2},"end":{"line":93,"column":24}},"58":{"start":{"line":94,"column":2},"end":{"line":94,"column":21}},"59":{"start":{"line":97,"column":0},"end":{"line":100,"column":1}},"60":{"start":{"line":98,"column":2},"end":{"line":98,"column":34}},"61":{"start":{"line":99,"column":2},"end":{"line":99,"column":24}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"5":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":19}},{"start":{"line":34,"column":23},"end":{"line":34,"column":54}}]},"6":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]},"8":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":4}},{"start":{"line":76,"column":4},"end":{"line":76,"column":4}}]},"10":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":6}},{"start":{"line":77,"column":6},"end":{"line":77,"column":6}}]},"11":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":13},"end":{"line":80,"column":13}},{"start":{"line":80,"column":13},"end":{"line":80,"column":13}}]},"12":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":11},"end":{"line":83,"column":11}},{"start":{"line":83,"column":11},"end":{"line":83,"column":11}}]}},"code":["var read = require('lib/read')","","module.exports = EditableHook","","function EditableHook(param, selected, onChange) {","  if (!(this instanceof EditableHook)) return new EditableHook(param, selected, onChange) ","","  if (typeof selected === 'function'){","    onChange = selected","    selected = null","  }","","  this.selected = selected","  this.onChange = onChange","  this.param = param","}","","EditableHook.prototype.hook = function(node, prop, current){","  if (current){","    this.listener = current.listener","    this.listener.hook = this","  } else {","","    this.listener = {","      handleEvent: handleEvent,","      hook: this","    }","    node.contentEditable = true","    node.textContent = read(this.param)","    node.addEventListener('blur', this.listener)","    node.addEventListener('keydown', this.listener)","  }","","  if (this.selected && document.activeElement !== node) {","    setTimeout(function() {","      node.focus()","      selectInside(node)","    }, 10)","  }","","  this.node = node","}","","EditableHook.prototype.unhook = function(node, prop, next){","  if (!next){","    node.contentEditable = false","    node.removeEventListener('blur', this.listener)","    node.removeEventListener('keydown', this.listener)","  }","}","","EditableHook.prototype.save = function(){","","  var value = read(this.param)","  this.lastValue = value","  this.value = this.node.textContent.trim()","","  this.param.set(this.value)","","  clearSelection()","","  if (this.onChange){","    this.onChange(this.lastValue, this.value, this.param)","  }","","}","","EditableHook.prototype.cancel = function(){","  this.node.textContent = read(this.param)","  clearSelection()","}","","function handleEvent(e){","  var hook = this.hook","  if (hook){","    if (e.type === 'keydown'){","      if (e.keyCode === 13){ // enter","        hook.save()","        e.preventDefault()","      } else if (e.keyCode === 27){ // esc","        hook.cancel()","      }","    } else if (e.type === 'blur'){","      hook.save()","    }","  }","}","","function selectInside(element){","  var range = document.createRange();","  range.selectNodeContents(element);","  var sel = window.getSelection();","  sel.removeAllRanges();","  sel.addRange(range)","}","","function clearSelection(){","  var sel = window.getSelection();","  sel.removeAllRanges();","}"],"l":{"1":1,"3":1,"5":1,"6":0,"8":0,"9":0,"10":0,"13":0,"14":0,"15":0,"18":1,"19":0,"20":0,"21":0,"24":0,"28":0,"29":0,"30":0,"31":0,"34":0,"35":0,"36":0,"37":0,"41":0,"44":1,"45":0,"46":0,"47":0,"48":0,"52":1,"54":0,"55":0,"56":0,"58":0,"60":0,"62":0,"63":0,"68":1,"69":0,"70":0,"73":1,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"83":0,"84":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"97":1,"98":0,"99":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/read.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/read.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":7,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":6,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":18}},"4":{"start":{"line":4,"column":9},"end":{"line":6,"column":3}},"5":{"start":{"line":5,"column":4},"end":{"line":5,"column":23}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":2},"end":{"line":2,"column":2}},{"start":{"line":2,"column":2},"end":{"line":2,"column":2}}]},"2":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":9},"end":{"line":4,"column":9}},{"start":{"line":4,"column":9},"end":{"line":4,"column":9}}]},"3":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":13},"end":{"line":4,"column":18}},{"start":{"line":4,"column":22},"end":{"line":4,"column":32}}]}},"code":["module.exports = function(param){","  if (typeof param == 'function'){","    return param()","  } else if (param && param.read){","    return param.read()","  }","}"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/file-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/file-event.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"FileEventHandler","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}}},"2":{"name":"handleEvent","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":11,"column":0},"end":{"line":14,"column":1}},"5":{"start":{"line":12,"column":2},"end":{"line":12,"column":39}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":16}}},"branchMap":{},"code":["module.exports = FileEventHandler","","function FileEventHandler(fn, data) {","  return {","    fn: fn,","    data: data,","    handleEvent: handleEvent","  }","}","","function handleEvent(ev) {","  var value = ev.currentTarget.files[0]","  this.fn(value)","}"],"l":{"1":1,"3":1,"4":0,"11":1,"12":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/file-object.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/file-object.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":1,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":1,"120":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0,0],"31":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"FileObject","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":34}}},"2":{"name":"(anonymous_2)","line":42,"loc":{"start":{"line":42,"column":6},"end":{"line":42,"column":20}}},"3":{"name":"(anonymous_3)","line":57,"loc":{"start":{"line":57,"column":22},"end":{"line":57,"column":41}}},"4":{"name":"updateNode","line":61,"loc":{"start":{"line":61,"column":2},"end":{"line":61,"column":27}}},"5":{"name":"(anonymous_5)","line":86,"loc":{"start":{"line":86,"column":37},"end":{"line":86,"column":51}}},"6":{"name":"(anonymous_6)","line":115,"loc":{"start":{"line":115,"column":21},"end":{"line":115,"column":40}}},"7":{"name":"(anonymous_7)","line":120,"loc":{"start":{"line":120,"column":21},"end":{"line":120,"column":40}}},"8":{"name":"(anonymous_8)","line":126,"loc":{"start":{"line":126,"column":20},"end":{"line":126,"column":33}}},"9":{"name":"(anonymous_9)","line":130,"loc":{"start":{"line":130,"column":17},"end":{"line":130,"column":31}}},"10":{"name":"(anonymous_10)","line":139,"loc":{"start":{"line":139,"column":13},"end":{"line":139,"column":27}}},"11":{"name":"(anonymous_11)","line":156,"loc":{"start":{"line":156,"column":14},"end":{"line":156,"column":24}}},"12":{"name":"onClose","line":162,"loc":{"start":{"line":162,"column":2},"end":{"line":162,"column":20}}},"13":{"name":"switchTo","line":177,"loc":{"start":{"line":177,"column":2},"end":{"line":177,"column":27}}},"14":{"name":"getNode","line":196,"loc":{"start":{"line":196,"column":2},"end":{"line":196,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":54}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":35}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":39}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":23}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}},"13":{"start":{"line":19,"column":0},"end":{"line":200,"column":1}},"14":{"start":{"line":21,"column":2},"end":{"line":21,"column":44}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":22}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":17}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":23}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":26}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":23}},"20":{"start":{"line":32,"column":2},"end":{"line":32,"column":21}},"21":{"start":{"line":33,"column":2},"end":{"line":33,"column":24}},"22":{"start":{"line":34,"column":2},"end":{"line":34,"column":28}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":28}},"24":{"start":{"line":36,"column":2},"end":{"line":36,"column":25}},"25":{"start":{"line":37,"column":2},"end":{"line":37,"column":41}},"26":{"start":{"line":39,"column":2},"end":{"line":39,"column":19}},"27":{"start":{"line":40,"column":2},"end":{"line":40,"column":17}},"28":{"start":{"line":42,"column":2},"end":{"line":54,"column":4}},"29":{"start":{"line":43,"column":4},"end":{"line":53,"column":5}},"30":{"start":{"line":44,"column":6},"end":{"line":44,"column":22}},"31":{"start":{"line":45,"column":11},"end":{"line":53,"column":5}},"32":{"start":{"line":48,"column":6},"end":{"line":50,"column":7}},"33":{"start":{"line":49,"column":8},"end":{"line":49,"column":24}},"34":{"start":{"line":52,"column":6},"end":{"line":52,"column":26}},"35":{"start":{"line":56,"column":2},"end":{"line":56,"column":27}},"36":{"start":{"line":57,"column":2},"end":{"line":59,"column":4}},"37":{"start":{"line":58,"column":4},"end":{"line":58,"column":30}},"38":{"start":{"line":61,"column":2},"end":{"line":112,"column":3}},"39":{"start":{"line":62,"column":4},"end":{"line":111,"column":5}},"40":{"start":{"line":63,"column":6},"end":{"line":63,"column":37}},"41":{"start":{"line":64,"column":6},"end":{"line":64,"column":33}},"42":{"start":{"line":65,"column":6},"end":{"line":65,"column":29}},"43":{"start":{"line":66,"column":6},"end":{"line":66,"column":32}},"44":{"start":{"line":68,"column":6},"end":{"line":97,"column":7}},"45":{"start":{"line":69,"column":8},"end":{"line":69,"column":54}},"46":{"start":{"line":71,"column":8},"end":{"line":76,"column":9}},"47":{"start":{"line":72,"column":10},"end":{"line":72,"column":27}},"48":{"start":{"line":73,"column":10},"end":{"line":73,"column":27}},"49":{"start":{"line":74,"column":10},"end":{"line":74,"column":48}},"50":{"start":{"line":75,"column":10},"end":{"line":75,"column":72}},"51":{"start":{"line":78,"column":8},"end":{"line":95,"column":9}},"52":{"start":{"line":79,"column":10},"end":{"line":79,"column":45}},"53":{"start":{"line":80,"column":10},"end":{"line":80,"column":37}},"54":{"start":{"line":82,"column":10},"end":{"line":84,"column":38}},"55":{"start":{"line":86,"column":10},"end":{"line":90,"column":12}},"56":{"start":{"line":87,"column":12},"end":{"line":89,"column":13}},"57":{"start":{"line":88,"column":14},"end":{"line":88,"column":27}},"58":{"start":{"line":91,"column":10},"end":{"line":91,"column":33}},"59":{"start":{"line":92,"column":15},"end":{"line":95,"column":9}},"60":{"start":{"line":93,"column":10},"end":{"line":93,"column":32}},"61":{"start":{"line":94,"column":10},"end":{"line":94,"column":29}},"62":{"start":{"line":99,"column":6},"end":{"line":103,"column":7}},"63":{"start":{"line":100,"column":8},"end":{"line":100,"column":33}},"64":{"start":{"line":101,"column":8},"end":{"line":101,"column":26}},"65":{"start":{"line":102,"column":8},"end":{"line":102,"column":43}},"66":{"start":{"line":105,"column":6},"end":{"line":105,"column":21}},"67":{"start":{"line":107,"column":6},"end":{"line":110,"column":7}},"68":{"start":{"line":108,"column":8},"end":{"line":108,"column":23}},"69":{"start":{"line":109,"column":8},"end":{"line":109,"column":25}},"70":{"start":{"line":114,"column":2},"end":{"line":114,"column":28}},"71":{"start":{"line":115,"column":2},"end":{"line":117,"column":4}},"72":{"start":{"line":116,"column":4},"end":{"line":116,"column":31}},"73":{"start":{"line":119,"column":2},"end":{"line":119,"column":26}},"74":{"start":{"line":120,"column":2},"end":{"line":122,"column":4}},"75":{"start":{"line":121,"column":4},"end":{"line":121,"column":29}},"76":{"start":{"line":124,"column":2},"end":{"line":124,"column":25}},"77":{"start":{"line":126,"column":2},"end":{"line":128,"column":3}},"78":{"start":{"line":127,"column":4},"end":{"line":127,"column":36}},"79":{"start":{"line":130,"column":2},"end":{"line":137,"column":3}},"80":{"start":{"line":131,"column":4},"end":{"line":131,"column":43}},"81":{"start":{"line":132,"column":4},"end":{"line":136,"column":5}},"82":{"start":{"line":133,"column":6},"end":{"line":133,"column":18}},"83":{"start":{"line":135,"column":6},"end":{"line":135,"column":25}},"84":{"start":{"line":139,"column":2},"end":{"line":154,"column":3}},"85":{"start":{"line":141,"column":4},"end":{"line":141,"column":32}},"86":{"start":{"line":143,"column":4},"end":{"line":153,"column":5}},"87":{"start":{"line":144,"column":6},"end":{"line":144,"column":20}},"88":{"start":{"line":145,"column":6},"end":{"line":145,"column":33}},"89":{"start":{"line":146,"column":6},"end":{"line":146,"column":30}},"90":{"start":{"line":147,"column":6},"end":{"line":147,"column":45}},"91":{"start":{"line":148,"column":6},"end":{"line":148,"column":46}},"92":{"start":{"line":149,"column":6},"end":{"line":149,"column":34}},"93":{"start":{"line":151,"column":6},"end":{"line":151,"column":21}},"94":{"start":{"line":152,"column":6},"end":{"line":152,"column":20}},"95":{"start":{"line":156,"column":2},"end":{"line":160,"column":3}},"96":{"start":{"line":157,"column":4},"end":{"line":159,"column":5}},"97":{"start":{"line":158,"column":6},"end":{"line":158,"column":22}},"98":{"start":{"line":162,"column":2},"end":{"line":171,"column":3}},"99":{"start":{"line":163,"column":4},"end":{"line":163,"column":32}},"100":{"start":{"line":164,"column":4},"end":{"line":164,"column":38}},"101":{"start":{"line":165,"column":4},"end":{"line":165,"column":38}},"102":{"start":{"line":166,"column":4},"end":{"line":166,"column":54}},"103":{"start":{"line":167,"column":4},"end":{"line":167,"column":55}},"104":{"start":{"line":168,"column":4},"end":{"line":168,"column":19}},"105":{"start":{"line":169,"column":4},"end":{"line":169,"column":18}},"106":{"start":{"line":170,"column":4},"end":{"line":170,"column":20}},"107":{"start":{"line":173,"column":2},"end":{"line":173,"column":12}},"108":{"start":{"line":177,"column":2},"end":{"line":194,"column":3}},"109":{"start":{"line":178,"column":4},"end":{"line":181,"column":5}},"110":{"start":{"line":179,"column":6},"end":{"line":179,"column":19}},"111":{"start":{"line":180,"column":6},"end":{"line":180,"column":24}},"112":{"start":{"line":183,"column":4},"end":{"line":186,"column":5}},"113":{"start":{"line":184,"column":6},"end":{"line":184,"column":26}},"114":{"start":{"line":185,"column":6},"end":{"line":185,"column":23}},"115":{"start":{"line":188,"column":4},"end":{"line":193,"column":5}},"116":{"start":{"line":189,"column":6},"end":{"line":189,"column":25}},"117":{"start":{"line":190,"column":6},"end":{"line":190,"column":71}},"118":{"start":{"line":192,"column":6},"end":{"line":192,"column":19}},"119":{"start":{"line":196,"column":2},"end":{"line":198,"column":3}},"120":{"start":{"line":197,"column":4},"end":{"line":197,"column":58}}},"branchMap":{"1":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]},"2":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":8},"end":{"line":43,"column":18}},{"start":{"line":43,"column":22},"end":{"line":43,"column":43}}]},"3":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":11},"end":{"line":45,"column":11}},{"start":{"line":45,"column":11},"end":{"line":45,"column":11}}]},"4":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":15},"end":{"line":45,"column":25}},{"start":{"line":45,"column":29},"end":{"line":45,"column":50}}]},"5":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":6},"end":{"line":48,"column":6}},{"start":{"line":48,"column":6},"end":{"line":48,"column":6}}]},"6":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"7":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":6}},{"start":{"line":68,"column":6},"end":{"line":68,"column":6}}]},"8":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":8},"end":{"line":71,"column":8}},{"start":{"line":71,"column":8},"end":{"line":71,"column":8}}]},"9":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":10},"end":{"line":74,"column":26}},{"start":{"line":74,"column":30},"end":{"line":74,"column":48}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"11":{"line":82,"type":"cond-expr","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":47}},{"start":{"line":84,"column":12},"end":{"line":84,"column":38}}]},"12":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":12},"end":{"line":87,"column":12}},{"start":{"line":87,"column":12},"end":{"line":87,"column":12}}]},"13":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":15},"end":{"line":92,"column":15}},{"start":{"line":92,"column":15},"end":{"line":92,"column":15}}]},"14":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":6},"end":{"line":99,"column":6}},{"start":{"line":99,"column":6},"end":{"line":99,"column":6}}]},"15":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":107,"column":6}},{"start":{"line":107,"column":6},"end":{"line":107,"column":6}}]},"16":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":10},"end":{"line":107,"column":14}},{"start":{"line":107,"column":18},"end":{"line":107,"column":25}}]},"17":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":4}},{"start":{"line":132,"column":4},"end":{"line":132,"column":4}}]},"18":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":16}},{"start":{"line":141,"column":18},"end":{"line":141,"column":32}}]},"19":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]},"20":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":4},"end":{"line":157,"column":4}},{"start":{"line":157,"column":4},"end":{"line":157,"column":4}}]},"21":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":8},"end":{"line":157,"column":16}},{"start":{"line":157,"column":18},"end":{"line":157,"column":32}}]},"22":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":16}},{"start":{"line":163,"column":18},"end":{"line":163,"column":32}}]},"23":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":19}},{"start":{"line":164,"column":21},"end":{"line":164,"column":38}}]},"24":{"line":165,"type":"binary-expr","locations":[{"start":{"line":165,"column":4},"end":{"line":165,"column":19}},{"start":{"line":165,"column":21},"end":{"line":165,"column":38}}]},"25":{"line":166,"type":"binary-expr","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":12}},{"start":{"line":166,"column":16},"end":{"line":166,"column":32}},{"start":{"line":166,"column":36},"end":{"line":166,"column":54}}]},"26":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":4},"end":{"line":178,"column":4}},{"start":{"line":178,"column":4},"end":{"line":178,"column":4}}]},"27":{"line":183,"type":"if","locations":[{"start":{"line":183,"column":4},"end":{"line":183,"column":4}},{"start":{"line":183,"column":4},"end":{"line":183,"column":4}}]},"28":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":4}},{"start":{"line":188,"column":4},"end":{"line":188,"column":4}}]},"29":{"line":190,"type":"cond-expr","locations":[{"start":{"line":190,"column":31},"end":{"line":190,"column":53}},{"start":{"line":190,"column":56},"end":{"line":190,"column":71}}]},"30":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":11},"end":{"line":197,"column":16}},{"start":{"line":197,"column":20},"end":{"line":197,"column":50}},{"start":{"line":197,"column":54},"end":{"line":197,"column":58}}]},"31":{"line":197,"type":"binary-expr","locations":[{"start":{"line":197,"column":26},"end":{"line":197,"column":41}},{"start":{"line":197,"column":43},"end":{"line":197,"column":49}}]}},"code":["var resolveNode = require('observ-node-array/resolve')","var deepEqual = require('deep-equal')","var getDirName = require('path').dirname","","var resolve = require('path').resolve","var relative = require('path').relative","","var Observ = require('observ')","var Event = require('geval')","var watch = require('observ/watch')","","var ObservFile = require('observ-fs/file')","var JsonFile = require('lib/json-file')","","var NO_TRANSACTION = {}","","module.exports = FileObject","","function FileObject(parentContext){","","  var context = Object.create(parentContext)","","  var obs = Observ({})","  obs.file = null","  obs.context = context","","  // add self to context","  context.fileObject = obs","","  var parsedFile = null","","  var loading = false","  var releaseFile = null","  var releaseInstance = null","  var releaseResolved = null","  var releaseClose = null","  var currentTransaction = NO_TRANSACTION","","  var lastData = {}","  obs.node = null","","  obs(function(data){","    if (parsedFile && data === parsedFile()){","      updateNode(data)","    } else if (parsedFile && data !== parsedFile()){","      // push update to file","","      if (getNode(lastData) !== getNode(data)){","        updateNode(data)","      }","","      parsedFile.set(data)","    }","  })","","  var broadcastClose = null","  obs.onClose = Event(function(broadcast){","    broadcastClose = broadcast","  })","","  function updateNode(data){","    if (data !== lastData){","      var oldNode = getNode(lastData)","      var newNode = getNode(data)","      var instance = obs.node","      var oldInstance = instance","","      if (oldNode !== newNode){","        var ctor = resolveNode(context.nodes, newNode)","","        if (instance){","          releaseResolved()","          releaseInstance()","          instance.destroy && instance.destroy()","          releaseResolved = releaseInstance = instance = obs.node = null","        }","","        if (ctor){","          instance = obs.node = ctor(context)","          instance.nodeName = newNode","","          releaseResolved = instance.resolved ?","            instance.resolved(obs.resolved.set) :","            instance(obs.resolved.set)","","          releaseInstance = instance(function(data){","            if (currentTransaction === NO_TRANSACTION){","              obs.set(data)","            }","          })","          broadcastNode(instance)","        } else if (oldInstance){","          obs.resolved.set(null)","          broadcastNode(null)","        }","","      }","","      if (instance){","        currentTransaction = data","        instance.set(data)","        currentTransaction = NO_TRANSACTION","      }","","      lastData = data","","      if (data && loading){","        loading = false","        broadcastLoaded() // hacky callback for onLoad","      }","    }","  }","","  var broadcastLoaded = null","  obs.onLoad = Event(function(broadcast){","    broadcastLoaded = broadcast","  })","","  var broadcastNode = null","  obs.onNode = Event(function(broadcast){","    broadcastNode = broadcast","  })","","  obs.resolved = Observ()","","  obs.resolvePath = function(src){","    return resolve(context.cwd, src)","  }","","  obs.relative = function(path){","    var value = relative(context.cwd, path)","    if (/^\\./.exec(value)){","      return value","    } else {","      return './' + value","    }","  }","","  obs.load = function(path){","","    releaseClose&&releaseClose()","","    if (path){","      loading = true","      obs.file = ObservFile(path)","      obs.path = obs.file.path","      context.cwd = getDirName(obs.file.path)","      releaseClose = obs.file.onClose(onClose)","      switchTo(JsonFile(obs.file))","    } else {","      obs.file = null","      switchTo(null)","    }","  }","","  obs.close = function(){","    if (obs.file&&obs.file.close){","      obs.file.close()","    }","  }","","  function onClose(){","    releaseClose&&releaseClose()","    releaseResolved&&releaseResolved()","    releaseInstance&&releaseInstance()","    obs.node && obs.node.destroy && obs.node.destroy()","    obs.node = releaseInstance = releaseResolved = null","    obs.file = null","    switchTo(null)","    broadcastClose()","  }","","  return obs","","  // scoped","","  function switchTo(target){","    if (releaseFile){","      releaseFile()","      releaseFile = null","    }","","    if (parsedFile){","      parsedFile.destroy()","      parsedFile = null","    }","","    if (target){","      parsedFile = target","      releaseFile = target() ? watch(target, obs.set) : target(obs.set)","    } else {","      obs.set(null)","    }","  }","","  function getNode(value){","    return value && value[context.nodeKey||'node'] || null","  }","","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"8":1,"9":1,"10":1,"12":1,"13":1,"15":1,"17":1,"19":1,"21":0,"23":0,"24":0,"25":0,"28":0,"30":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"39":0,"40":0,"42":0,"43":0,"44":0,"45":0,"48":0,"49":0,"52":0,"56":0,"57":0,"58":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"68":0,"69":0,"71":0,"72":0,"73":0,"74":0,"75":0,"78":0,"79":0,"80":0,"82":0,"86":0,"87":0,"88":0,"91":0,"92":0,"93":0,"94":0,"99":0,"100":0,"101":0,"102":0,"105":0,"107":0,"108":0,"109":0,"114":0,"115":0,"116":0,"119":0,"120":0,"121":0,"124":0,"126":0,"127":0,"130":0,"131":0,"132":0,"133":0,"135":0,"139":0,"141":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"151":0,"152":0,"156":0,"157":0,"158":0,"162":1,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"173":0,"177":1,"178":0,"179":0,"180":0,"183":0,"184":0,"185":0,"188":0,"189":0,"190":0,"192":0,"196":1,"197":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/json-file.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/json-file.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"JsonFile","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":23}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":34},"end":{"line":16,"column":49}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":46},"end":{"line":29,"column":62}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":26}}},"5":{"name":"tryParse","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":24}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":20}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":23}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":25}},"7":{"start":{"line":10,"column":0},"end":{"line":48,"column":1}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":22}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":41}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":25}},"12":{"start":{"line":16,"column":2},"end":{"line":27,"column":4}},"13":{"start":{"line":17,"column":4},"end":{"line":26,"column":5}},"14":{"start":{"line":18,"column":6},"end":{"line":18,"column":33}},"15":{"start":{"line":19,"column":6},"end":{"line":25,"column":7}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":24}},"17":{"start":{"line":21,"column":8},"end":{"line":21,"column":21}},"18":{"start":{"line":22,"column":8},"end":{"line":22,"column":33}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},"20":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"21":{"start":{"line":29,"column":2},"end":{"line":37,"column":4}},"22":{"start":{"line":30,"column":4},"end":{"line":36,"column":5}},"23":{"start":{"line":31,"column":6},"end":{"line":31,"column":38}},"24":{"start":{"line":32,"column":6},"end":{"line":35,"column":7}},"25":{"start":{"line":33,"column":8},"end":{"line":33,"column":25}},"26":{"start":{"line":34,"column":8},"end":{"line":34,"column":27}},"27":{"start":{"line":39,"column":2},"end":{"line":44,"column":3}},"28":{"start":{"line":40,"column":4},"end":{"line":40,"column":20}},"29":{"start":{"line":41,"column":4},"end":{"line":41,"column":19}},"30":{"start":{"line":42,"column":4},"end":{"line":42,"column":16}},"31":{"start":{"line":43,"column":4},"end":{"line":43,"column":17}},"32":{"start":{"line":46,"column":2},"end":{"line":46,"column":20}},"33":{"start":{"line":47,"column":2},"end":{"line":47,"column":12}},"34":{"start":{"line":50,"column":0},"end":{"line":56,"column":1}},"35":{"start":{"line":51,"column":2},"end":{"line":55,"column":3}},"36":{"start":{"line":52,"column":4},"end":{"line":52,"column":27}},"37":{"start":{"line":54,"column":4},"end":{"line":54,"column":22}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"3":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"4":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":35}},{"start":{"line":30,"column":39},"end":{"line":30,"column":50}}]},"5":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":6},"end":{"line":32,"column":6}},{"start":{"line":32,"column":6},"end":{"line":32,"column":6}}]}},"code":["var Observ = require('observ')","var watch = require('observ/watch')","var watchThrottle = require('throttle-observ/watch')","","var PARSE_ERROR = {}","var NO_TRANSACTION = {}","","module.exports = JsonFile","","function JsonFile(file){","  var obs = Observ()","  var lastSaved = null","  var currentTransaction = NO_TRANSACTION","  var initialized = false","","  var removeWatcher = watch(file, function(data) {","    if (lastSaved !== data){","      var parsed = tryParse(data)","      if (parsed !== PARSE_ERROR) {","        lastSaved = data","        data = parsed","        currentTransaction = data","        obs.set(data)","        currentTransaction = NO_TRANSACTION","      }","    }","  })","","  var removeListener = watchThrottle(obs, 40, function (data) {","    if (data !== currentTransaction && initialized) {","      var value = JSON.stringify(data)","      if (lastSaved !== value) {","        lastSaved = value","        file.set(lastSaved)","      }","    }","  })","","  obs.destroy = function(){","    removeListener()","    removeWatcher()","    file.close()","    obs.set(null)","  }","","  initialized = true","  return obs","}","","function tryParse(data) {","  try {","    return JSON.parse(data)","  } catch (ex) {","    return PARSE_ERROR","  }","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"8":1,"10":1,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"39":0,"40":0,"41":0,"42":0,"43":0,"46":0,"47":0,"50":1,"51":0,"52":0,"54":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/find-item-by-path.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/find-item-by-path.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"findItemByPath","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":36}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":15},"end":{"line":6,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":19}},"4":{"start":{"line":5,"column":2},"end":{"line":12,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":11,"column":6}},"6":{"start":{"line":7,"column":6},"end":{"line":10,"column":7}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":21}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":19}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":15}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":6},"end":{"line":7,"column":6}},{"start":{"line":7,"column":6},"end":{"line":7,"column":6}}]}},"code":["module.exports = findItemByPath","","function findItemByPath(items, path){","  var result = null","  if (items){","    items.some(function(item){","      if (item.path === path){","        result = item","        return true","      }","    })","  }","  return result","}"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/flag-param.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/flag-param.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"FlagParam","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":32}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":26},"end":{"line":12,"column":41}}},"3":{"name":"(anonymous_3)","line":31,"loc":{"start":{"line":31,"column":27},"end":{"line":31,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":26}},"3":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":70}},"5":{"start":{"line":6,"column":36},"end":{"line":6,"column":70}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":18}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":31}},"9":{"start":{"line":12,"column":0},"end":{"line":29,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":33}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":57}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":36}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":29}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":24}},"15":{"start":{"line":20,"column":2},"end":{"line":26,"column":3}},"16":{"start":{"line":21,"column":4},"end":{"line":25,"column":5}},"17":{"start":{"line":22,"column":6},"end":{"line":22,"column":25}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":26}},"19":{"start":{"line":28,"column":2},"end":{"line":28,"column":22}},"20":{"start":{"line":31,"column":0},"end":{"line":34,"column":1}},"21":{"start":{"line":32,"column":2},"end":{"line":32,"column":33}},"22":{"start":{"line":33,"column":2},"end":{"line":33,"column":71}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":37},"end":{"line":14,"column":52}},{"start":{"line":14,"column":55},"end":{"line":14,"column":57}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"5":{"line":33,"type":"cond-expr","locations":[{"start":{"line":33,"column":34},"end":{"line":33,"column":63}},{"start":{"line":33,"column":66},"end":{"line":33,"column":71}}]}},"code":["var read = require('lib/read')","","module.exports = FlagParam","","function FlagParam(target, flag){","  if (!(this instanceof FlagParam)) return new FlagParam(target, flag)","  this.target = target","  this.flag = flag","  this.context = target.context","}","","FlagParam.prototype.set = function(value){","  var current = read(this.target)","  var val = Array.isArray(current) ? current.slice() : []","","  var index = val.indexOf(this.flag)","  var currentState = !!~index","  var newState = !!value","","  if (newState !== currentState){","    if (newState){","      val.push(this.flag)","    } else {","      val.splice(index, 1)","    }","  }","","  this.target.set(val)","}","","FlagParam.prototype.read = function(){","  var current = read(this.target)","  return Array.isArray(current) ? !!~current.indexOf(this.flag) : false","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"16":0,"17":0,"18":0,"20":0,"21":0,"22":0,"24":0,"28":0,"31":1,"32":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/flash-array.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/flash-array.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":1,"23":0,"24":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"FlashArray","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":14},"end":{"line":10,"column":43}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":15},"end":{"line":16,"column":26}}},"4":{"name":"refresh","line":25,"loc":{"start":{"line":25,"column":2},"end":{"line":25,"column":22}}},"5":{"name":"refreshNow","line":32,"loc":{"start":{"line":32,"column":2},"end":{"line":32,"column":24}}},"6":{"name":"flatten","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":36,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":17}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":24}},"7":{"start":{"line":10,"column":2},"end":{"line":21,"column":3}},"8":{"start":{"line":12,"column":4},"end":{"line":12,"column":24}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":13}},"11":{"start":{"line":16,"column":4},"end":{"line":19,"column":16}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":43}},"13":{"start":{"line":18,"column":6},"end":{"line":18,"column":15}},"14":{"start":{"line":23,"column":2},"end":{"line":23,"column":12}},"15":{"start":{"line":25,"column":2},"end":{"line":30,"column":3}},"16":{"start":{"line":26,"column":4},"end":{"line":29,"column":5}},"17":{"start":{"line":27,"column":6},"end":{"line":27,"column":23}},"18":{"start":{"line":28,"column":6},"end":{"line":28,"column":46}},"19":{"start":{"line":32,"column":2},"end":{"line":35,"column":3}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":39}},"21":{"start":{"line":34,"column":4},"end":{"line":34,"column":22}},"22":{"start":{"line":38,"column":0},"end":{"line":41,"column":1}},"23":{"start":{"line":39,"column":2},"end":{"line":39,"column":25}},"24":{"start":{"line":40,"column":2},"end":{"line":40,"column":15}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]}},"code":["var Observ = require('observ')","","module.exports = FlashArray","","function FlashArray () {","  var obs = Observ([])","  var active = []","  var refreshing = false","","  obs.flash = function(i, value, duration) {","    ","    var obj = [i, value]","    active.push(obj)","    refresh()","","    setTimeout(function() {","      active.splice(active.indexOf(obj), 1)","      refresh()","    }, duration)","  ","  }","","  return obs","","  function refresh () {","    if (!refreshing) {","      refreshing = true","      window.requestAnimationFrame(refreshNow)","    }","  }","","  function refreshNow() {","    obs.set(active.reduce(flatten, []))","    refreshing = false","  }","}","","function flatten(result, obj) {","  result[obj[0]] = obj[1]","  return result","}"],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"10":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"23":0,"25":1,"26":0,"27":0,"28":0,"32":1,"33":0,"34":0,"38":1,"39":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/format-params.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/format-params.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":1,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":1,"211":0,"212":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":10},"end":{"line":9,"column":25}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":34}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":13},"end":{"line":15,"column":28}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":10},"end":{"line":21,"column":25}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":11},"end":{"line":24,"column":34}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":28}}},"7":{"name":"(anonymous_7)","line":33,"loc":{"start":{"line":33,"column":10},"end":{"line":33,"column":25}}},"8":{"name":"(anonymous_8)","line":36,"loc":{"start":{"line":36,"column":11},"end":{"line":36,"column":34}}},"9":{"name":"(anonymous_9)","line":39,"loc":{"start":{"line":39,"column":13},"end":{"line":39,"column":28}}},"10":{"name":"(anonymous_10)","line":45,"loc":{"start":{"line":45,"column":10},"end":{"line":45,"column":25}}},"11":{"name":"(anonymous_11)","line":48,"loc":{"start":{"line":48,"column":11},"end":{"line":48,"column":34}}},"12":{"name":"(anonymous_12)","line":51,"loc":{"start":{"line":51,"column":13},"end":{"line":51,"column":28}}},"13":{"name":"(anonymous_13)","line":57,"loc":{"start":{"line":57,"column":10},"end":{"line":57,"column":25}}},"14":{"name":"(anonymous_14)","line":60,"loc":{"start":{"line":60,"column":11},"end":{"line":60,"column":34}}},"15":{"name":"(anonymous_15)","line":63,"loc":{"start":{"line":63,"column":13},"end":{"line":63,"column":28}}},"16":{"name":"(anonymous_16)","line":73,"loc":{"start":{"line":73,"column":10},"end":{"line":73,"column":25}}},"17":{"name":"(anonymous_17)","line":82,"loc":{"start":{"line":82,"column":11},"end":{"line":82,"column":34}}},"18":{"name":"(anonymous_18)","line":97,"loc":{"start":{"line":97,"column":13},"end":{"line":97,"column":28}}},"19":{"name":"(anonymous_19)","line":107,"loc":{"start":{"line":107,"column":10},"end":{"line":107,"column":25}}},"20":{"name":"(anonymous_20)","line":110,"loc":{"start":{"line":110,"column":11},"end":{"line":110,"column":34}}},"21":{"name":"(anonymous_21)","line":113,"loc":{"start":{"line":113,"column":13},"end":{"line":113,"column":28}}},"22":{"name":"(anonymous_22)","line":119,"loc":{"start":{"line":119,"column":10},"end":{"line":119,"column":25}}},"23":{"name":"(anonymous_23)","line":122,"loc":{"start":{"line":122,"column":11},"end":{"line":122,"column":34}}},"24":{"name":"(anonymous_24)","line":125,"loc":{"start":{"line":125,"column":13},"end":{"line":125,"column":28}}},"25":{"name":"(anonymous_25)","line":131,"loc":{"start":{"line":131,"column":10},"end":{"line":131,"column":25}}},"26":{"name":"(anonymous_26)","line":134,"loc":{"start":{"line":134,"column":11},"end":{"line":134,"column":34}}},"27":{"name":"(anonymous_27)","line":151,"loc":{"start":{"line":151,"column":13},"end":{"line":151,"column":28}}},"28":{"name":"(anonymous_28)","line":161,"loc":{"start":{"line":161,"column":10},"end":{"line":161,"column":25}}},"29":{"name":"(anonymous_29)","line":164,"loc":{"start":{"line":164,"column":11},"end":{"line":164,"column":34}}},"30":{"name":"(anonymous_30)","line":172,"loc":{"start":{"line":172,"column":13},"end":{"line":172,"column":28}}},"31":{"name":"(anonymous_31)","line":183,"loc":{"start":{"line":183,"column":10},"end":{"line":183,"column":25}}},"32":{"name":"(anonymous_32)","line":186,"loc":{"start":{"line":186,"column":11},"end":{"line":186,"column":34}}},"33":{"name":"(anonymous_33)","line":194,"loc":{"start":{"line":194,"column":13},"end":{"line":194,"column":28}}},"34":{"name":"(anonymous_34)","line":205,"loc":{"start":{"line":205,"column":10},"end":{"line":205,"column":25}}},"35":{"name":"(anonymous_35)","line":208,"loc":{"start":{"line":208,"column":11},"end":{"line":208,"column":34}}},"36":{"name":"(anonymous_36)","line":212,"loc":{"start":{"line":212,"column":13},"end":{"line":212,"column":28}}},"37":{"name":"(anonymous_37)","line":223,"loc":{"start":{"line":223,"column":10},"end":{"line":223,"column":25}}},"38":{"name":"(anonymous_38)","line":226,"loc":{"start":{"line":226,"column":11},"end":{"line":226,"column":34}}},"39":{"name":"(anonymous_39)","line":229,"loc":{"start":{"line":229,"column":13},"end":{"line":229,"column":28}}},"40":{"name":"(anonymous_40)","line":239,"loc":{"start":{"line":239,"column":10},"end":{"line":239,"column":25}}},"41":{"name":"(anonymous_41)","line":242,"loc":{"start":{"line":242,"column":11},"end":{"line":242,"column":34}}},"42":{"name":"(anonymous_42)","line":245,"loc":{"start":{"line":245,"column":13},"end":{"line":245,"column":28}}},"43":{"name":"(anonymous_43)","line":255,"loc":{"start":{"line":255,"column":10},"end":{"line":255,"column":25}}},"44":{"name":"(anonymous_44)","line":258,"loc":{"start":{"line":258,"column":11},"end":{"line":258,"column":34}}},"45":{"name":"(anonymous_45)","line":261,"loc":{"start":{"line":261,"column":13},"end":{"line":261,"column":28}}},"46":{"name":"(anonymous_46)","line":271,"loc":{"start":{"line":271,"column":10},"end":{"line":271,"column":25}}},"47":{"name":"(anonymous_47)","line":274,"loc":{"start":{"line":274,"column":11},"end":{"line":274,"column":34}}},"48":{"name":"(anonymous_48)","line":277,"loc":{"start":{"line":277,"column":13},"end":{"line":277,"column":28}}},"49":{"name":"(anonymous_49)","line":283,"loc":{"start":{"line":283,"column":10},"end":{"line":283,"column":25}}},"50":{"name":"(anonymous_50)","line":286,"loc":{"start":{"line":286,"column":11},"end":{"line":286,"column":34}}},"51":{"name":"(anonymous_51)","line":289,"loc":{"start":{"line":289,"column":13},"end":{"line":289,"column":28}}},"52":{"name":"(anonymous_52)","line":299,"loc":{"start":{"line":299,"column":10},"end":{"line":299,"column":25}}},"53":{"name":"(anonymous_53)","line":302,"loc":{"start":{"line":302,"column":11},"end":{"line":302,"column":34}}},"54":{"name":"(anonymous_54)","line":305,"loc":{"start":{"line":305,"column":13},"end":{"line":305,"column":28}}},"55":{"name":"(anonymous_55)","line":315,"loc":{"start":{"line":315,"column":10},"end":{"line":315,"column":25}}},"56":{"name":"(anonymous_56)","line":318,"loc":{"start":{"line":318,"column":11},"end":{"line":318,"column":34}}},"57":{"name":"(anonymous_57)","line":321,"loc":{"start":{"line":321,"column":13},"end":{"line":321,"column":28}}},"58":{"name":"(anonymous_58)","line":331,"loc":{"start":{"line":331,"column":10},"end":{"line":331,"column":25}}},"59":{"name":"(anonymous_59)","line":334,"loc":{"start":{"line":334,"column":11},"end":{"line":334,"column":34}}},"60":{"name":"(anonymous_60)","line":337,"loc":{"start":{"line":337,"column":13},"end":{"line":337,"column":28}}},"61":{"name":"(anonymous_61)","line":343,"loc":{"start":{"line":343,"column":10},"end":{"line":343,"column":25}}},"62":{"name":"(anonymous_62)","line":346,"loc":{"start":{"line":346,"column":11},"end":{"line":346,"column":34}}},"63":{"name":"(anonymous_63)","line":349,"loc":{"start":{"line":349,"column":13},"end":{"line":349,"column":28}}},"64":{"name":"(anonymous_64)","line":355,"loc":{"start":{"line":355,"column":10},"end":{"line":355,"column":25}}},"65":{"name":"(anonymous_65)","line":358,"loc":{"start":{"line":358,"column":11},"end":{"line":358,"column":34}}},"66":{"name":"(anonymous_66)","line":361,"loc":{"start":{"line":361,"column":13},"end":{"line":361,"column":28}}},"67":{"name":"(anonymous_67)","line":367,"loc":{"start":{"line":367,"column":10},"end":{"line":367,"column":25}}},"68":{"name":"(anonymous_68)","line":370,"loc":{"start":{"line":370,"column":11},"end":{"line":370,"column":34}}},"69":{"name":"(anonymous_69)","line":373,"loc":{"start":{"line":373,"column":13},"end":{"line":373,"column":28}}},"70":{"name":"(anonymous_70)","line":379,"loc":{"start":{"line":379,"column":10},"end":{"line":379,"column":25}}},"71":{"name":"(anonymous_71)","line":382,"loc":{"start":{"line":382,"column":11},"end":{"line":382,"column":34}}},"72":{"name":"(anonymous_72)","line":385,"loc":{"start":{"line":385,"column":13},"end":{"line":385,"column":28}}},"73":{"name":"(anonymous_73)","line":391,"loc":{"start":{"line":391,"column":10},"end":{"line":391,"column":25}}},"74":{"name":"(anonymous_74)","line":394,"loc":{"start":{"line":394,"column":11},"end":{"line":394,"column":34}}},"75":{"name":"(anonymous_75)","line":397,"loc":{"start":{"line":397,"column":13},"end":{"line":397,"column":28}}},"76":{"name":"(anonymous_76)","line":403,"loc":{"start":{"line":403,"column":10},"end":{"line":403,"column":25}}},"77":{"name":"(anonymous_77)","line":406,"loc":{"start":{"line":406,"column":11},"end":{"line":406,"column":34}}},"78":{"name":"(anonymous_78)","line":409,"loc":{"start":{"line":409,"column":13},"end":{"line":409,"column":28}}},"79":{"name":"(anonymous_79)","line":415,"loc":{"start":{"line":415,"column":10},"end":{"line":415,"column":25}}},"80":{"name":"(anonymous_80)","line":418,"loc":{"start":{"line":418,"column":11},"end":{"line":418,"column":34}}},"81":{"name":"(anonymous_81)","line":426,"loc":{"start":{"line":426,"column":13},"end":{"line":426,"column":28}}},"82":{"name":"(anonymous_82)","line":436,"loc":{"start":{"line":436,"column":10},"end":{"line":436,"column":25}}},"83":{"name":"(anonymous_83)","line":442,"loc":{"start":{"line":442,"column":11},"end":{"line":442,"column":34}}},"84":{"name":"(anonymous_84)","line":451,"loc":{"start":{"line":451,"column":13},"end":{"line":451,"column":28}}},"85":{"name":"(anonymous_85)","line":462,"loc":{"start":{"line":462,"column":10},"end":{"line":462,"column":25}}},"86":{"name":"(anonymous_86)","line":465,"loc":{"start":{"line":465,"column":11},"end":{"line":465,"column":34}}},"87":{"name":"(anonymous_87)","line":468,"loc":{"start":{"line":468,"column":13},"end":{"line":468,"column":28}}},"88":{"name":"getRatio","line":474,"loc":{"start":{"line":474,"column":0},"end":{"line":474,"column":46}}},"89":{"name":"getValueFromScreen","line":502,"loc":{"start":{"line":502,"column":0},"end":{"line":502,"column":64}}},"90":{"name":"round","line":543,"loc":{"start":{"line":543,"column":0},"end":{"line":543,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":50}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":87}},"5":{"start":{"line":7,"column":0},"end":{"line":472,"column":1}},"6":{"start":{"line":10,"column":6},"end":{"line":10,"column":36}},"7":{"start":{"line":13,"column":6},"end":{"line":13,"column":54}},"8":{"start":{"line":16,"column":6},"end":{"line":16,"column":36}},"9":{"start":{"line":22,"column":6},"end":{"line":22,"column":36}},"10":{"start":{"line":25,"column":6},"end":{"line":25,"column":66}},"11":{"start":{"line":28,"column":6},"end":{"line":28,"column":26}},"12":{"start":{"line":34,"column":6},"end":{"line":34,"column":75}},"13":{"start":{"line":37,"column":6},"end":{"line":37,"column":93}},"14":{"start":{"line":40,"column":6},"end":{"line":40,"column":80}},"15":{"start":{"line":46,"column":6},"end":{"line":46,"column":37}},"16":{"start":{"line":49,"column":6},"end":{"line":49,"column":55}},"17":{"start":{"line":52,"column":6},"end":{"line":52,"column":74}},"18":{"start":{"line":58,"column":6},"end":{"line":58,"column":35}},"19":{"start":{"line":61,"column":6},"end":{"line":61,"column":90}},"20":{"start":{"line":64,"column":6},"end":{"line":68,"column":7}},"21":{"start":{"line":65,"column":8},"end":{"line":65,"column":44}},"22":{"start":{"line":67,"column":8},"end":{"line":67,"column":38}},"23":{"start":{"line":74,"column":6},"end":{"line":80,"column":7}},"24":{"start":{"line":75,"column":8},"end":{"line":75,"column":59}},"25":{"start":{"line":76,"column":13},"end":{"line":80,"column":7}},"26":{"start":{"line":77,"column":8},"end":{"line":77,"column":60}},"27":{"start":{"line":79,"column":8},"end":{"line":79,"column":18}},"28":{"start":{"line":83,"column":6},"end":{"line":83,"column":60}},"29":{"start":{"line":85,"column":6},"end":{"line":87,"column":101}},"30":{"start":{"line":89,"column":6},"end":{"line":95,"column":7}},"31":{"start":{"line":90,"column":8},"end":{"line":90,"column":42}},"32":{"start":{"line":91,"column":13},"end":{"line":95,"column":7}},"33":{"start":{"line":92,"column":8},"end":{"line":92,"column":27}},"34":{"start":{"line":94,"column":8},"end":{"line":94,"column":30}},"35":{"start":{"line":98,"column":6},"end":{"line":102,"column":7}},"36":{"start":{"line":99,"column":8},"end":{"line":99,"column":44}},"37":{"start":{"line":101,"column":8},"end":{"line":101,"column":38}},"38":{"start":{"line":108,"column":6},"end":{"line":108,"column":52}},"39":{"start":{"line":111,"column":6},"end":{"line":111,"column":69}},"40":{"start":{"line":114,"column":6},"end":{"line":114,"column":55}},"41":{"start":{"line":120,"column":6},"end":{"line":120,"column":34}},"42":{"start":{"line":123,"column":6},"end":{"line":123,"column":77}},"43":{"start":{"line":126,"column":6},"end":{"line":126,"column":26}},"44":{"start":{"line":132,"column":6},"end":{"line":132,"column":46}},"45":{"start":{"line":135,"column":6},"end":{"line":137,"column":7}},"46":{"start":{"line":136,"column":8},"end":{"line":136,"column":18}},"47":{"start":{"line":139,"column":6},"end":{"line":139,"column":69}},"48":{"start":{"line":141,"column":6},"end":{"line":149,"column":7}},"49":{"start":{"line":142,"column":8},"end":{"line":142,"column":32}},"50":{"start":{"line":143,"column":13},"end":{"line":149,"column":7}},"51":{"start":{"line":144,"column":8},"end":{"line":144,"column":40}},"52":{"start":{"line":145,"column":13},"end":{"line":149,"column":7}},"53":{"start":{"line":146,"column":8},"end":{"line":146,"column":44}},"54":{"start":{"line":148,"column":8},"end":{"line":148,"column":46}},"55":{"start":{"line":152,"column":6},"end":{"line":156,"column":7}},"56":{"start":{"line":153,"column":8},"end":{"line":153,"column":44}},"57":{"start":{"line":155,"column":8},"end":{"line":155,"column":35}},"58":{"start":{"line":162,"column":6},"end":{"line":162,"column":48}},"59":{"start":{"line":165,"column":6},"end":{"line":165,"column":84}},"60":{"start":{"line":166,"column":6},"end":{"line":170,"column":27}},"61":{"start":{"line":173,"column":6},"end":{"line":178,"column":7}},"62":{"start":{"line":174,"column":8},"end":{"line":174,"column":31}},"63":{"start":{"line":175,"column":8},"end":{"line":175,"column":32}},"64":{"start":{"line":177,"column":8},"end":{"line":177,"column":38}},"65":{"start":{"line":184,"column":6},"end":{"line":184,"column":48}},"66":{"start":{"line":187,"column":6},"end":{"line":187,"column":84}},"67":{"start":{"line":188,"column":6},"end":{"line":192,"column":27}},"68":{"start":{"line":195,"column":6},"end":{"line":200,"column":7}},"69":{"start":{"line":196,"column":8},"end":{"line":196,"column":31}},"70":{"start":{"line":197,"column":8},"end":{"line":197,"column":32}},"71":{"start":{"line":199,"column":8},"end":{"line":199,"column":38}},"72":{"start":{"line":206,"column":6},"end":{"line":206,"column":42}},"73":{"start":{"line":209,"column":6},"end":{"line":209,"column":81}},"74":{"start":{"line":210,"column":6},"end":{"line":210,"column":36}},"75":{"start":{"line":213,"column":6},"end":{"line":218,"column":7}},"76":{"start":{"line":214,"column":8},"end":{"line":214,"column":31}},"77":{"start":{"line":215,"column":8},"end":{"line":215,"column":32}},"78":{"start":{"line":217,"column":8},"end":{"line":217,"column":38}},"79":{"start":{"line":224,"column":6},"end":{"line":224,"column":39}},"80":{"start":{"line":227,"column":6},"end":{"line":227,"column":69}},"81":{"start":{"line":230,"column":6},"end":{"line":234,"column":7}},"82":{"start":{"line":231,"column":8},"end":{"line":231,"column":44}},"83":{"start":{"line":233,"column":8},"end":{"line":233,"column":38}},"84":{"start":{"line":240,"column":6},"end":{"line":240,"column":39}},"85":{"start":{"line":243,"column":6},"end":{"line":243,"column":69}},"86":{"start":{"line":246,"column":6},"end":{"line":250,"column":7}},"87":{"start":{"line":247,"column":8},"end":{"line":247,"column":44}},"88":{"start":{"line":249,"column":8},"end":{"line":249,"column":38}},"89":{"start":{"line":256,"column":6},"end":{"line":256,"column":37}},"90":{"start":{"line":259,"column":6},"end":{"line":259,"column":67}},"91":{"start":{"line":262,"column":6},"end":{"line":266,"column":7}},"92":{"start":{"line":263,"column":8},"end":{"line":263,"column":44}},"93":{"start":{"line":265,"column":8},"end":{"line":265,"column":38}},"94":{"start":{"line":272,"column":6},"end":{"line":272,"column":35}},"95":{"start":{"line":275,"column":6},"end":{"line":275,"column":65}},"96":{"start":{"line":278,"column":6},"end":{"line":278,"column":38}},"97":{"start":{"line":284,"column":6},"end":{"line":284,"column":37}},"98":{"start":{"line":287,"column":6},"end":{"line":287,"column":67}},"99":{"start":{"line":290,"column":6},"end":{"line":294,"column":7}},"100":{"start":{"line":291,"column":8},"end":{"line":291,"column":44}},"101":{"start":{"line":293,"column":8},"end":{"line":293,"column":38}},"102":{"start":{"line":300,"column":6},"end":{"line":300,"column":35}},"103":{"start":{"line":303,"column":6},"end":{"line":303,"column":65}},"104":{"start":{"line":306,"column":6},"end":{"line":310,"column":7}},"105":{"start":{"line":307,"column":8},"end":{"line":307,"column":44}},"106":{"start":{"line":309,"column":8},"end":{"line":309,"column":38}},"107":{"start":{"line":316,"column":6},"end":{"line":316,"column":41}},"108":{"start":{"line":319,"column":6},"end":{"line":319,"column":72}},"109":{"start":{"line":322,"column":6},"end":{"line":326,"column":7}},"110":{"start":{"line":323,"column":8},"end":{"line":323,"column":38}},"111":{"start":{"line":325,"column":8},"end":{"line":325,"column":38}},"112":{"start":{"line":332,"column":6},"end":{"line":332,"column":34}},"113":{"start":{"line":335,"column":6},"end":{"line":335,"column":78}},"114":{"start":{"line":338,"column":6},"end":{"line":338,"column":36}},"115":{"start":{"line":344,"column":6},"end":{"line":344,"column":45}},"116":{"start":{"line":347,"column":6},"end":{"line":347,"column":86}},"117":{"start":{"line":350,"column":6},"end":{"line":350,"column":36}},"118":{"start":{"line":356,"column":6},"end":{"line":356,"column":56}},"119":{"start":{"line":359,"column":6},"end":{"line":359,"column":88}},"120":{"start":{"line":362,"column":6},"end":{"line":362,"column":36}},"121":{"start":{"line":368,"column":6},"end":{"line":368,"column":35}},"122":{"start":{"line":371,"column":6},"end":{"line":371,"column":78}},"123":{"start":{"line":374,"column":6},"end":{"line":374,"column":36}},"124":{"start":{"line":380,"column":6},"end":{"line":380,"column":35}},"125":{"start":{"line":383,"column":6},"end":{"line":383,"column":78}},"126":{"start":{"line":386,"column":6},"end":{"line":386,"column":36}},"127":{"start":{"line":392,"column":6},"end":{"line":392,"column":44}},"128":{"start":{"line":395,"column":6},"end":{"line":395,"column":75}},"129":{"start":{"line":398,"column":6},"end":{"line":398,"column":36}},"130":{"start":{"line":404,"column":6},"end":{"line":404,"column":46}},"131":{"start":{"line":407,"column":6},"end":{"line":407,"column":77}},"132":{"start":{"line":410,"column":6},"end":{"line":410,"column":36}},"133":{"start":{"line":416,"column":6},"end":{"line":416,"column":47}},"134":{"start":{"line":419,"column":6},"end":{"line":419,"column":83}},"135":{"start":{"line":420,"column":6},"end":{"line":424,"column":7}},"136":{"start":{"line":421,"column":8},"end":{"line":421,"column":30}},"137":{"start":{"line":423,"column":8},"end":{"line":423,"column":30}},"138":{"start":{"line":427,"column":6},"end":{"line":431,"column":7}},"139":{"start":{"line":428,"column":8},"end":{"line":428,"column":36}},"140":{"start":{"line":430,"column":8},"end":{"line":430,"column":40}},"141":{"start":{"line":437,"column":6},"end":{"line":439,"column":7}},"142":{"start":{"line":438,"column":8},"end":{"line":438,"column":38}},"143":{"start":{"line":438,"column":33},"end":{"line":438,"column":38}},"144":{"start":{"line":440,"column":6},"end":{"line":440,"column":46}},"145":{"start":{"line":443,"column":6},"end":{"line":445,"column":7}},"146":{"start":{"line":444,"column":8},"end":{"line":444,"column":41}},"147":{"start":{"line":444,"column":36},"end":{"line":444,"column":41}},"148":{"start":{"line":447,"column":6},"end":{"line":447,"column":79}},"149":{"start":{"line":448,"column":6},"end":{"line":448,"column":57}},"150":{"start":{"line":449,"column":6},"end":{"line":449,"column":28}},"151":{"start":{"line":452,"column":6},"end":{"line":457,"column":7}},"152":{"start":{"line":453,"column":8},"end":{"line":453,"column":37}},"153":{"start":{"line":455,"column":8},"end":{"line":455,"column":31}},"154":{"start":{"line":456,"column":8},"end":{"line":456,"column":32}},"155":{"start":{"line":463,"column":6},"end":{"line":463,"column":47}},"156":{"start":{"line":466,"column":6},"end":{"line":466,"column":75}},"157":{"start":{"line":469,"column":6},"end":{"line":469,"column":37}},"158":{"start":{"line":474,"column":0},"end":{"line":500,"column":1}},"159":{"start":{"line":476,"column":2},"end":{"line":476,"column":16}},"160":{"start":{"line":478,"column":2},"end":{"line":494,"column":3}},"161":{"start":{"line":479,"column":4},"end":{"line":479,"column":40}},"162":{"start":{"line":480,"column":4},"end":{"line":480,"column":40}},"163":{"start":{"line":481,"column":4},"end":{"line":481,"column":44}},"164":{"start":{"line":482,"column":9},"end":{"line":494,"column":3}},"165":{"start":{"line":483,"column":4},"end":{"line":483,"column":42}},"166":{"start":{"line":484,"column":4},"end":{"line":484,"column":42}},"167":{"start":{"line":485,"column":4},"end":{"line":485,"column":46}},"168":{"start":{"line":486,"column":9},"end":{"line":494,"column":3}},"169":{"start":{"line":487,"column":4},"end":{"line":487,"column":29}},"170":{"start":{"line":488,"column":4},"end":{"line":488,"column":29}},"171":{"start":{"line":489,"column":4},"end":{"line":489,"column":33}},"172":{"start":{"line":490,"column":9},"end":{"line":494,"column":3}},"173":{"start":{"line":491,"column":4},"end":{"line":491,"column":34}},"174":{"start":{"line":492,"column":4},"end":{"line":492,"column":34}},"175":{"start":{"line":493,"column":4},"end":{"line":493,"column":38}},"176":{"start":{"line":496,"column":2},"end":{"line":496,"column":21}},"177":{"start":{"line":498,"column":2},"end":{"line":498,"column":23}},"178":{"start":{"line":499,"column":2},"end":{"line":499,"column":22}},"179":{"start":{"line":502,"column":0},"end":{"line":541,"column":1}},"180":{"start":{"line":503,"column":2},"end":{"line":503,"column":16}},"181":{"start":{"line":505,"column":2},"end":{"line":521,"column":3}},"182":{"start":{"line":506,"column":4},"end":{"line":506,"column":40}},"183":{"start":{"line":507,"column":4},"end":{"line":507,"column":40}},"184":{"start":{"line":508,"column":4},"end":{"line":508,"column":44}},"185":{"start":{"line":509,"column":9},"end":{"line":521,"column":3}},"186":{"start":{"line":510,"column":4},"end":{"line":510,"column":42}},"187":{"start":{"line":511,"column":4},"end":{"line":511,"column":42}},"188":{"start":{"line":512,"column":4},"end":{"line":512,"column":46}},"189":{"start":{"line":513,"column":9},"end":{"line":521,"column":3}},"190":{"start":{"line":514,"column":4},"end":{"line":514,"column":44}},"191":{"start":{"line":515,"column":4},"end":{"line":515,"column":29}},"192":{"start":{"line":516,"column":4},"end":{"line":516,"column":48}},"193":{"start":{"line":517,"column":9},"end":{"line":521,"column":3}},"194":{"start":{"line":518,"column":4},"end":{"line":518,"column":34}},"195":{"start":{"line":519,"column":4},"end":{"line":519,"column":34}},"196":{"start":{"line":520,"column":4},"end":{"line":520,"column":38}},"197":{"start":{"line":523,"column":2},"end":{"line":523,"column":21}},"198":{"start":{"line":525,"column":2},"end":{"line":525,"column":23}},"199":{"start":{"line":526,"column":2},"end":{"line":526,"column":38}},"200":{"start":{"line":528,"column":2},"end":{"line":538,"column":3}},"201":{"start":{"line":529,"column":4},"end":{"line":529,"column":43}},"202":{"start":{"line":530,"column":9},"end":{"line":538,"column":3}},"203":{"start":{"line":531,"column":4},"end":{"line":531,"column":49}},"204":{"start":{"line":532,"column":9},"end":{"line":538,"column":3}},"205":{"start":{"line":533,"column":4},"end":{"line":533,"column":39}},"206":{"start":{"line":534,"column":9},"end":{"line":538,"column":3}},"207":{"start":{"line":535,"column":4},"end":{"line":535,"column":34}},"208":{"start":{"line":537,"column":4},"end":{"line":537,"column":16}},"209":{"start":{"line":540,"column":2},"end":{"line":540,"column":14}},"210":{"start":{"line":543,"column":0},"end":{"line":546,"column":1}},"211":{"start":{"line":544,"column":2},"end":{"line":544,"column":33}},"212":{"start":{"line":545,"column":2},"end":{"line":545,"column":38}}},"branchMap":{"1":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":6}},{"start":{"line":64,"column":6},"end":{"line":64,"column":6}}]},"2":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":6}},{"start":{"line":74,"column":6},"end":{"line":74,"column":6}}]},"3":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":13},"end":{"line":76,"column":13}},{"start":{"line":76,"column":13},"end":{"line":76,"column":13}}]},"4":{"line":85,"type":"cond-expr","locations":[{"start":{"line":86,"column":8},"end":{"line":86,"column":80}},{"start":{"line":87,"column":8},"end":{"line":87,"column":101}}]},"5":{"line":87,"type":"cond-expr","locations":[{"start":{"line":87,"column":24},"end":{"line":87,"column":97}},{"start":{"line":87,"column":100},"end":{"line":87,"column":101}}]},"6":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":6},"end":{"line":89,"column":6}},{"start":{"line":89,"column":6},"end":{"line":89,"column":6}}]},"7":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":13},"end":{"line":91,"column":13}},{"start":{"line":91,"column":13},"end":{"line":91,"column":13}}]},"8":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":6},"end":{"line":98,"column":6}},{"start":{"line":98,"column":6},"end":{"line":98,"column":6}}]},"9":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":6}},{"start":{"line":135,"column":6},"end":{"line":135,"column":6}}]},"10":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":6}},{"start":{"line":141,"column":6},"end":{"line":141,"column":6}}]},"11":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":13},"end":{"line":143,"column":13}},{"start":{"line":143,"column":13},"end":{"line":143,"column":13}}]},"12":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":13},"end":{"line":145,"column":13}},{"start":{"line":145,"column":13},"end":{"line":145,"column":13}}]},"13":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":6}},{"start":{"line":152,"column":6},"end":{"line":152,"column":6}}]},"14":{"line":166,"type":"cond-expr","locations":[{"start":{"line":167,"column":8},"end":{"line":167,"column":31}},{"start":{"line":168,"column":8},"end":{"line":170,"column":27}}]},"15":{"line":168,"type":"cond-expr","locations":[{"start":{"line":169,"column":10},"end":{"line":169,"column":31}},{"start":{"line":170,"column":10},"end":{"line":170,"column":27}}]},"16":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":6},"end":{"line":173,"column":6}},{"start":{"line":173,"column":6},"end":{"line":173,"column":6}}]},"17":{"line":188,"type":"cond-expr","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":31}},{"start":{"line":190,"column":8},"end":{"line":192,"column":27}}]},"18":{"line":190,"type":"cond-expr","locations":[{"start":{"line":191,"column":10},"end":{"line":191,"column":31}},{"start":{"line":192,"column":10},"end":{"line":192,"column":27}}]},"19":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":6},"end":{"line":195,"column":6}},{"start":{"line":195,"column":6},"end":{"line":195,"column":6}}]},"20":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":6},"end":{"line":213,"column":6}},{"start":{"line":213,"column":6},"end":{"line":213,"column":6}}]},"21":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":6},"end":{"line":230,"column":6}},{"start":{"line":230,"column":6},"end":{"line":230,"column":6}}]},"22":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":6},"end":{"line":246,"column":6}},{"start":{"line":246,"column":6},"end":{"line":246,"column":6}}]},"23":{"line":262,"type":"if","locations":[{"start":{"line":262,"column":6},"end":{"line":262,"column":6}},{"start":{"line":262,"column":6},"end":{"line":262,"column":6}}]},"24":{"line":290,"type":"if","locations":[{"start":{"line":290,"column":6},"end":{"line":290,"column":6}},{"start":{"line":290,"column":6},"end":{"line":290,"column":6}}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":6},"end":{"line":306,"column":6}},{"start":{"line":306,"column":6},"end":{"line":306,"column":6}}]},"26":{"line":322,"type":"if","locations":[{"start":{"line":322,"column":6},"end":{"line":322,"column":6}},{"start":{"line":322,"column":6},"end":{"line":322,"column":6}}]},"27":{"line":420,"type":"if","locations":[{"start":{"line":420,"column":6},"end":{"line":420,"column":6}},{"start":{"line":420,"column":6},"end":{"line":420,"column":6}}]},"28":{"line":427,"type":"if","locations":[{"start":{"line":427,"column":6},"end":{"line":427,"column":6}},{"start":{"line":427,"column":6},"end":{"line":427,"column":6}}]},"29":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":8},"end":{"line":438,"column":8}},{"start":{"line":438,"column":8},"end":{"line":438,"column":8}}]},"30":{"line":444,"type":"if","locations":[{"start":{"line":444,"column":8},"end":{"line":444,"column":8}},{"start":{"line":444,"column":8},"end":{"line":444,"column":8}}]},"31":{"line":452,"type":"if","locations":[{"start":{"line":452,"column":6},"end":{"line":452,"column":6}},{"start":{"line":452,"column":6},"end":{"line":452,"column":6}}]},"32":{"line":476,"type":"binary-expr","locations":[{"start":{"line":476,"column":8},"end":{"line":476,"column":11}},{"start":{"line":476,"column":15},"end":{"line":476,"column":16}}]},"33":{"line":478,"type":"if","locations":[{"start":{"line":478,"column":2},"end":{"line":478,"column":2}},{"start":{"line":478,"column":2},"end":{"line":478,"column":2}}]},"34":{"line":482,"type":"if","locations":[{"start":{"line":482,"column":9},"end":{"line":482,"column":9}},{"start":{"line":482,"column":9},"end":{"line":482,"column":9}}]},"35":{"line":486,"type":"if","locations":[{"start":{"line":486,"column":9},"end":{"line":486,"column":9}},{"start":{"line":486,"column":9},"end":{"line":486,"column":9}}]},"36":{"line":490,"type":"if","locations":[{"start":{"line":490,"column":9},"end":{"line":490,"column":9}},{"start":{"line":490,"column":9},"end":{"line":490,"column":9}}]},"37":{"line":503,"type":"binary-expr","locations":[{"start":{"line":503,"column":8},"end":{"line":503,"column":11}},{"start":{"line":503,"column":15},"end":{"line":503,"column":16}}]},"38":{"line":505,"type":"if","locations":[{"start":{"line":505,"column":2},"end":{"line":505,"column":2}},{"start":{"line":505,"column":2},"end":{"line":505,"column":2}}]},"39":{"line":509,"type":"if","locations":[{"start":{"line":509,"column":9},"end":{"line":509,"column":9}},{"start":{"line":509,"column":9},"end":{"line":509,"column":9}}]},"40":{"line":513,"type":"if","locations":[{"start":{"line":513,"column":9},"end":{"line":513,"column":9}},{"start":{"line":513,"column":9},"end":{"line":513,"column":9}}]},"41":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":9},"end":{"line":517,"column":9}},{"start":{"line":517,"column":9},"end":{"line":517,"column":9}}]},"42":{"line":528,"type":"if","locations":[{"start":{"line":528,"column":2},"end":{"line":528,"column":2}},{"start":{"line":528,"column":2},"end":{"line":528,"column":2}}]},"43":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":9},"end":{"line":530,"column":9}},{"start":{"line":530,"column":9},"end":{"line":530,"column":9}}]},"44":{"line":532,"type":"if","locations":[{"start":{"line":532,"column":9},"end":{"line":532,"column":9}},{"start":{"line":532,"column":9},"end":{"line":532,"column":9}}]},"45":{"line":534,"type":"if","locations":[{"start":{"line":534,"column":9},"end":{"line":534,"column":9}},{"start":{"line":534,"column":9},"end":{"line":534,"column":9}}]},"46":{"line":544,"type":"binary-expr","locations":[{"start":{"line":544,"column":25},"end":{"line":544,"column":27}},{"start":{"line":544,"column":31},"end":{"line":544,"column":32}}]}},"code":["var gainToDecibels = require('decibels/from-gain')","var decibelsToGain = require('decibels/to-gain')","","var frac = require('frac')","var beatValues = [1/16, 1/12, 1/8, 1/6, 1/4, 1/3, 3/8, 1/2, 2/3, 3/4, 1, 2, 3, 4, 6, 8]","","module.exports = {","  'default': {","    size: function(value){","      return getRatio(value, 0, 100)","    },","    value: function(offset, start){","      return getValueFromScreen(offset, start, 0, 100)","    },","    display: function(value){","      return String(round(value, 2))","    }","  },","","  'midi': {","    size: function(value){","      return getRatio(value, 0, 127)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, 0, 127))","    },","    display: function(value){","      return String(value)","    }","  },","","  'dB': {","    size: function(value){","      return getRatio(value, decibelsToGain(-20), decibelsToGain(20), 'db')","    },","    value: function(offset, start){","      return getValueFromScreen(offset, start, decibelsToGain(-20), decibelsToGain(20), 'db')","    },","    display: function(value){","      return String(gainToDecibels(value)).replace(/Infinity/, \"\\u221e\") + ' dB'","    }","  },","","  'dBn': {","    size: function(value){","      return getRatio(value, -50, 20)","    },","    value: function(offset, start){","      return getValueFromScreen(offset, start, -50, 20)","    },","    display: function(value){","      return String(round(value, 1)).replace(/Infinity/, \"\\u221e\") + ' dB'","    }","  },","","  'offset1': {","    size: function(value){","      return getRatio(value, -1, 1)","    },","    value: function(offset, start){","      return Math.min(1, Math.max(-1, round(getValueFromScreen(offset, start, -1, 1), 2)))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'offset': {","    size: function(value){","      if (value > 0){","        return 0.5 + getRatio(value, 0, 20, 'log+', 20) / 2","      } else if (value < 0){","        return 0.5 - getRatio(-value, 0, 20, 'log+', 20) / 2","      } else {","        return 0.5","      }","    },","    value: function(offset, start){","      var ratio = module.exports.offset.size(start) + offset","","      var value = ratio > 0.5 ?","        Math.max(0, getValueFromScreen((ratio - 0.5) * 2, 0, 0, 20, 'log+', 20)) :","        (ratio < 0.5) ? -Math.max(0, getValueFromScreen((0.5 - ratio) * 2, 0, 0, 20, 'log+', 20)) : 0","","      if (Math.abs(value) > 100){","        return Math.round(value / 10) * 10","      } else if (Math.abs(value) > 1){","        return round(value)","      } else {","        return round(value, 2)","      }","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'sampleRatio': {","    size: function(value){","      return module.exports.arfo.size(value * 48000)","    },","    value: function(offset, start){","      return module.exports.arfo.value(offset, start * 48000) / 48000","    },","    display: function(value){","      return module.exports.arfo.display(value * 48000)","    }","  },","","  'bit': {","    size: function(value){","      return getRatio(value, 1, 8)","    },","    value: function(offset, start){","      return Math.max(1, Math.round(getValueFromScreen(offset, start, 1, 8)))","    },","    display: function(value){","      return String(value)","    }","  },","","  'arfo': {","    size: function(value){","      return getRatio(value, 20, 20000, 'log')","    },","    value: function(offset, start){","      if (!start){","        start = 20","      }","","      var value = getValueFromScreen(offset, start, 20, 20000, 'log')","","      if (value < 100){","        return Math.round(value)","      } else if (value < 1000) {","        return Math.round(value / 5) * 5","      } else if (value < 10000) {","        return Math.round(value / 100) * 100","      } else {","        return Math.round(value / 1000) * 1000","      }","    },","    display: function(value){","      if (value > 1000){","        return round(value/1000, 2) + ' kHz'","      } else {","        return round(value) + ' hz'","      }","    }","  },","","  'lfo': {","    size: function(value){","      return getRatio(value, 1/24, 24, 'exp', 2)","    },","    value: function(offset, start){","      var value = Math.max(1/24, getValueFromScreen(offset, start, 0, 24, 'exp', 2))","      return value < 1 ?","        Math.round(value*24)/24 :","        value < 2 ?","          Math.round(value*6)/6 :","          Math.round(value)","    },","    display: function(value){","      if (value < 1){","        var f = frac(value, 24)","        return f[1] + '/' + f[2]","      } else {","        return round(value, 2) + ' Hz'","      }","    }","  },","","  'beats': {","    size: function(value){","      return getRatio(value, 1/24, 24, 'exp', 2)","    },","    value: function(offset, start){","      var value = Math.max(1/24, getValueFromScreen(offset, start, 0, 24, 'exp', 2))","      return value < 1 ?","        Math.round(value*24)/24 :","        value < 2 ?","          Math.round(value*6)/6 :","          Math.round(value)","    },","    display: function(value){","      if (value < 1){","        var f = frac(value, 24)","        return f[1] + '/' + f[2]","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'beats2': {","    size: function(value){","      return getRatio(value, 0, 32, 'exp')","    },","    value: function(offset, start){","      var value = Math.max(1/24, getValueFromScreen(offset, start, 0, 32, 'exp'))","      return Math.round(value*12)/12","    },","    display: function(value){","      if (value < 1){","        var f = frac(value, 24)","        return f[1] + '/' + f[2]","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'cents': {","    size: function(value){","      return getRatio(value, -100, 100)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, -100, 100))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'cents+': {","    size: function(value){","      return getRatio(value, -600, 600)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, -600, 600))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'semitoneUp': {","    size: function(value){","      return getRatio(value, -24, 60)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, -24, 60))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'beatOffset': {","    size: function(value){","      return getRatio(value, 0, 32)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, 0, 32))","    },","    display: function(value){","      return String(Math.round(value))","    }","  },","","  'semitone': {","    size: function(value){","      return getRatio(value, -48, 48)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, -48, 48))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'octave': {","    size: function(value){","      return getRatio(value, -6, 6)","    },","    value: function(offset, start){","      return Math.round(getValueFromScreen(offset, start, -6, 6))","    },","    display: function(value){","      if (value > 0){","        return '+' + String(round(value, 2))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'ratio': {","    size: function(value){","      return getRatio(value, 0, 2, 'exp')","    },","    value: function(offset, start){","      return Math.max(0, getValueFromScreen(offset, start, 0, 2, 'exp'))","    },","    display: function(value){","      if (value < 1.1){","        return String(round(value, 3))","      } else {","        return String(round(value, 2))","      }","    }","  },","","  'ratio1': {","    size: function(value){","      return getRatio(value, 0, 1)","    },","    value: function(offset, start){","      return Math.min(Math.max(0, getValueFromScreen(offset, start, 0, 1)), 1)","    },","    display: function(value){","      return String(round(value, 2))","    }","  },","","  'ratioExp': {","    size: function(value){","      return getRatio(value, 0, 32, 'exp', 2)","    },","    value: function(offset, start){","      return Math.max(0, round(getValueFromScreen(offset, start, 0, 32, 'exp', 3), 2))","    },","    display: function(value){","      return String(round(value, 2))","    }","  },","","  'ratio1Log': {","    size: function(value){","      return 1-getRatio(1-value, 0.0001, 1, 'log+', 100)","    },","    value: function(offset, start){","      return Math.max(0, 1-getValueFromScreen(-offset, 1-start, 0.0001, 1, 'log+', 100))","    },","    display: function(value){","      return String(round(value, 3))","    }","  },","","  'compressionRatio': {","    size: function(value){","      return getRatio(value, 1, 20)","    },","    value: function(offset, start){","      return Math.max(1, Math.round(getValueFromScreen(offset, start, 1, 20)))","    },","    display: function(value){","      return String(round(value, 1))","    }","  },","","  'ratio32': {","    size: function(value){","      return getRatio(value, 0, 32)","    },","    value: function(offset, start){","      return Math.max(0, Math.round(getValueFromScreen(offset, start, 0, 32)))","    },","    display: function(value){","      return String(round(value, 0))","    }","  },","","  'ratio100': {","    size: function(value){","      return getRatio(value, 0, 100, 'log+')","    },","    value: function(offset, start){","      return Math.max(0, getValueFromScreen(offset, start, 0, 100, 'log+'))","    },","    display: function(value){","      return String(round(value, 2))","    }","  },","","  'bigRatio': {","    size: function(value){","      return getRatio(value, 0, 10000, 'log+')","    },","    value: function(offset, start){","      return Math.max(0, getValueFromScreen(offset, start, 0, 10000, 'log+'))","    },","    display: function(value){","      return String(round(value, 2))","    }","  },","","  'ms': {","    size: function(value){","      return getRatio(value, 0, 30, 'log+', 20)","    },","    value: function(offset, start){","      var value = Math.max(0, getValueFromScreen(offset, start, 0, 30, 'log+', 20))","      if (value < 1){","        return round(value, 3)","      } else {","        return round(value, 1)","      }","    },","    display: function(value){","      if (value >= 1){","        return round(value,1) + ' s'","      } else {","        return round(value*1000) + ' ms'","      }","    }","  },","","  'beat': {","    size: function(value){","      for (var i=0;i<beatValues.length;i++){","        if (beatValues[i]>value) break","      }","      return getRatio(i, 0, beatValues.length)","    },","    value: function(offset, start){","      for (var i=0;i<beatValues.length;i++){","        if (beatValues[i] >= start) break","      }","","      var val = Math.round(getValueFromScreen(offset, i, 0, beatValues.length))","      val = Math.min(Math.max(val, 0), beatValues.length)","      return beatValues[val]","    },","    display: function(value){","      if (value >= 1){","        return String(round(value,1))","      } else {","        var f = frac(value, 32)","        return f[1] + '/' + f[2]","      }","    }","  },","","  'bpm': {","    size: function(value){","      return round(getRatio(value, 50, 180), 2)","    },","    value: function(offset, start){","      return Math.max(0, round(getValueFromScreen(offset, start, 50, 180)))","    },","    display: function(value){","      return round(value, 2) + ' bpm'","    }","  }","}","","function getRatio(value, min, max, curve, mag){","","  mag = mag || 1","","  if (curve === 'log'){","    min = Math.log(min*mag)/Math.log(10)","    max = Math.log(max*mag)/Math.log(10)","    value = Math.log(value*mag)/Math.log(10)","  } else if (curve === 'log+'){","    min = Math.log(min*mag+1)/Math.log(10)","    max = Math.log(max*mag+1)/Math.log(10)","    value = Math.log(value*mag+1)/Math.log(10)","  } else if (curve === 'db'){","    min = gainToDecibels(min)","    max = gainToDecibels(max)","    value = gainToDecibels(value)","  } else if (curve === 'exp'){","    min = Math.pow(min, 1/(2*mag))","    max = Math.pow(max, 1/(2*mag))","    value = Math.pow(value, 1/(2*mag))","  }","","  value = value - min","","  var range = max - min","  return value / range","}","","function getValueFromScreen(offset, start, min, max, curve, mag){","  mag = mag || 1","","  if (curve === 'log'){","    min = Math.log(min*mag)/Math.log(10)","    max = Math.log(max*mag)/Math.log(10)","    start = Math.log(start*mag)/Math.log(10)","  } else if (curve === 'log+'){","    min = Math.log(min*mag+1)/Math.log(10)","    max = Math.log(max*mag+1)/Math.log(10)","    start = Math.log(start*mag+1)/Math.log(10)","  } else if (curve === 'db'){","    min = Math.max(-40, gainToDecibels(min))","    max = gainToDecibels(max)","    start = Math.max(-40, gainToDecibels(start))","  } else if (curve === 'exp'){","    min = Math.pow(min, 1/(2*mag))","    max = Math.pow(max, 1/(2*mag))","    start = Math.pow(start, 1/(2*mag))","  }","","  start = start - min","","  var range = max - min","  var value = start + (range * offset)","","  if (curve === 'log'){","    value = Math.pow(10, value + min) / mag","  } else if (curve === 'log+'){","    value = (Math.pow(10, value + min) - 1) / mag","  } else if (curve === 'db'){","    value = decibelsToGain(value + min)","  } else if (curve === 'exp'){","    value = Math.pow(value, 2*mag)","  } else {","    value += min","  }","","  return value","}","","function round(value, dp){","  var pow = Math.pow(10, dp || 0)","  return Math.round(value * pow) / pow","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"7":1,"10":0,"13":0,"16":0,"22":0,"25":0,"28":0,"34":0,"37":0,"40":0,"46":0,"49":0,"52":0,"58":0,"61":0,"64":0,"65":0,"67":0,"74":0,"75":0,"76":0,"77":0,"79":0,"83":0,"85":0,"89":0,"90":0,"91":0,"92":0,"94":0,"98":0,"99":0,"101":0,"108":0,"111":0,"114":0,"120":0,"123":0,"126":0,"132":0,"135":0,"136":0,"139":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"148":0,"152":0,"153":0,"155":0,"162":0,"165":0,"166":0,"173":0,"174":0,"175":0,"177":0,"184":0,"187":0,"188":0,"195":0,"196":0,"197":0,"199":0,"206":0,"209":0,"210":0,"213":0,"214":0,"215":0,"217":0,"224":0,"227":0,"230":0,"231":0,"233":0,"240":0,"243":0,"246":0,"247":0,"249":0,"256":0,"259":0,"262":0,"263":0,"265":0,"272":0,"275":0,"278":0,"284":0,"287":0,"290":0,"291":0,"293":0,"300":0,"303":0,"306":0,"307":0,"309":0,"316":0,"319":0,"322":0,"323":0,"325":0,"332":0,"335":0,"338":0,"344":0,"347":0,"350":0,"356":0,"359":0,"362":0,"368":0,"371":0,"374":0,"380":0,"383":0,"386":0,"392":0,"395":0,"398":0,"404":0,"407":0,"410":0,"416":0,"419":0,"420":0,"421":0,"423":0,"427":0,"428":0,"430":0,"437":0,"438":0,"440":0,"443":0,"444":0,"447":0,"448":0,"449":0,"452":0,"453":0,"455":0,"456":0,"463":0,"466":0,"469":0,"474":1,"476":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"496":0,"498":0,"499":0,"502":1,"503":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"523":0,"525":0,"526":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"537":0,"540":0,"543":1,"544":0,"545":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-closest-point.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-closest-point.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getClosestPoint","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":57}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":21,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":19,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":4},"end":{"line":18,"column":5}},"5":{"start":{"line":5,"column":6},"end":{"line":5,"column":29}},"6":{"start":{"line":6,"column":6},"end":{"line":16,"column":7}},"7":{"start":{"line":7,"column":8},"end":{"line":7,"column":19}},"8":{"start":{"line":8,"column":13},"end":{"line":16,"column":7}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":32}},"10":{"start":{"line":10,"column":8},"end":{"line":10,"column":34}},"11":{"start":{"line":11,"column":8},"end":{"line":15,"column":9}},"12":{"start":{"line":12,"column":10},"end":{"line":12,"column":21}},"13":{"start":{"line":14,"column":10},"end":{"line":14,"column":23}},"14":{"start":{"line":17,"column":6},"end":{"line":17,"column":19}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":13}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":2},"end":{"line":2,"column":2}},{"start":{"line":2,"column":2},"end":{"line":2,"column":2}}]},"2":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":6},"end":{"line":2,"column":13}},{"start":{"line":2,"column":17},"end":{"line":2,"column":31}}]},"3":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":6},"end":{"line":6,"column":6}},{"start":{"line":6,"column":6},"end":{"line":6,"column":6}}]},"4":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":13},"end":{"line":8,"column":13}},{"start":{"line":8,"column":13},"end":{"line":8,"column":13}}]},"5":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":8},"end":{"line":11,"column":8}},{"start":{"line":11,"column":8},"end":{"line":11,"column":8}}]}},"code":["module.exports = function getClosestPoint(markers, time) {","  if (markers && markers.length) {","    var prev = 0","    for (var i = 0; i < markers.length; i++) {","      var marker = markers[i]//-0.02","      if (time === marker) {","        return time","      } else if (marker > time) {","        var diff = marker - time","        var prevDiff = time - prev","        if (diff > prevDiff) {","          return prev","        } else {","          return marker","        }","      }","      prev = marker","    }","  }","  return time","}"],"l":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"17":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-port-siblings.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-port-siblings.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"getPortSiblings","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":44}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":22},"end":{"line":6,"column":38}}},"3":{"name":"mod","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":32}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":18}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"5":{"start":{"line":6,"column":2},"end":{"line":13,"column":4}},"6":{"start":{"line":7,"column":4},"end":{"line":12,"column":5}},"7":{"start":{"line":8,"column":6},"end":{"line":10,"column":7}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":17}},"9":{"start":{"line":11,"column":6},"end":{"line":11,"column":21}},"10":{"start":{"line":14,"column":2},"end":{"line":17,"column":3}},"11":{"start":{"line":21,"column":0},"end":{"line":23,"column":1}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":26}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":4},"end":{"line":7,"column":4}},{"start":{"line":7,"column":4},"end":{"line":7,"column":4}}]},"2":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":14}},{"start":{"line":7,"column":18},"end":{"line":7,"column":41}}]},"3":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]}},"code":["module.exports = getPortSiblings","","function getPortSiblings (obs, controllers) {","  var index = null","  var matches = []","  controllers.forEach(function (c, i) {","    if (c.port && c.port() === obs.port()) {","      if (c === obs) {","        index = i","      }","      matches.push(i)","    }","  })","  return [","    controllers.get(matches[mod(index - 1, matches.length)]),","    controllers.get(matches[mod(index + 1, matches.length)])","  ]","}","","","function mod (n, m) {","  return ((n % m) + m) % m","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0,"21":1,"22":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-sound-offset.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-sound-offset.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getSoundOffset","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":29,"column":1}},"2":{"start":{"line":3,"column":2},"end":{"line":3,"column":21}},"3":{"start":{"line":3,"column":15},"end":{"line":3,"column":21}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":22}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":37}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":15}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":34}},"8":{"start":{"line":11,"column":2},"end":{"line":28,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":17}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":18}},"11":{"start":{"line":14,"column":4},"end":{"line":22,"column":5}},"12":{"start":{"line":15,"column":6},"end":{"line":15,"column":34}},"13":{"start":{"line":16,"column":6},"end":{"line":18,"column":7}},"14":{"start":{"line":17,"column":8},"end":{"line":17,"column":19}},"15":{"start":{"line":19,"column":6},"end":{"line":21,"column":7}},"16":{"start":{"line":20,"column":8},"end":{"line":20,"column":19}},"17":{"start":{"line":24,"column":4},"end":{"line":27,"column":5}},"18":{"start":{"line":25,"column":6},"end":{"line":25,"column":42}},"19":{"start":{"line":26,"column":6},"end":{"line":26,"column":23}}},"branchMap":{"1":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":2},"end":{"line":3,"column":2}},{"start":{"line":3,"column":2},"end":{"line":3,"column":2}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":6},"end":{"line":16,"column":6}},{"start":{"line":16,"column":6},"end":{"line":16,"column":6}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]}},"code":["module.exports = function getSoundOffset(buffer){","","  if (!buffer) return","","  var threshold = 0.01","","  var data = buffer.getChannelData(0)","  var step = 32","  var width = buffer.length / step","","  for(var i=0;i<width;i++){","    var min = 1.0","    var max = -1.0","    for (j=0; j<step; j++) {","      var datum = data[(i*step)+j]","      if (datum < min){","        min = datum","      }","      if (datum > max){","        max = datum","      }","    }","","    if (Math.max(Math.abs(min), Math.abs(max)) > threshold){","      var value = (i*step) / buffer.length","      return [value, 1]","    }","  }","}"],"l":{"1":1,"3":0,"5":0,"7":0,"8":0,"9":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"24":0,"25":0,"26":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-value.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/get-value.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"getValue","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":25}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":47}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":49}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":6},"end":{"line":4,"column":30}},{"start":{"line":4,"column":34},"end":{"line":4,"column":56}}]},"3":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":28},"end":{"line":7,"column":34}},{"start":{"line":7,"column":37},"end":{"line":7,"column":49}}]}},"code":["module.exports = getValue","","function getValue(object, defaultValue){","  if (object instanceof Object && !Array.isArray(object)){","    return getValue(object.value, defaultValue)","  } else {","    return object != null ? object : defaultValue","  }","}"],"l":{"1":1,"3":1,"4":0,"5":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/global-controller.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/global-controller.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":26},"end":{"line":9,"column":43}}},"2":{"name":"GlobalController","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}}},"3":{"name":"(anonymous_3)","line":19,"loc":{"start":{"line":19,"column":6},"end":{"line":19,"column":22}}},"4":{"name":"matchPort","line":34,"loc":{"start":{"line":34,"column":0},"end":{"line":34,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":4,"column":0},"end":{"line":6,"column":1}},"4":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"5":{"start":{"line":9,"column":0},"end":{"line":11,"column":2}},"6":{"start":{"line":10,"column":2},"end":{"line":10,"column":46}},"7":{"start":{"line":14,"column":0},"end":{"line":32,"column":1}},"8":{"start":{"line":15,"column":2},"end":{"line":15,"column":25}},"9":{"start":{"line":16,"column":2},"end":{"line":16,"column":31}},"10":{"start":{"line":18,"column":2},"end":{"line":18,"column":25}},"11":{"start":{"line":19,"column":2},"end":{"line":29,"column":4}},"12":{"start":{"line":20,"column":4},"end":{"line":28,"column":5}},"13":{"start":{"line":21,"column":6},"end":{"line":21,"column":30}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":41}},"15":{"start":{"line":23,"column":6},"end":{"line":27,"column":7}},"16":{"start":{"line":24,"column":8},"end":{"line":26,"column":11}},"17":{"start":{"line":31,"column":2},"end":{"line":31,"column":12}},"18":{"start":{"line":34,"column":0},"end":{"line":40,"column":1}},"19":{"start":{"line":35,"column":2},"end":{"line":39,"column":3}},"20":{"start":{"line":36,"column":4},"end":{"line":38,"column":5}},"21":{"start":{"line":37,"column":6},"end":{"line":37,"column":28}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"2":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":12}},{"start":{"line":20,"column":16},"end":{"line":20,"column":42}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"4":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]}},"code":["var MidiStream = require('midi-stream')","var extend = require('xtend')","","var portMatch = [","  [/$Launch Control/, 'global-controller/launch-control']","]","","var portChoices = Observ([])","MidiStream.watchPortNames(function (ports) {","  obs.portChoices.set(ports.filter(matchPort))","})","","","function GlobalController (context) {","  var obs = Node(context)","  obs.portChoices = portChoices","","  var lastPortName = null","  obs(function (data) {","    if (data && data.port !== lastPortName) {","      lastPortName = data.port","      var nodeName = matchPort(data.port)","      if (nodeName) {","        obs.set(extend(data, {","          node: nodeName","        }))","      }","    }","  })","","  return obs","}","","function matchPort (name) {","  for (var i=0;i<portMatch.length;i++) {","    if (portMatch[i][0].exec(name)) {","      return portMatch[i][1]","    }","  }","}"],"l":{"1":2,"2":0,"4":0,"8":0,"9":0,"10":0,"14":1,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"31":0,"34":1,"35":0,"36":0,"37":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/grab-grid.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/grab-grid.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":33}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":25},"end":{"line":8,"column":44}}},"3":{"name":"grab","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":33}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":23}}},"5":{"name":"getLayerFor","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":31}}},"6":{"name":"resolve","line":84,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":23}}},"7":{"name":"broadcast","line":88,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":25}}},"8":{"name":"watchGridChanges","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":41}}},"9":{"name":"(anonymous_9)","line":98,"loc":{"start":{"line":98,"column":20},"end":{"line":98,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":3,"column":0},"end":{"line":82,"column":1}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":18}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":17}},"5":{"start":{"line":8,"column":2},"end":{"line":43,"column":4}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":29}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":19}},"8":{"start":{"line":11,"column":4},"end":{"line":35,"column":5}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":29}},"10":{"start":{"line":13,"column":6},"end":{"line":13,"column":58}},"11":{"start":{"line":14,"column":6},"end":{"line":14,"column":27}},"12":{"start":{"line":16,"column":6},"end":{"line":16,"column":57}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":48}},"14":{"start":{"line":20,"column":6},"end":{"line":25,"column":7}},"15":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"16":{"start":{"line":22,"column":10},"end":{"line":22,"column":72}},"17":{"start":{"line":24,"column":8},"end":{"line":24,"column":44}},"18":{"start":{"line":28,"column":6},"end":{"line":34,"column":7}},"19":{"start":{"line":29,"column":8},"end":{"line":31,"column":9}},"20":{"start":{"line":30,"column":10},"end":{"line":30,"column":78}},"21":{"start":{"line":32,"column":8},"end":{"line":32,"column":48}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":50}},"23":{"start":{"line":37,"column":4},"end":{"line":41,"column":6}},"24":{"start":{"line":45,"column":2},"end":{"line":67,"column":3}},"25":{"start":{"line":46,"column":4},"end":{"line":46,"column":28}},"26":{"start":{"line":48,"column":4},"end":{"line":51,"column":5}},"27":{"start":{"line":50,"column":6},"end":{"line":50,"column":33}},"28":{"start":{"line":53,"column":4},"end":{"line":57,"column":5}},"29":{"start":{"line":59,"column":4},"end":{"line":59,"column":22}},"30":{"start":{"line":61,"column":4},"end":{"line":66,"column":5}},"31":{"start":{"line":62,"column":6},"end":{"line":62,"column":39}},"32":{"start":{"line":63,"column":6},"end":{"line":65,"column":7}},"33":{"start":{"line":64,"column":8},"end":{"line":64,"column":31}},"34":{"start":{"line":69,"column":2},"end":{"line":69,"column":13}},"35":{"start":{"line":73,"column":2},"end":{"line":81,"column":3}},"36":{"start":{"line":74,"column":4},"end":{"line":79,"column":5}},"37":{"start":{"line":75,"column":6},"end":{"line":75,"column":46}},"38":{"start":{"line":76,"column":6},"end":{"line":78,"column":7}},"39":{"start":{"line":77,"column":8},"end":{"line":77,"column":16}},"40":{"start":{"line":80,"column":4},"end":{"line":80,"column":13}},"41":{"start":{"line":84,"column":0},"end":{"line":86,"column":1}},"42":{"start":{"line":85,"column":2},"end":{"line":85,"column":48}},"43":{"start":{"line":88,"column":0},"end":{"line":94,"column":1}},"44":{"start":{"line":89,"column":2},"end":{"line":89,"column":33}},"45":{"start":{"line":90,"column":2},"end":{"line":90,"column":30}},"46":{"start":{"line":91,"column":2},"end":{"line":91,"column":24}},"47":{"start":{"line":92,"column":2},"end":{"line":92,"column":24}},"48":{"start":{"line":93,"column":2},"end":{"line":93,"column":43}},"49":{"start":{"line":96,"column":0},"end":{"line":111,"column":1}},"50":{"start":{"line":97,"column":2},"end":{"line":97,"column":44}},"51":{"start":{"line":98,"column":2},"end":{"line":109,"column":4}},"52":{"start":{"line":99,"column":4},"end":{"line":99,"column":48}},"53":{"start":{"line":100,"column":4},"end":{"line":100,"column":20}},"54":{"start":{"line":101,"column":4},"end":{"line":106,"column":5}},"55":{"start":{"line":102,"column":6},"end":{"line":105,"column":7}},"56":{"start":{"line":103,"column":8},"end":{"line":103,"column":38}},"57":{"start":{"line":104,"column":8},"end":{"line":104,"column":59}},"58":{"start":{"line":107,"column":4},"end":{"line":107,"column":25}},"59":{"start":{"line":108,"column":4},"end":{"line":108,"column":20}},"60":{"start":{"line":110,"column":2},"end":{"line":110,"column":15}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":6},"end":{"line":28,"column":6}},{"start":{"line":28,"column":6},"end":{"line":28,"column":6}}]},"4":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":10},"end":{"line":28,"column":15}},{"start":{"line":28,"column":19},"end":{"line":28,"column":37}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]},"6":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]},"7":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":15},"end":{"line":56,"column":19}},{"start":{"line":56,"column":23},"end":{"line":56,"column":35}}]},"8":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":6},"end":{"line":63,"column":6}},{"start":{"line":63,"column":6},"end":{"line":63,"column":6}}]},"9":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":6}},{"start":{"line":76,"column":6},"end":{"line":76,"column":6}}]},"10":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":10},"end":{"line":76,"column":18}},{"start":{"line":76,"column":22},"end":{"line":76,"column":46}}]},"11":{"line":85,"type":"cond-expr","locations":[{"start":{"line":85,"column":37},"end":{"line":85,"column":42}},{"start":{"line":85,"column":45},"end":{"line":85,"column":48}}]},"12":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":17},"end":{"line":97,"column":23}},{"start":{"line":97,"column":27},"end":{"line":97,"column":38}},{"start":{"line":97,"column":42},"end":{"line":97,"column":44}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":6},"end":{"line":102,"column":6}},{"start":{"line":102,"column":6},"end":{"line":102,"column":6}}]}},"code":["var ArrayGrid = require('array-grid')","","module.exports = function (grid) {","","  var routing = {}","  var layers = []","","  watchGridChanges(grid, function (changes) {","    var currentValue = grid()","    var update = {}","    for (var i = 0; i < changes.length; i++) {","      var change = changes[i]","      var index = currentValue.index(change[0], change[1])","      var value = change[2]","","      var lastLayerIndex = layers.indexOf(routing[index])","      var currentLayerIndex = getLayerFor(index)","","      // update last layer","      if (~lastLayerIndex) {","        if (!update[lastLayerIndex]) {","          update[lastLayerIndex] = layers[lastLayerIndex].values.slice()","        }","        update[lastLayerIndex][index] = null","      }","","      // update current layer","      if (value && ~currentLayerIndex) {","        if (!update[currentLayerIndex]) {","          update[currentLayerIndex] = layers[currentLayerIndex].values.slice()","        }","        update[currentLayerIndex][index] = value","        routing[index] = layers[currentLayerIndex]","      }","    }","","    Object.keys(update).forEach(broadcast, {","      updates: update,","      layers: layers,","      shape: currentValue.shape","    })","","  })","","  function grab (listener, opts) {","    var shape = grid().shape","","    if (arguments.length === 0) {","      // make it work with watch","      return ArrayGrid([], shape)","    }","","    var layer = {","      listener: listener,","      values: [],","      exclude: opts && opts.exclude","    }","","    layers.push(layer)","","    return function () {","      var index = layers.indexOf(layer)","      if (~index) {","        layers.splice(index, 1)","      }","    }","  }","","  return grab","","  // scoped","","  function getLayerFor (index) {","    for (var i = layers.length - 1; i >= 0; i--) {","      var exclude = resolve(layers[i].exclude)","      if (!exclude || !~exclude.indexOf(index)) {","        return i","      }","    }","    return -1","  }","}","","function resolve (val) {","  return typeof val === 'function' ? val() : val","}","","function broadcast (key) {","  var newData = this.updates[key]","  var layer = this.layers[key]","  var shape = this.shape","  layer.values = newData","  layer.listener(ArrayGrid(newData, shape))","}","","function watchGridChanges(grid, handler) {","  var lastData = grid() && grid().data || []","  var remove = grid(function(value){","    var length = value.shape[0] * value.shape[1]","    var changes = []","    for (var i=0; i<length; i++) {","      if (value.data[i] !== lastData[i]){","        var coords = value.coordsAt(i)","        changes.push([coords[0], coords[1], value.data[i]])","      }","    }","    lastData = value.data","    handler(changes)","  })","  return remove","}",""],"l":{"1":1,"3":1,"5":0,"6":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"20":0,"21":0,"22":0,"24":0,"28":0,"29":0,"30":0,"32":0,"33":0,"37":0,"45":1,"46":0,"48":0,"50":0,"53":0,"59":0,"61":0,"62":0,"63":0,"64":0,"69":0,"73":1,"74":0,"75":0,"76":0,"77":0,"80":0,"84":1,"85":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"107":0,"108":0,"110":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/grid-slice-peaks.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/grid-slice-peaks.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":19},"end":{"line":5,"column":32}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":52}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":18},"end":{"line":22,"column":35}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":38},"end":{"line":23,"column":54}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":67}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":14}},"4":{"start":{"line":5,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":9,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":39}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":31}},"8":{"start":{"line":12,"column":0},"end":{"line":35,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":27}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":51}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":43}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":49}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":47}},"15":{"start":{"line":20,"column":2},"end":{"line":20,"column":56}},"16":{"start":{"line":22,"column":2},"end":{"line":26,"column":3}},"17":{"start":{"line":23,"column":4},"end":{"line":25,"column":7}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":34}},"19":{"start":{"line":28,"column":2},"end":{"line":34,"column":4}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":11},"end":{"line":14,"column":17}},{"start":{"line":14,"column":21},"end":{"line":14,"column":27}}]}},"code":["var worker = new Worker('file://' + __dirname + '/worker/peaks.js')","var callbacks = {}","var nextId = 0","","worker.onmessage = function (e) {","  if (callbacks[e.data.id]) {","    callbacks[e.data.id](e.data.result)","    delete callbacks[e.data.id]","  }","}","","module.exports = function (data, count, offset, cb) {","  var id = nextId++","  offset = offset || [0, 1]","","  var range = (offset[1] - offset[0]) * data.length","  var windowSize = Math.ceil(range / count)","  var start = Math.floor(offset[0] * data.length)","  var end = Math.floor(offset[1] * data.length)","  var searchStart = Math.floor(start + (windowSize / 2))","","  callbacks[id] = function (peaks) {","    cb([[start, 1]].concat(peaks).map(function (item) {","      return item[0] / data.length","    }))","  }","","  worker.postMessage({","    id: id,","    data: data,","    windowSize: windowSize,","    start: searchStart,","    end: end","  })","}",""],"l":{"1":2,"2":0,"3":0,"5":0,"6":0,"7":0,"8":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"28":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/h.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/h.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":65}}},"branchMap":{},"code":["module.exports = require('micro-css/h')(require('virtual-dom/h'))"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/hold-active-transform.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/hold-active-transform.js","s":{"1":1,"2":0,"3":0,"4":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"holdActive","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":53}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":9,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":7,"column":4}},"3":{"start":{"line":3,"column":4},"end":{"line":6,"column":5}},"4":{"start":{"line":8,"column":2},"end":{"line":8,"column":14}}},"branchMap":{},"code":["module.exports = function holdActive (input, active) {","  active.forEach(function(index){","    input.data[index] = {","      events: [[0, true]],","      length: 2","    }","  })","  return input","}",""],"l":{"1":1,"2":0,"3":0,"8":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/import-sample.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/import-sample.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"importSample","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":46}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":56}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":37},"end":{"line":22,"column":49}}},"4":{"name":"getInfo","line":29,"loc":{"start":{"line":29,"column":0},"end":{"line":29,"column":49}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":15},"end":{"line":33,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":53}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":55}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"6":{"start":{"line":8,"column":0},"end":{"line":27,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":37}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":34}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":21}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":50}},"11":{"start":{"line":15,"column":2},"end":{"line":26,"column":3}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":35}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":40}},"14":{"start":{"line":20,"column":4},"end":{"line":25,"column":6}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":35}},"16":{"start":{"line":21,"column":15},"end":{"line":21,"column":35}},"17":{"start":{"line":22,"column":6},"end":{"line":24,"column":8}},"18":{"start":{"line":23,"column":8},"end":{"line":23,"column":44}},"19":{"start":{"line":29,"column":0},"end":{"line":45,"column":1}},"20":{"start":{"line":30,"column":2},"end":{"line":30,"column":45}},"21":{"start":{"line":31,"column":2},"end":{"line":31,"column":46}},"22":{"start":{"line":33,"column":2},"end":{"line":43,"column":4}},"23":{"start":{"line":34,"column":4},"end":{"line":42,"column":5}},"24":{"start":{"line":35,"column":6},"end":{"line":38,"column":8}},"25":{"start":{"line":41,"column":6},"end":{"line":41,"column":19}},"26":{"start":{"line":44,"column":2},"end":{"line":44,"column":31}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":6}},{"start":{"line":21,"column":6},"end":{"line":21,"column":6}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":22},"end":{"line":21,"column":24}},{"start":{"line":21,"column":28},"end":{"line":21,"column":35}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"5":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":8}},{"start":{"line":35,"column":12},"end":{"line":38,"column":8}}]},"6":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":16},"end":{"line":37,"column":38}},{"start":{"line":37,"column":42},"end":{"line":37,"column":48}}]}},"code":["var getBase = require('path').basename","var getSoundOffset = require('./get-sound-offset.js')","var resolveAvailable = require('lib/resolve-available')","var copyFile = require('lib/copy-file')","","module.exports = importSample","","function importSample (context, filePath, cb) {","  var fileObject = context.fileObject","","  var fileName = getBase(filePath)","  var from = filePath","  var to = fileObject.resolvePath('./' + fileName)","","  if (from === to) {","    // already imported","    console.log('already imported')","    getInfo(context, fileObject, to, cb)","  } else {","    resolveAvailable(to, context.fs, function (err, to) {","      if (err) return cb && cb(err)","      copyFile(from, to, context.fs, function () {","        getInfo(context, fileObject, to, cb)","      })","    })","  }","}","","function getInfo (context, fileObject, path, cb) {","  var relativeSrc = fileObject.relative(path)","  var obs = context.nodes.AudioBuffer(context)","","  obs.resolved(function (buffer) {","    if (buffer) {","      cb && cb(null, {","        buffer: { node: 'AudioBuffer', src: relativeSrc },","        offset: getSoundOffset(buffer) || [0, 1]","      })","","      // destroy after callback to avoid double decode","      obs.destroy()","    }","  })","  obs.set({ src: relativeSrc })","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"11":0,"12":0,"13":0,"15":0,"17":0,"18":0,"20":0,"21":0,"22":0,"23":0,"29":1,"30":0,"31":0,"33":0,"34":0,"35":0,"41":0,"44":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/resolve-available.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/resolve-available.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"resolveAvailable","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":18},"end":{"line":18,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}},"6":{"start":{"line":8,"column":0},"end":{"line":32,"column":1}},"7":{"start":{"line":13,"column":2},"end":{"line":13,"column":24}},"8":{"start":{"line":14,"column":2},"end":{"line":14,"column":35}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":28}},"10":{"start":{"line":16,"column":2},"end":{"line":16,"column":48}},"11":{"start":{"line":18,"column":2},"end":{"line":31,"column":4}},"12":{"start":{"line":19,"column":4},"end":{"line":30,"column":5}},"13":{"start":{"line":20,"column":6},"end":{"line":27,"column":7}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":49}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":58}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":53}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":40}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":53}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":20}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":4},"end":{"line":19,"column":4}},{"start":{"line":19,"column":4},"end":{"line":19,"column":4}}]},"2":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":6},"end":{"line":20,"column":6}},{"start":{"line":20,"column":6},"end":{"line":20,"column":6}}]}},"code":["var getExt = require('path').extname","var getBaseName = require('path').basename","var getDirName = require('path').dirname","var join = require('path').join","","module.exports = resolveAvailable","","function resolveAvailable (path, fs, cb) {","  // check if file exists, ","  // if so increment number and try again","  // otherwise return path","","  var ext = getExt(path)","  var base = getBaseName(path, ext)","  var dir = getDirName(path)","  var numberMatch = /(^.+) ([0-9]+)$/.exec(base)","","  fs.exists(path, function(exists){","    if (exists){","      if (numberMatch){","        var number = parseInt(numberMatch[2]) + 1","        var fileName = numberMatch[1] + ' ' + number + ext","        resolveAvailable(join(dir, fileName), fs, cb)","      } else {","        var fileName = base + ' 1' + ext","        resolveAvailable(join(dir, fileName), fs, cb)","      }","    } else {","      cb(null, path)","    }","  })","}"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"29":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/jsmn.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/jsmn.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":1,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":1,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":23},"end":{"line":3,"column":40}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":51},"end":{"line":4,"column":67}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":27},"end":{"line":10,"column":43}}},"4":{"name":"xval","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":33}}},"6":{"name":"(anonymous_6)","line":26,"loc":{"start":{"line":26,"column":34},"end":{"line":26,"column":47}}},"7":{"name":"getObjectContent","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":33}}},"8":{"name":"(anonymous_8)","line":37,"loc":{"start":{"line":37,"column":39},"end":{"line":37,"column":52}}},"9":{"name":"isNumeric","line":45,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":23}}},"10":{"name":"escapeKey","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":23}}},"11":{"name":"getArrayContent","line":57,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":31}}},"12":{"name":"(anonymous_12)","line":58,"loc":{"start":{"line":58,"column":25},"end":{"line":58,"column":38}}},"13":{"name":"smartWrap","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":25}}},"14":{"name":"indent","line":72,"loc":{"start":{"line":72,"column":0},"end":{"line":72,"column":21}}},"15":{"name":"getLiteral","line":76,"loc":{"start":{"line":76,"column":0},"end":{"line":76,"column":26}}},"16":{"name":"fixIndent","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":24}}},"17":{"name":"(anonymous_17)","line":97,"loc":{"start":{"line":97,"column":49},"end":{"line":97,"column":75}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":8,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":6,"column":4}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":56}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":42}},"6":{"start":{"line":10,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":40}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":26}},"9":{"start":{"line":16,"column":0},"end":{"line":34,"column":1}},"10":{"start":{"line":17,"column":2},"end":{"line":33,"column":3}},"11":{"start":{"line":18,"column":4},"end":{"line":20,"column":6}},"12":{"start":{"line":19,"column":6},"end":{"line":19,"column":29}},"13":{"start":{"line":21,"column":9},"end":{"line":33,"column":3}},"14":{"start":{"line":22,"column":4},"end":{"line":30,"column":5}},"15":{"start":{"line":23,"column":6},"end":{"line":23,"column":40}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":18}},"17":{"start":{"line":26,"column":6},"end":{"line":28,"column":8}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":45}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":16}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":17}},"21":{"start":{"line":36,"column":0},"end":{"line":41,"column":1}},"22":{"start":{"line":37,"column":2},"end":{"line":39,"column":4}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":58}},"24":{"start":{"line":40,"column":2},"end":{"line":40,"column":26}},"25":{"start":{"line":43,"column":0},"end":{"line":43,"column":26}},"26":{"start":{"line":45,"column":0},"end":{"line":47,"column":1}},"27":{"start":{"line":46,"column":2},"end":{"line":46,"column":59}},"28":{"start":{"line":49,"column":0},"end":{"line":55,"column":1}},"29":{"start":{"line":50,"column":2},"end":{"line":54,"column":3}},"30":{"start":{"line":51,"column":4},"end":{"line":51,"column":38}},"31":{"start":{"line":53,"column":4},"end":{"line":53,"column":14}},"32":{"start":{"line":57,"column":0},"end":{"line":62,"column":1}},"33":{"start":{"line":58,"column":2},"end":{"line":60,"column":4}},"34":{"start":{"line":59,"column":4},"end":{"line":59,"column":26}},"35":{"start":{"line":61,"column":2},"end":{"line":61,"column":26}},"36":{"start":{"line":64,"column":0},"end":{"line":70,"column":1}},"37":{"start":{"line":65,"column":2},"end":{"line":69,"column":3}},"38":{"start":{"line":66,"column":4},"end":{"line":66,"column":42}},"39":{"start":{"line":68,"column":4},"end":{"line":68,"column":39}},"40":{"start":{"line":72,"column":0},"end":{"line":74,"column":1}},"41":{"start":{"line":73,"column":2},"end":{"line":73,"column":41}},"42":{"start":{"line":76,"column":0},"end":{"line":86,"column":1}},"43":{"start":{"line":77,"column":2},"end":{"line":85,"column":3}},"44":{"start":{"line":78,"column":4},"end":{"line":78,"column":32}},"45":{"start":{"line":79,"column":9},"end":{"line":85,"column":3}},"46":{"start":{"line":80,"column":4},"end":{"line":80,"column":53}},"47":{"start":{"line":81,"column":9},"end":{"line":85,"column":3}},"48":{"start":{"line":82,"column":4},"end":{"line":82,"column":35}},"49":{"start":{"line":84,"column":4},"end":{"line":84,"column":54}},"50":{"start":{"line":88,"column":0},"end":{"line":88,"column":30}},"51":{"start":{"line":89,"column":0},"end":{"line":89,"column":42}},"52":{"start":{"line":91,"column":0},"end":{"line":104,"column":1}},"53":{"start":{"line":92,"column":2},"end":{"line":101,"column":3}},"54":{"start":{"line":93,"column":4},"end":{"line":93,"column":48}},"55":{"start":{"line":94,"column":4},"end":{"line":94,"column":42}},"56":{"start":{"line":95,"column":4},"end":{"line":95,"column":41}},"57":{"start":{"line":96,"column":4},"end":{"line":100,"column":5}},"58":{"start":{"line":97,"column":6},"end":{"line":99,"column":15}},"59":{"start":{"line":98,"column":8},"end":{"line":98,"column":45}},"60":{"start":{"line":103,"column":2},"end":{"line":103,"column":13}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":9},"end":{"line":21,"column":9}},{"start":{"line":21,"column":9},"end":{"line":21,"column":9}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":9},"end":{"line":46,"column":32}},{"start":{"line":46,"column":36},"end":{"line":46,"column":59}}]},"5":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":6},"end":{"line":50,"column":23}},{"start":{"line":50,"column":27},"end":{"line":50,"column":44}},{"start":{"line":50,"column":48},"end":{"line":50,"column":65}},{"start":{"line":50,"column":69},"end":{"line":50,"column":83}}]},"7":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"9":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":6},"end":{"line":77,"column":12}},{"start":{"line":77,"column":16},"end":{"line":77,"column":41}}]},"10":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":9},"end":{"line":79,"column":9}},{"start":{"line":79,"column":9},"end":{"line":79,"column":9}}]},"11":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":9},"end":{"line":81,"column":9}},{"start":{"line":81,"column":9},"end":{"line":81,"column":9}}]},"12":{"line":81,"type":"binary-expr","locations":[{"start":{"line":81,"column":13},"end":{"line":81,"column":18}},{"start":{"line":81,"column":22},"end":{"line":81,"column":34}}]},"13":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":2},"end":{"line":92,"column":2}},{"start":{"line":92,"column":2},"end":{"line":92,"column":2}}]},"14":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":6},"end":{"line":92,"column":10}},{"start":{"line":92,"column":14},"end":{"line":92,"column":33}}]},"15":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":17},"end":{"line":95,"column":22}},{"start":{"line":95,"column":26},"end":{"line":95,"column":41}}]},"16":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":4},"end":{"line":96,"column":4}},{"start":{"line":96,"column":4},"end":{"line":96,"column":4}}]}},"code":["var safeEval = require('notevil')","","module.exports.parse = function(literal){","  literal = literal.replace(/\\{\\{([\\w\\W]*?)\\}\\}/g, function(_, exp){","    return '{$: ' + JSON.stringify(fixIndent(exp)) + '}'","  })","  return safeEval('j = {' + literal + '}')","}","","module.exports.stringify = function(object){","  return getObjectContent(object).trim()","}","","module.exports.eval = xval","","function xval(object, context){","  if (Array.isArray(object)){","    return object.map(function(x){","      return xval(x, context)","    })","  } else if (object instanceof Object) {","    if (object.$){","      return safeEval(object.$, context)","    } else {","      var res = {}","      Object.keys(object).forEach(function(key){","        res[key] = xval(object[key], context)","      })","      return res","    }","  } else {","    return object","  }","}","","function getObjectContent(object){","  var result = Object.keys(object).map(function(key){","    return escapeKey(key) + ': ' + getLiteral(object[key])","  })","  return smartWrap(result)","}","","var numberMatch = /^[0-9]/","","function isNumeric(key){","  return typeof key === 'string' && !!numberMatch.exec(key)","}","","function escapeKey(key){","  if (~key.indexOf(' ') || ~key.indexOf('\"') || ~key.indexOf('-') || isNumeric(key)){","    return JSON.stringify(String(key))","  } else {","    return key","  }","}","","function getArrayContent(array){","  var result = array.map(function(obj){","    return getLiteral(obj)","  })","  return smartWrap(result)","}","","function smartWrap(array){","  if (array.join(', ').length>50){","    return '\\n' + array.join(',\\n') + '\\n'","  } else {","    return ' ' + array.join(', ') + ' '","  }","}","","function indent(text){","  return text.replace(/\\n(.)/g, '\\n  $1')","}","","function getLiteral(value){","  if (!value || typeof value !== 'object'){","    return JSON.stringify(value)","  } else if (Array.isArray(value)){","    return '[' + indent(getArrayContent(value)) + ']'","  } else if (value && '$' in value){","    return '{{' + value['$'] + '}}'","  } else {","    return '{' + indent(getObjectContent(value)) + '}'","  }","}","","var matchStartSpace = /^(\\s+)/","var matchNewLineWrapper = /^\\s*\\n|\\n\\s*$/g","","function fixIndent(text){","  if (text && ~text.indexOf('\\n')){","    text = text.replace(matchNewLineWrapper, '')","    var match = matchStartSpace.exec(text)","    var indent = match && match[1].length","    if (indent){","      text = '\\n' + text.replace(/(^|\\n)(\\s+)/g, function(_, start, spaces){","        return start + spaces.slice(indent-2)","      }) + '\\n'","    }","  }","","  return text","}"],"l":{"1":1,"3":1,"4":0,"5":0,"7":0,"10":1,"11":0,"14":1,"16":1,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"29":0,"32":0,"36":1,"37":0,"38":0,"40":0,"43":1,"45":1,"46":0,"49":1,"50":0,"51":0,"53":0,"57":1,"58":0,"59":0,"61":0,"64":1,"65":0,"66":0,"68":0,"72":1,"73":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"84":0,"88":1,"89":1,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"103":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/keyboard-tempo.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/keyboard-tempo.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":1,"34":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":36}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":9},"end":{"line":9,"column":19}}},"3":{"name":"handleEvent","line":15,"loc":{"start":{"line":15,"column":2},"end":{"line":15,"column":26}}},"4":{"name":"shouldIgnore","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":48,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":27}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":58}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":56}},"7":{"start":{"line":9,"column":2},"end":{"line":13,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":63}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":61}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":33}},"11":{"start":{"line":15,"column":2},"end":{"line":47,"column":3}},"12":{"start":{"line":16,"column":4},"end":{"line":16,"column":35}},"13":{"start":{"line":17,"column":4},"end":{"line":46,"column":5}},"14":{"start":{"line":18,"column":6},"end":{"line":18,"column":39}},"15":{"start":{"line":19,"column":6},"end":{"line":45,"column":7}},"16":{"start":{"line":20,"column":8},"end":{"line":22,"column":9}},"17":{"start":{"line":21,"column":10},"end":{"line":21,"column":28}},"18":{"start":{"line":23,"column":13},"end":{"line":45,"column":7}},"19":{"start":{"line":24,"column":8},"end":{"line":28,"column":9}},"20":{"start":{"line":25,"column":10},"end":{"line":25,"column":25}},"21":{"start":{"line":27,"column":10},"end":{"line":27,"column":22}},"22":{"start":{"line":29,"column":13},"end":{"line":45,"column":7}},"23":{"start":{"line":30,"column":8},"end":{"line":34,"column":9}},"24":{"start":{"line":31,"column":10},"end":{"line":31,"column":25}},"25":{"start":{"line":33,"column":10},"end":{"line":33,"column":22}},"26":{"start":{"line":35,"column":13},"end":{"line":45,"column":7}},"27":{"start":{"line":36,"column":8},"end":{"line":44,"column":9}},"28":{"start":{"line":37,"column":10},"end":{"line":43,"column":11}},"29":{"start":{"line":38,"column":12},"end":{"line":38,"column":32}},"30":{"start":{"line":39,"column":17},"end":{"line":43,"column":11}},"31":{"start":{"line":40,"column":12},"end":{"line":40,"column":32}},"32":{"start":{"line":42,"column":12},"end":{"line":42,"column":42}},"33":{"start":{"line":50,"column":0},"end":{"line":53,"column":1}},"34":{"start":{"line":51,"column":2},"end":{"line":52,"column":36}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":11}},{"start":{"line":17,"column":16},"end":{"line":17,"column":33}},{"start":{"line":17,"column":37},"end":{"line":17,"column":66}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":8}},{"start":{"line":20,"column":8},"end":{"line":20,"column":8}}]},"5":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":13},"end":{"line":23,"column":13}},{"start":{"line":23,"column":13},"end":{"line":23,"column":13}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"7":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":13},"end":{"line":29,"column":13}},{"start":{"line":29,"column":13},"end":{"line":29,"column":13}}]},"8":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"9":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":13},"end":{"line":35,"column":13}},{"start":{"line":35,"column":13},"end":{"line":35,"column":13}}]},"10":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"11":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":10},"end":{"line":37,"column":10}},{"start":{"line":37,"column":10},"end":{"line":37,"column":10}}]},"12":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":17},"end":{"line":39,"column":17}},{"start":{"line":39,"column":17},"end":{"line":39,"column":17}}]},"13":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":10},"end":{"line":51,"column":33}},{"start":{"line":51,"column":37},"end":{"line":51,"column":56}},{"start":{"line":51,"column":60},"end":{"line":51,"column":82}},{"start":{"line":52,"column":10},"end":{"line":52,"column":36}}]}},"code":["module.exports = function (project) {","  var actions = project.actions","  var tempo = project.tempo","  var speed = project.speed","","  document.addEventListener('keydown', handleEvent, false)","  document.addEventListener('keyup', handleEvent, false)","","  return function(){","    document.removeEventListener('keydown', handleEvent, false)","    document.removeEventListener('keyup', handleEvent, false)","    tapTempo.removeAllListeners()","  }","","  function handleEvent(e) {","    var el = document.activeElement","    if (!el || (!shouldIgnore(el) && el.contentEditable !== 'true')) {","      var isDown = e.type === 'keydown'","      if (e.keyCode === 40) { // down arrow","        if (isDown) {","          actions.tapTempo()","        }","      } else if (e.keyCode === 37) { // left arrow","        if (isDown) {","          speed.set(0.95)","        } else {","          speed.set(1)","        }","      } else if (e.keyCode === 39) { // right arrow","        if (isDown) {","          speed.set(1.05)","        } else {","          speed.set(1)","        }","      } else if (e.keyCode === 38) {","        if (isDown) {","          if (speed() > 1) {","            tempo.set(tempo()+1)","          } else if (speed() < 1) {","            tempo.set(tempo()-1)","          } else {","            tempo.set(Math.round(tempo()))","          }","        }","      }","    }","  }","}","","function shouldIgnore(el){","  return (el.nodeName === 'INPUT' && el.type !== 'range' && el.type !== 'checkbox') || ","          el.nodeName === 'TEXTAREA'","}"],"l":{"1":1,"2":0,"3":0,"4":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"27":0,"29":0,"30":0,"31":0,"33":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"42":0,"50":1,"51":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/map-merge.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/map-merge.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"MapMerge","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":25},"end":{"line":9,"column":41}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":11},"end":{"line":11,"column":23}}},"4":{"name":"refresh","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":22}}},"5":{"name":"changed","line":28,"loc":{"start":{"line":28,"column":2},"end":{"line":28,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":51}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":36,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":22}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":21}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"7":{"start":{"line":9,"column":2},"end":{"line":15,"column":4}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":43}},"9":{"start":{"line":11,"column":4},"end":{"line":14,"column":5}},"10":{"start":{"line":12,"column":6},"end":{"line":12,"column":15}},"11":{"start":{"line":13,"column":6},"end":{"line":13,"column":15}},"12":{"start":{"line":17,"column":2},"end":{"line":26,"column":3}},"13":{"start":{"line":18,"column":4},"end":{"line":25,"column":5}},"14":{"start":{"line":19,"column":6},"end":{"line":23,"column":7}},"15":{"start":{"line":20,"column":8},"end":{"line":20,"column":49}},"16":{"start":{"line":21,"column":8},"end":{"line":21,"column":82}},"17":{"start":{"line":22,"column":8},"end":{"line":22,"column":39}},"18":{"start":{"line":24,"column":6},"end":{"line":24,"column":22}},"19":{"start":{"line":28,"column":2},"end":{"line":33,"column":3}},"20":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"21":{"start":{"line":30,"column":6},"end":{"line":30,"column":23}},"22":{"start":{"line":32,"column":4},"end":{"line":32,"column":19}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":12}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"3":{"line":21,"type":"cond-expr","locations":[{"start":{"line":21,"column":38},"end":{"line":21,"column":70}},{"start":{"line":21,"column":73},"end":{"line":21,"column":82}}]},"4":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]}},"code":["var watchArray = require('observ-node-array/watch')","var watch = require('observ/watch')","","function MapMerge(collection, key) {","  var obs = Observ({})","  var lastMapped = []","  var changing = false","","  watchArray(collection, function (item) {","    var release = watch(item[key], changed)","    return function () {","      release()","      changed()","    }","  })","","  function refresh () {","    if (changing){","      if (Array.isArray(nodeArray._list)){","        obs._list = nodeArray._list.map(getValue)","        obs._raw = rawKeyOrFunction ? nodeArray._list.map(getRawValue) : obs._list","        obs.set(obs._list.map(resolve))","      }","      changing = false","    }","  }","","  function changed(){","    if (!changing){","      nextTick(refresh)","    }","    changing = true","  }","","  return obs","}"],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"13":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"28":1,"29":0,"30":0,"32":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/map-watch-diff-stack.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/map-watch-diff-stack.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":47}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":34}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":48},"end":{"line":6,"column":61}}},"4":{"name":"remove","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":16}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":27}},"5":{"start":{"line":5,"column":2},"end":{"line":20,"column":4}},"6":{"start":{"line":6,"column":4},"end":{"line":13,"column":6}},"7":{"start":{"line":7,"column":6},"end":{"line":7,"column":29}},"8":{"start":{"line":8,"column":6},"end":{"line":12,"column":7}},"9":{"start":{"line":9,"column":8},"end":{"line":9,"column":25}},"10":{"start":{"line":11,"column":8},"end":{"line":11,"column":28}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":37}},"12":{"start":{"line":16,"column":4},"end":{"line":19,"column":5}},"13":{"start":{"line":17,"column":6},"end":{"line":17,"column":31}},"14":{"start":{"line":18,"column":6},"end":{"line":18,"column":21}},"15":{"start":{"line":23,"column":0},"end":{"line":28,"column":1}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":33}},"17":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":26}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":14}},{"start":{"line":6,"column":16},"end":{"line":13,"column":6}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":4},"end":{"line":16,"column":4}},{"start":{"line":16,"column":4},"end":{"line":16,"column":4}}]},"4":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":14},"end":{"line":17,"column":17}},{"start":{"line":17,"column":21},"end":{"line":17,"column":30}}]},"5":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]}},"code":["var watch = require('observ/watch')","module.exports = function(values, obs, handler){","  var stack = []","  var lastValue = undefined","  return watch(obs, function(data){","    data._diff&&Object.keys(data._diff).forEach(function(key){","      var value = values[key]","      if (data._diff[key]){","        stack.push(value)","      } else {","        remove(stack, value)","      }","    })","","    var top = stack[stack.length - 1]","    if (top !== lastValue) {","      handler(top || lastValue)","      lastValue = top","    }","  })","}","","function remove(array, item){","  var index = array.indexOf(item)","  if (~index){","    array.splice(index, 1)","  }","}",""],"l":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"15":0,"16":0,"17":0,"18":0,"23":1,"24":0,"25":0,"26":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/menu.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/menu.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":35,"loc":{"start":{"line":35,"column":15},"end":{"line":35,"column":26}}},"2":{"name":"(anonymous_2)","line":83,"loc":{"start":{"line":83,"column":15},"end":{"line":83,"column":26}}},"3":{"name":"(anonymous_3)","line":88,"loc":{"start":{"line":88,"column":15},"end":{"line":88,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":4,"column":0},"end":{"line":118,"column":1}},"4":{"start":{"line":35,"column":28},"end":{"line":35,"column":48}},"5":{"start":{"line":83,"column":28},"end":{"line":83,"column":70}},"6":{"start":{"line":88,"column":28},"end":{"line":88,"column":78}}},"branchMap":{},"code":["var electron = require('electron')","var BrowserWindow = electron.BrowserWindow","","module.exports = [","  {","    label: 'Loop Drop',","    submenu: [","      {","        label: 'Services',","        submenu: []","      },","      {","        type: 'separator'","      },","      {","        label: 'Hide Loop Drop',","        accelerator: 'Command+H',","        selector: 'hide:'","      },","      {","        label: 'Hide Others',","        accelerator: 'Command+Shift+H',","        selector: 'hideOtherApplications:'","      },","      {","        label: 'Show All',","        selector: 'unhideAllApplications:'","      },","      {","        type: 'separator'","      },","      {","        label: 'Quit',","        accelerator: 'Command+Q',","        click: function() { electron.app.quit(); }","      },","    ]","  },","  {","    label: 'Edit',","    submenu: [","      {","        label: 'Undo',","        accelerator: 'Command+Z',","        selector: 'undo:'","      },","      {","        label: 'Redo',","        accelerator: 'Shift+Command+Z',","        selector: 'redo:'","      },","      {","        type: 'separator'","      },","      {","        label: 'Cut',","        accelerator: 'Command+X',","        selector: 'cut:'","      },","      {","        label: 'Copy',","        accelerator: 'Command+C',","        selector: 'copy:'","      },","      {","        label: 'Paste',","        accelerator: 'Command+V',","        selector: 'paste:'","      },","      {","        label: 'Select All',","        accelerator: 'Command+A',","        selector: 'selectAll:'","      },","    ]","  },","  {","    label: 'View',","    submenu: [","      {","        label: 'Reload',","        accelerator: 'Command+R',","        click: function() { BrowserWindow.getFocusedWindow().reload(); }","      },","      {","        label: 'Toggle DevTools',","        accelerator: 'Alt+Command+I',","        click: function() { BrowserWindow.getFocusedWindow().toggleDevTools(); }","      },","    ]","  },","  {","    label: 'Window',","    submenu: [","      {","        label: 'Minimize',","        accelerator: 'Command+M',","        selector: 'performMiniaturize:'","      },","      {","        label: 'Close',","        accelerator: 'Command+W',","        selector: 'performClose:'","      },","      {","        type: 'separator'","      },","      {","        label: 'Bring All to Front',","        selector: 'arrangeInFront:'","      },","    ]","  },","  {","    label: 'Help',","    submenu: []","  },","]",""],"l":{"1":2,"2":0,"4":0,"35":0,"83":0,"88":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/midi-port.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/midi-port.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0,0],"28":[0,0],"29":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"MidiPort","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":38}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":38}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":13},"end":{"line":29,"column":25}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":13},"end":{"line":47,"column":25}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":17},"end":{"line":54,"column":29}}},"6":{"name":"(anonymous_6)","line":64,"loc":{"start":{"line":64,"column":16},"end":{"line":64,"column":28}}},"7":{"name":"refresh","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":22}}},"8":{"name":"(anonymous_8)","line":104,"loc":{"start":{"line":104,"column":65},"end":{"line":104,"column":82}}},"9":{"name":"setNextValue","line":121,"loc":{"start":{"line":121,"column":2},"end":{"line":121,"column":32}}},"10":{"name":"(anonymous_10)","line":127,"loc":{"start":{"line":127,"column":21},"end":{"line":127,"column":33}}},"11":{"name":"last","line":136,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":36}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":22}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"5":{"start":{"line":8,"column":0},"end":{"line":134,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":31}},"7":{"start":{"line":11,"column":2},"end":{"line":11,"column":18}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":22}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":25}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":28}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":21}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":14}},"13":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"14":{"start":{"line":23,"column":2},"end":{"line":27,"column":3}},"15":{"start":{"line":24,"column":4},"end":{"line":26,"column":5}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":31}},"17":{"start":{"line":29,"column":2},"end":{"line":43,"column":3}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":33}},"19":{"start":{"line":31,"column":4},"end":{"line":42,"column":5}},"20":{"start":{"line":32,"column":6},"end":{"line":32,"column":31}},"21":{"start":{"line":33,"column":6},"end":{"line":41,"column":7}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":38}},"23":{"start":{"line":35,"column":8},"end":{"line":37,"column":9}},"24":{"start":{"line":36,"column":10},"end":{"line":36,"column":32}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":23}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":36}},"27":{"start":{"line":40,"column":8},"end":{"line":40,"column":17}},"28":{"start":{"line":45,"column":2},"end":{"line":45,"column":23}},"29":{"start":{"line":47,"column":2},"end":{"line":52,"column":3}},"30":{"start":{"line":48,"column":4},"end":{"line":48,"column":33}},"31":{"start":{"line":49,"column":4},"end":{"line":51,"column":5}},"32":{"start":{"line":50,"column":6},"end":{"line":50,"column":21}},"33":{"start":{"line":54,"column":2},"end":{"line":62,"column":3}},"34":{"start":{"line":55,"column":4},"end":{"line":55,"column":33}},"35":{"start":{"line":56,"column":4},"end":{"line":61,"column":5}},"36":{"start":{"line":57,"column":6},"end":{"line":57,"column":44}},"37":{"start":{"line":58,"column":6},"end":{"line":60,"column":7}},"38":{"start":{"line":59,"column":8},"end":{"line":59,"column":23}},"39":{"start":{"line":64,"column":2},"end":{"line":79,"column":3}},"40":{"start":{"line":65,"column":4},"end":{"line":67,"column":5}},"41":{"start":{"line":66,"column":6},"end":{"line":66,"column":23}},"42":{"start":{"line":68,"column":4},"end":{"line":68,"column":22}},"43":{"start":{"line":69,"column":4},"end":{"line":69,"column":33}},"44":{"start":{"line":70,"column":4},"end":{"line":78,"column":5}},"45":{"start":{"line":71,"column":6},"end":{"line":71,"column":36}},"46":{"start":{"line":72,"column":6},"end":{"line":77,"column":7}},"47":{"start":{"line":73,"column":8},"end":{"line":73,"column":30}},"48":{"start":{"line":74,"column":8},"end":{"line":76,"column":9}},"49":{"start":{"line":75,"column":10},"end":{"line":75,"column":31}},"50":{"start":{"line":81,"column":2},"end":{"line":81,"column":12}},"51":{"start":{"line":85,"column":2},"end":{"line":119,"column":3}},"52":{"start":{"line":86,"column":4},"end":{"line":86,"column":33}},"53":{"start":{"line":87,"column":4},"end":{"line":87,"column":24}},"54":{"start":{"line":88,"column":4},"end":{"line":88,"column":47}},"55":{"start":{"line":89,"column":4},"end":{"line":97,"column":5}},"56":{"start":{"line":90,"column":6},"end":{"line":92,"column":9}},"57":{"start":{"line":93,"column":6},"end":{"line":93,"column":30}},"58":{"start":{"line":94,"column":11},"end":{"line":97,"column":5}},"59":{"start":{"line":95,"column":6},"end":{"line":95,"column":39}},"60":{"start":{"line":96,"column":6},"end":{"line":96,"column":34}},"61":{"start":{"line":98,"column":4},"end":{"line":98,"column":36}},"62":{"start":{"line":99,"column":4},"end":{"line":101,"column":5}},"63":{"start":{"line":100,"column":6},"end":{"line":100,"column":21}},"64":{"start":{"line":104,"column":4},"end":{"line":112,"column":6}},"65":{"start":{"line":104,"column":44},"end":{"line":104,"column":55}},"66":{"start":{"line":105,"column":6},"end":{"line":105,"column":36}},"67":{"start":{"line":106,"column":6},"end":{"line":111,"column":7}},"68":{"start":{"line":107,"column":8},"end":{"line":107,"column":30}},"69":{"start":{"line":108,"column":8},"end":{"line":110,"column":9}},"70":{"start":{"line":109,"column":10},"end":{"line":109,"column":31}},"71":{"start":{"line":114,"column":4},"end":{"line":118,"column":5}},"72":{"start":{"line":115,"column":6},"end":{"line":115,"column":45}},"73":{"start":{"line":117,"column":6},"end":{"line":117,"column":24}},"74":{"start":{"line":121,"column":2},"end":{"line":133,"column":3}},"75":{"start":{"line":122,"column":4},"end":{"line":132,"column":5}},"76":{"start":{"line":123,"column":6},"end":{"line":123,"column":47}},"77":{"start":{"line":124,"column":6},"end":{"line":124,"column":23}},"78":{"start":{"line":125,"column":6},"end":{"line":131,"column":7}},"79":{"start":{"line":126,"column":8},"end":{"line":126,"column":26}},"80":{"start":{"line":127,"column":8},"end":{"line":130,"column":10}},"81":{"start":{"line":128,"column":10},"end":{"line":128,"column":35}},"82":{"start":{"line":129,"column":10},"end":{"line":129,"column":29}},"83":{"start":{"line":136,"column":0},"end":{"line":138,"column":1}},"84":{"start":{"line":137,"column":2},"end":{"line":137,"column":32}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":13}},{"start":{"line":31,"column":17},"end":{"line":31,"column":36}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"6":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":15}},{"start":{"line":39,"column":19},"end":{"line":39,"column":36}}]},"7":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"8":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":8},"end":{"line":49,"column":13}},{"start":{"line":49,"column":17},"end":{"line":49,"column":36}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"10":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":13}},{"start":{"line":56,"column":17},"end":{"line":56,"column":36}}]},"11":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":6},"end":{"line":58,"column":6}},{"start":{"line":58,"column":6},"end":{"line":58,"column":6}}]},"12":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":4},"end":{"line":70,"column":4}},{"start":{"line":70,"column":4},"end":{"line":70,"column":4}}]},"13":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":6},"end":{"line":72,"column":6}},{"start":{"line":72,"column":6},"end":{"line":72,"column":6}}]},"14":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":8},"end":{"line":74,"column":8}},{"start":{"line":74,"column":8},"end":{"line":74,"column":8}}]},"15":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":20},"end":{"line":86,"column":27}},{"start":{"line":86,"column":31},"end":{"line":86,"column":33}}]},"16":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":4},"end":{"line":89,"column":4}},{"start":{"line":89,"column":4},"end":{"line":89,"column":4}}]},"17":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":34}},{"start":{"line":89,"column":38},"end":{"line":89,"column":44}}]},"18":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":11},"end":{"line":94,"column":11}},{"start":{"line":94,"column":11},"end":{"line":94,"column":11}}]},"19":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":15},"end":{"line":94,"column":40}},{"start":{"line":94,"column":44},"end":{"line":94,"column":51}}]},"20":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"21":{"line":99,"type":"binary-expr","locations":[{"start":{"line":99,"column":8},"end":{"line":99,"column":13}},{"start":{"line":99,"column":17},"end":{"line":99,"column":30}}]},"22":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":6},"end":{"line":106,"column":6}},{"start":{"line":106,"column":6},"end":{"line":106,"column":6}}]},"23":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":8},"end":{"line":108,"column":8}},{"start":{"line":108,"column":8},"end":{"line":108,"column":8}}]},"24":{"line":114,"type":"if","locations":[{"start":{"line":114,"column":4},"end":{"line":114,"column":4}},{"start":{"line":114,"column":4},"end":{"line":114,"column":4}}]},"25":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":8},"end":{"line":114,"column":14}},{"start":{"line":114,"column":18},"end":{"line":114,"column":37}}]},"26":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":4},"end":{"line":122,"column":4}},{"start":{"line":122,"column":4},"end":{"line":122,"column":4}}]},"27":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":8},"end":{"line":122,"column":19}},{"start":{"line":122,"column":23},"end":{"line":122,"column":42}},{"start":{"line":122,"column":46},"end":{"line":122,"column":68}}]},"28":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":6},"end":{"line":123,"column":14}},{"start":{"line":123,"column":18},"end":{"line":123,"column":47}}]},"29":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":6}},{"start":{"line":125,"column":6},"end":{"line":125,"column":6}}]}},"code":["var Prop = require('observ-default')","","var streamCache = new Map()","var stacks = new Map()","","module.exports = MidiPort","","function MidiPort (context, onSwitch) {","  var ports = context.midiPorts","","  var obs = Prop()","  var nextValue = null","  var settingNext = false","  obs.override = Prop(false)","","  obs.stream = Prop()","  obs(refresh)","","  var listeners = [","    ports(refresh)","  ]","","  obs.stream.write = function (value) {","    if (obs.stream()) {","      obs.stream().write(value)","    }","  }","","  obs.grab = function () {","    var stack = stacks.get(obs())","    if (stack && last(stack) !== obs) {","      var lastTop = last(stack)","      if (!lastTop.override()) {","        var index = stack.indexOf(obs)","        if (~index) {","          stack.splice(index, 1)","        }","        stack.push(obs)","        lastTop && lastTop.refresh()","        refresh()","      }","    }","  }","","  obs.refresh = refresh","","  obs.next = function () {","    var stack = stacks.get(obs())","    if (stack && last(stack) === obs) {","      stack[0].grab()","    }","  }","","  obs.previous = function () {","    var stack = stacks.get(obs())","    if (stack && last(stack) === obs) {","      var previous = stack[stack.length - 2]","      if (previous) {","        previous.grab()","      }","    }","  }","","  obs.destroy = function () {","    while (listeners.length) {","      listeners.pop()()","    }","    setNextValue(null)","    var stack = stacks.get(obs())","    if (stack) {","      var index = stack.indexOf(obs)","      if (~index) {","        stack.splice(index, 1)","        if (stack.length) {","          last(stack).refresh()","        }","      }","    }","  }","","  return obs","","  // scoped","","  function refresh () {","    var portNames = ports() || []","    var portName = obs()","    var exists = !!~portNames.indexOf(portName)","    if (!streamCache.has(portName) && exists) {","      streamCache.set(portName, ports.open(portName, {","        normalizeNotes: true","      }))","      stacks.set(portName, [])","    } else if (streamCache.has(portName) && !exists) {","      streamCache.get(portName).close()","      streamCache.delete(portName)","    }","    var stack = stacks.get(portName)","    if (stack && !stack.length) {","      stack.push(obs)","    }","","    // ensure not in any other stacks","    Array.from(stacks.values()).filter(v => v !== stack).forEach(function (stack) {","      var index = stack.indexOf(obs)","      if (~index) {","        stack.splice(index, 1)","        if (stack.length) {","          last(stack).refresh()","        }","      }","    })","","    if (exists && last(stack) === obs) {","      setNextValue(streamCache.get(portName))","    } else {","      setNextValue(null)","    }","  }","","  function setNextValue (value) {","    if (settingNext && nextValue !== value || value !== obs.stream()) {","      onSwitch && onSwitch(value, obs.stream())","      nextValue = value","      if (!settingNext) {","        settingNext = true","        setImmediate(function () {","          obs.stream.set(nextValue)","          settingNext = false","        })","      }","    }","  }","}","","function last (array) {","  return array[array.length - 1]","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"8":1,"9":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"19":0,"23":0,"24":0,"25":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"39":0,"40":0,"45":0,"47":0,"48":0,"49":0,"50":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"64":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"81":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"93":0,"94":0,"95":0,"96":0,"98":0,"99":0,"100":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"114":0,"115":0,"117":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"136":1,"137":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/midi-to-param.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/midi-to-param.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"MidiToParam","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}}},"2":{"name":"smooth","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":21}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":15},"end":{"line":28,"column":36}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":7},"end":{"line":29,"column":24}}},"5":{"name":"divide","line":37,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":53}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"6":{"start":{"line":8,"column":0},"end":{"line":25,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":4}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":27}},"9":{"start":{"line":15,"column":2},"end":{"line":18,"column":4}},"10":{"start":{"line":20,"column":2},"end":{"line":20,"column":44}},"11":{"start":{"line":21,"column":2},"end":{"line":21,"column":36}},"12":{"start":{"line":22,"column":2},"end":{"line":22,"column":30}},"13":{"start":{"line":24,"column":2},"end":{"line":24,"column":12}},"14":{"start":{"line":27,"column":0},"end":{"line":35,"column":1}},"15":{"start":{"line":28,"column":2},"end":{"line":34,"column":4}},"16":{"start":{"line":29,"column":4},"end":{"line":33,"column":6}},"17":{"start":{"line":30,"column":6},"end":{"line":30,"column":26}},"18":{"start":{"line":31,"column":6},"end":{"line":31,"column":24}},"19":{"start":{"line":32,"column":6},"end":{"line":32,"column":22}},"20":{"start":{"line":37,"column":0},"end":{"line":39,"column":1}},"21":{"start":{"line":38,"column":2},"end":{"line":38,"column":14}}},"branchMap":{},"code":["var Transform = require('audio-slot-param/transform')","var ObservStruct = require('observ-struct')","var Observ = require('observ')","var Event = require('geval')","","module.exports = MidiToParam","","function MidiToParam(context, id, value) {","  var obs = ObservStruct({","    id: Observ(id)","  })","","  obs._type = 'RemoteParam'","","  var output = Transform(context, [","    { param: value },","    { value: 128, transform: divide }","  ])","","  obs.onSchedule = smooth(output.onSchedule)","  obs.getValueAt = output.getValueAt","  obs.destroy = output.destroy","","  return obs","}","","function smooth (ev) {","  return Event(function (broadcast) {","    ev(function (value) {","      value.duration = 0.1","      value.mode = 'log'","      broadcast(value)","    })","  })","}","","function divide(a,b) {","  return a / b","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"13":0,"15":0,"20":0,"21":0,"22":0,"24":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"37":1,"38":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/mouse-drag-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/mouse-drag-event.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":41}}},"2":{"name":"handle","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":31}},"4":{"start":{"line":6,"column":0},"end":{"line":14,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":12,"column":3}},"6":{"start":{"line":13,"column":2},"end":{"line":13,"column":17}},"7":{"start":{"line":16,"column":0},"end":{"line":45,"column":1}},"8":{"start":{"line":18,"column":2},"end":{"line":31,"column":3}},"9":{"start":{"line":20,"column":4},"end":{"line":20,"column":23}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":55}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":53}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":27}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":28}},"14":{"start":{"line":26,"column":4},"end":{"line":26,"column":28}},"15":{"start":{"line":28,"column":9},"end":{"line":31,"column":3}},"16":{"start":{"line":29,"column":4},"end":{"line":29,"column":58}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":56}},"18":{"start":{"line":33,"column":2},"end":{"line":44,"column":4}}},"branchMap":{"1":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":10},"end":{"line":9,"column":14}},{"start":{"line":9,"column":18},"end":{"line":9,"column":20}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":10},"end":{"line":10,"column":14}},{"start":{"line":10,"column":18},"end":{"line":10,"column":20}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":2},"end":{"line":18,"column":2}},{"start":{"line":18,"column":2},"end":{"line":18,"column":2}}]},"4":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":9},"end":{"line":28,"column":9}},{"start":{"line":28,"column":9},"end":{"line":28,"column":9}}]}},"code":["var Delegator = require('dom-delegator')","","var delegator = Delegator()","delegator.listenTo('mousemove')","","module.exports = function(fn, data, opts){","  var handler = {","    fn: fn,","    data: data || {},","    opts: opts || {},","    handleEvent: handle","  }","  return handler;","}","","function handle(ev){","","  if (ev.type === 'mousedown') {","","    ev.preventDefault()","    delegator.addGlobalEventListener('mousemove', this)","    delegator.addGlobalEventListener('mouseup', this)","","    this.target = ev.target","    this.startX = ev.clientX","    this.startY = ev.clientY","","  } else if (ev.type === 'mouseup') {","    delegator.removeGlobalEventListener('mousemove', this)","    delegator.removeGlobalEventListener('mouseup', this)","  }","","  this.fn({","    x: ev.clientX,","    y: ev.clientY,","    offsetX: ev.clientX - this.startX,","    offsetY: ev.clientY - this.startY,","    altKey: ev.altKey,","    ctrlKey: ev.ctrlKey,","    shiftKey: ev.shiftKey,","    type: ev.type,","    target: this.target,","    currentTarget: ev.currentTarget","  })","}"],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"13":0,"16":1,"18":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"28":0,"29":0,"30":0,"33":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/mouse-position-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/mouse-position-event.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":13,"loc":{"start":{"line":13,"column":27},"end":{"line":13,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":49}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":31}},"10":{"start":{"line":11,"column":0},"end":{"line":11,"column":26}},"11":{"start":{"line":13,"column":0},"end":{"line":35,"column":2}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":26}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":52}},"14":{"start":{"line":16,"column":2},"end":{"line":34,"column":4}}},"branchMap":{},"code":["var BaseEvent = require('value-event/base-event')","var Delegator = require('dom-delegator')","var DataSet = require('data-set')","","var delegator = Delegator()","delegator.listenTo('dragstart')","delegator.listenTo('dragend')","delegator.listenTo('dragover')","delegator.listenTo('dragenter')","delegator.listenTo('dragleave')","delegator.listenTo('drop')","","module.exports = BaseEvent(function(ev, broadcast){","  var event = ev._rawEvent","  var box = ev.currentTarget.getBoundingClientRect()","  broadcast({","    x: event.clientX,","    y: event.clientY,","    offsetWidth: ev.currentTarget.offsetWidth,","    offsetHeight: ev.currentTarget.offsetHeight,","    offsetX: event.clientX - box.left,","    offsetY: event.clientY - box.top,","    dataTransfer: event.dataTransfer,","    currentTarget: ev.currentTarget,","","    ctrlKey: event.ctrlKey,","    shiftKey: event.shiftKey,","    altKey: event.altKey,","    metaKey: event.metaKey,","","    event: ev,","    target: event.target,","    data: this.data","  })","})"],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"16":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/no-drop.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/no-drop.js","s":{"1":1,"2":0,"3":0,"4":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":29}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":34},"end":{"line":2,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":6,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":5,"column":10}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":4},"end":{"line":4,"column":38}}},"branchMap":{},"code":["module.exports = function(el){","  el.addEventListener('dragover', function(e){","    e.preventDefault()","    e.dataTransfer.dropEffect = 'none'","  }, true)","}"],"l":{"1":1,"2":0,"3":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-class-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-class-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"ObservClassHook","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":40}}},"2":{"name":"update","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":59}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":25}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":84}},"6":{"start":{"line":7,"column":42},"end":{"line":7,"column":84}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":16}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":28}},"9":{"start":{"line":12,"column":0},"end":{"line":19,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":17}},"11":{"start":{"line":14,"column":2},"end":{"line":18,"column":3}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"13":{"start":{"line":17,"column":4},"end":{"line":17,"column":36}},"14":{"start":{"line":21,"column":0},"end":{"line":31,"column":1}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":17}},"16":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":48}},"18":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"19":{"start":{"line":26,"column":6},"end":{"line":28,"column":8}},"20":{"start":{"line":27,"column":8},"end":{"line":27,"column":80}},"21":{"start":{"line":33,"column":0},"end":{"line":39,"column":1}},"22":{"start":{"line":34,"column":2},"end":{"line":38,"column":3}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":45}},"24":{"start":{"line":37,"column":4},"end":{"line":37,"column":48}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"4":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":11}},{"start":{"line":23,"column":15},"end":{"line":23,"column":36}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":23}},{"start":{"line":24,"column":27},"end":{"line":24,"column":48}}]},"6":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"7":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"8":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":23}},{"start":{"line":37,"column":27},"end":{"line":37,"column":48}}]}},"code":["var watch = require('observ/watch')","var nextTick = require('next-tick')","","module.exports = ObservClassHook","","function ObservClassHook(obs, className){","  if (!(this instanceof ObservClassHook)) return new ObservClassHook(obs, className)","  this.obs = obs","  this.className = className","}","","function update(className, value){","  var node = this","  if (value) {","    node.classList.add(className)","  } else {","    node.classList.remove(className)","  }","}","","ObservClassHook.prototype.hook = function(node, prop, prev){","  var self = this","  if (!prev || prev.obs !== self.obs){","    self.removeListener && self.removeListener()","    if (self.obs){","      nextTick(function(){","        self.removeListener = watch(self.obs, update.bind(node, self.className))","      })","    }","  }","}","","ObservClassHook.prototype.unhook = function(node, prop, next){","  if (next){","    next.removeListener = this.removeListener","  } else {","    this.removeListener && this.removeListener()","  }","}"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"15":0,"17":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"33":1,"34":0,"35":0,"37":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-keys.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-keys.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"ObservKeys","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":27},"end":{"line":9,"column":50}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":27},"end":{"line":11,"column":40}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":47}}},"5":{"name":"(anonymous_5)","line":27,"loc":{"start":{"line":27,"column":13},"end":{"line":27,"column":29}}},"6":{"name":"(anonymous_6)","line":28,"loc":{"start":{"line":28,"column":27},"end":{"line":28,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":27}},"5":{"start":{"line":7,"column":0},"end":{"line":36,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":33}},"7":{"start":{"line":9,"column":2},"end":{"line":18,"column":8}},"8":{"start":{"line":10,"column":4},"end":{"line":16,"column":5}},"9":{"start":{"line":11,"column":6},"end":{"line":13,"column":8}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":23}},"11":{"start":{"line":15,"column":6},"end":{"line":15,"column":32}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":17}},"13":{"start":{"line":20,"column":2},"end":{"line":23,"column":8}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":30}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":17}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":32}},"17":{"start":{"line":27,"column":2},"end":{"line":33,"column":4}},"18":{"start":{"line":28,"column":4},"end":{"line":32,"column":11}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":28}},"20":{"start":{"line":30,"column":6},"end":{"line":30,"column":42}},"21":{"start":{"line":30,"column":24},"end":{"line":30,"column":42}},"22":{"start":{"line":31,"column":6},"end":{"line":31,"column":19}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":15}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"2":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":6}},{"start":{"line":30,"column":6},"end":{"line":30,"column":6}}]}},"code":["var ObservStruct = require('observ-struct')","var Observ = require('observ')","var watch = require('observ/watch')","","module.exports = ObservKeys","","function ObservKeys (obs, mapping) {","  var keys = Object.keys(mapping)","  var lookup = keys.reduce(function (result, key) {","    if (Array.isArray(mapping[key])) {","      mapping[key].forEach(function (k) {","        result[k] = key","      })","    } else {","      result[mapping[key]] = key","    }","    return result","  }, {})","","  var obj = keys.reduce(function (result, key) {","    result[key] = Observ(null)","    return result","  }, {})","","  var struct = ObservStruct(obj)","","  watch(obs, function (down) {","    struct.set(down.reduce(function (result, code) {","      var key = lookup[code]","      if (key !== null) result[key] = true","      return result","    }, {}))","  })","","  return struct","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"15":0,"17":0,"20":0,"21":0,"22":0,"25":0,"27":0,"28":0,"29":0,"30":0,"31":0,"35":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-style-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-style-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"ObservStyleHook","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":45}}},"2":{"name":"update","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":38}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":33},"end":{"line":18,"column":59}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":15},"end":{"line":26,"column":25}}},"5":{"name":"(anonymous_5)","line":33,"loc":{"start":{"line":33,"column":35},"end":{"line":33,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":11,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":89}},"6":{"start":{"line":7,"column":42},"end":{"line":7,"column":89}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":16}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":26}},"10":{"start":{"line":13,"column":0},"end":{"line":16,"column":1}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":17}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":55}},"13":{"start":{"line":18,"column":0},"end":{"line":31,"column":1}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":17}},"15":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":59}},"17":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":48}},"19":{"start":{"line":25,"column":4},"end":{"line":29,"column":5}},"20":{"start":{"line":26,"column":6},"end":{"line":28,"column":8}},"21":{"start":{"line":27,"column":8},"end":{"line":27,"column":90}},"22":{"start":{"line":33,"column":0},"end":{"line":40,"column":1}},"23":{"start":{"line":34,"column":2},"end":{"line":34,"column":28}},"24":{"start":{"line":35,"column":2},"end":{"line":39,"column":3}},"25":{"start":{"line":36,"column":4},"end":{"line":36,"column":45}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":48}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":32},"end":{"line":15,"column":47}},{"start":{"line":15,"column":50},"end":{"line":15,"column":55}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"5":{"line":23,"type":"binary-expr","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":11}},{"start":{"line":23,"column":15},"end":{"line":23,"column":36}}]},"6":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":23}},{"start":{"line":24,"column":27},"end":{"line":24,"column":48}}]},"7":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"8":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"9":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":23}},{"start":{"line":38,"column":27},"end":{"line":38,"column":48}}]}},"code":["var watch = require('observ/watch')","var nextTick = require('next-tick')","","module.exports = ObservStyleHook","","function ObservStyleHook(obs, prop, getValue){","  if (!(this instanceof ObservStyleHook)) return new ObservStyleHook(obs, prop, getValue)","  this.obs = obs","  this.prop = prop","  this.getValue = getValue","}","","function update(prop, getValue, value){","  var node = this","  node.style[prop] = getValue ? getValue(value) : value","}","","ObservStyleHook.prototype.hook = function(node, prop, prev){","  var self = this","  if (typeof self.obs === 'function') {","    update.call(node, self.prop, self.getValue, self.obs())","  }","  if (!prev || prev.obs !== self.obs){","    self.removeListener && self.removeListener()","    if (self.obs){","      nextTick(function(){","        self.removeListener = watch(self.obs, update.bind(node, self.prop, self.getValue))","      })","    }","  }","}","","ObservStyleHook.prototype.unhook = function(node, prop, next){","  node.style[this.prop] = ''","  if (next){","    next.removeListener = this.removeListener","  } else {","    this.removeListener && this.removeListener()","  }","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"13":1,"14":0,"15":0,"18":1,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"26":0,"27":0,"33":1,"34":0,"35":0,"36":0,"38":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-value-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/observ-value-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":1,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"ObservValueHook","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}}},"2":{"name":"update","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":38}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":40},"end":{"line":17,"column":53}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":33},"end":{"line":21,"column":59}}},"5":{"name":"(anonymous_5)","line":27,"loc":{"start":{"line":27,"column":15},"end":{"line":27,"column":25}}},"6":{"name":"(anonymous_6)","line":34,"loc":{"start":{"line":34,"column":35},"end":{"line":34,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":83}},"6":{"start":{"line":7,"column":42},"end":{"line":7,"column":83}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":16}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"9":{"start":{"line":12,"column":0},"end":{"line":15,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":17}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":49}},"12":{"start":{"line":17,"column":0},"end":{"line":19,"column":1}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":52}},"14":{"start":{"line":21,"column":0},"end":{"line":32,"column":1}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":17}},"16":{"start":{"line":23,"column":2},"end":{"line":23,"column":38}},"17":{"start":{"line":24,"column":2},"end":{"line":31,"column":3}},"18":{"start":{"line":25,"column":4},"end":{"line":25,"column":48}},"19":{"start":{"line":26,"column":4},"end":{"line":30,"column":5}},"20":{"start":{"line":27,"column":6},"end":{"line":29,"column":8}},"21":{"start":{"line":28,"column":8},"end":{"line":28,"column":85}},"22":{"start":{"line":34,"column":0},"end":{"line":41,"column":1}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":41}},"24":{"start":{"line":36,"column":2},"end":{"line":40,"column":3}},"25":{"start":{"line":37,"column":4},"end":{"line":37,"column":45}},"26":{"start":{"line":39,"column":4},"end":{"line":39,"column":48}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":26},"end":{"line":14,"column":41}},{"start":{"line":14,"column":44},"end":{"line":14,"column":49}}]},"3":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":26},"end":{"line":18,"column":47}},{"start":{"line":18,"column":49},"end":{"line":18,"column":50}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":11}},{"start":{"line":24,"column":15},"end":{"line":24,"column":36}}]},"6":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":23}},{"start":{"line":25,"column":27},"end":{"line":25,"column":48}}]},"7":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"8":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"9":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":23}},{"start":{"line":39,"column":27},"end":{"line":39,"column":48}}]}},"code":["var watch = require('observ/watch')","var nextTick = require('next-tick')","","module.exports = ObservValueHook","","function ObservValueHook(obs, getValue){","  if (!(this instanceof ObservValueHook)) return new ObservValueHook(obs, getValue)","  this.obs = obs","  this.getValue = getValue","}","","function update(prop, getValue, value){","  var node = this","  node[prop] = getValue ? getValue(value) : value","}","","ObservValueHook.prototype.handleEvent = function (e) {","  this.obs.set(parseFloat(e.currentTarget.value||0))","}","","ObservValueHook.prototype.hook = function(node, prop, prev){","  var self = this","  node.addEventListener('input', this)  ","  if (!prev || prev.obs !== self.obs){","    self.removeListener && self.removeListener()","    if (self.obs){","      nextTick(function(){","        self.removeListener = watch(self.obs, update.bind(node, prop, self.getValue))","      })","    }","  }","}","","ObservValueHook.prototype.unhook = function(node, prop, next){","  node.removeEventListener('input', this)","  if (next){","    next.removeListener = this.removeListener","  } else {","    this.removeListener && this.removeListener()","  }","}"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"9":0,"12":1,"13":0,"14":0,"17":1,"18":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"34":1,"35":0,"36":0,"37":0,"39":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/on-trigger.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/on-trigger.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":34}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":15},"end":{"line":4,"column":35}}},"3":{"name":"rebind","line":8,"loc":{"start":{"line":8,"column":4},"end":{"line":8,"column":23}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":20},"end":{"line":13,"column":38}}},"5":{"name":"(anonymous_5)","line":15,"loc":{"start":{"line":15,"column":44},"end":{"line":15,"column":59}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":24,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":23,"column":4}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":21}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":17}},"6":{"start":{"line":8,"column":4},"end":{"line":22,"column":5}},"7":{"start":{"line":9,"column":6},"end":{"line":11,"column":7}},"8":{"start":{"line":10,"column":8},"end":{"line":10,"column":24}},"9":{"start":{"line":13,"column":6},"end":{"line":21,"column":8}},"10":{"start":{"line":14,"column":8},"end":{"line":20,"column":9}},"11":{"start":{"line":15,"column":10},"end":{"line":19,"column":13}},"12":{"start":{"line":16,"column":12},"end":{"line":18,"column":13}},"13":{"start":{"line":17,"column":14},"end":{"line":17,"column":26}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":8}},{"start":{"line":14,"column":8},"end":{"line":14,"column":8}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":16}},{"start":{"line":14,"column":20},"end":{"line":14,"column":29}},{"start":{"line":14,"column":33},"end":{"line":14,"column":52}}]},"3":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":12}},{"start":{"line":16,"column":12},"end":{"line":16,"column":12}}]}},"code":["var Event = require('geval')","","module.exports = function (items) {","  return Event(function(broadcast) {","    var releases = []","    items(rebind)","","    function rebind () {","      while (releases.length) {","        releases.pop()()","      }","","      items.forEach(function(item, i) {","        if (item && item.node && item.node.onTrigger) {","          releases.push(item.node.onTrigger(function(data) {","            if (data.event === 'start') {","              broadcast(i)","            }","          }))","        }","      })","    }","  })","}"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"8":1,"9":0,"10":0,"13":0,"14":0,"15":0,"16":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/query-param.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/query-param.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"QueryParam","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}}},"2":{"name":"(anonymous_2)","line":15,"loc":{"start":{"line":15,"column":55},"end":{"line":15,"column":70}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":28},"end":{"line":34,"column":38}}},"4":{"name":"obtain","line":44,"loc":{"start":{"line":44,"column":0},"end":{"line":44,"column":20}}},"5":{"name":"read","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":87}},"5":{"start":{"line":6,"column":37},"end":{"line":6,"column":87}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":34}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":31}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":40}},"11":{"start":{"line":15,"column":0},"end":{"line":32,"column":1}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":43}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":78}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":37}},"15":{"start":{"line":21,"column":2},"end":{"line":31,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":26,"column":5}},"17":{"start":{"line":23,"column":6},"end":{"line":23,"column":25}},"18":{"start":{"line":25,"column":6},"end":{"line":25,"column":26}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":30}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":15}},"21":{"start":{"line":30,"column":4},"end":{"line":30,"column":16}},"22":{"start":{"line":34,"column":0},"end":{"line":42,"column":1}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":60}},"24":{"start":{"line":38,"column":2},"end":{"line":39,"column":63}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":64}},"26":{"start":{"line":44,"column":0},"end":{"line":46,"column":1}},"27":{"start":{"line":45,"column":2},"end":{"line":45,"column":40}},"28":{"start":{"line":48,"column":0},"end":{"line":54,"column":1}},"29":{"start":{"line":49,"column":2},"end":{"line":53,"column":3}},"30":{"start":{"line":50,"column":4},"end":{"line":50,"column":19}},"31":{"start":{"line":51,"column":9},"end":{"line":53,"column":3}},"32":{"start":{"line":52,"column":4},"end":{"line":52,"column":24}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":4},"end":{"line":22,"column":4}},{"start":{"line":22,"column":4},"end":{"line":22,"column":4}}]},"4":{"line":38,"type":"cond-expr","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":57}},{"start":{"line":39,"column":60},"end":{"line":39,"column":63}}]},"5":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":8},"end":{"line":38,"column":31}},{"start":{"line":38,"column":35},"end":{"line":38,"column":51}}]},"6":{"line":41,"type":"cond-expr","locations":[{"start":{"line":41,"column":35},"end":{"line":41,"column":52}},{"start":{"line":41,"column":55},"end":{"line":41,"column":64}}]},"7":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":9},"end":{"line":51,"column":9}},{"start":{"line":51,"column":9},"end":{"line":51,"column":9}}]},"9":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":13},"end":{"line":51,"column":19}},{"start":{"line":51,"column":23},"end":{"line":51,"column":34}}]}},"code":["var jsonQuery = require('json-query')","","module.exports = QueryParam","","function QueryParam(target, query, defaultValue){","  if (!(this instanceof QueryParam)) return new QueryParam(target, query, defaultValue)","  this.target = target","  this.query = query","  this.defaultValue = defaultValue","  this.context = target.context","}","","QueryParam.prototype.type = 'QueryParam'","","QueryParam.prototype.write = QueryParam.prototype.set =function(value){","  var newObject = obtain(read(this.target))","  ","  var res = jsonQuery(this.query, {data: newObject, force: this.defaultValue})","  var obj = jsonQuery.lastParent(res)","","  if (obj){","    if (value === undefined){","      delete obj[res.key]","    } else {","      obj[res.key] = value","    }","    this.target.set(newObject)","    return true","  } else {","    return false","  }","}","","QueryParam.prototype.read = function(){","  var res = jsonQuery(this.query, {data: read(this.target)})","","  // fallback to inner value","  res = res.value === undefined && this.target.node ?","    jsonQuery(this.query, {data: read(this.target.node)}) : res","","  return res.value === undefined ? this.defaultValue : res.value","}","","function obtain(obj){","  return JSON.parse(JSON.stringify(obj))","}","","function read(target){","  if (typeof target === 'function'){","    return target()","  } else if (target && target.read){","    return target.read()","  }","}"],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":1,"15":1,"16":0,"18":0,"19":0,"21":0,"22":0,"23":0,"25":0,"27":0,"28":0,"30":0,"34":1,"35":0,"38":0,"41":0,"44":1,"45":0,"48":1,"49":0,"50":0,"51":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/random-color.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/random-color.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"randomColor","line":2,"loc":{"start":{"line":2,"column":0},"end":{"line":2,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":2,"column":0},"end":{"line":12,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":31}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":2},"end":{"line":10,"column":3}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":28}},"8":{"start":{"line":8,"column":4},"end":{"line":8,"column":32}},"9":{"start":{"line":9,"column":4},"end":{"line":9,"column":30}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":61}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]}},"code":["module.exports = randomColor","function randomColor(mix){","  var red = Math.random()*256","  var green = Math.random()*256","  var blue = Math.random()*256","  if (mix != null) {","    red = (red + mix[0]) / 2","    green = (green + mix[1]) / 2","    blue = (blue + mix[2]) / 2","  }","  return [Math.floor(red),Math.floor(green),Math.floor(blue)]","}"],"l":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/rename-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/rename-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":1,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":1,"72":0,"73":0,"74":0,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":1,"101":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"RenameHook","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":28},"end":{"line":16,"column":59}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":30},"end":{"line":36,"column":58}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":30},"end":{"line":45,"column":44}}},"5":{"name":"(anonymous_5)","line":56,"loc":{"start":{"line":56,"column":28},"end":{"line":56,"column":40}}},"6":{"name":"(anonymous_6)","line":82,"loc":{"start":{"line":82,"column":30},"end":{"line":82,"column":42}}},"7":{"name":"(anonymous_7)","line":91,"loc":{"start":{"line":91,"column":20},"end":{"line":91,"column":39}}},"8":{"name":"(anonymous_8)","line":92,"loc":{"start":{"line":92,"column":13},"end":{"line":92,"column":25}}},"9":{"name":"(anonymous_9)","line":100,"loc":{"start":{"line":100,"column":18},"end":{"line":100,"column":33}}},"10":{"name":"(anonymous_10)","line":107,"loc":{"start":{"line":107,"column":20},"end":{"line":107,"column":35}}},"11":{"name":"(anonymous_11)","line":114,"loc":{"start":{"line":114,"column":17},"end":{"line":114,"column":32}}},"12":{"name":"handleEvent","line":122,"loc":{"start":{"line":122,"column":0},"end":{"line":122,"column":25}}},"13":{"name":"selectInside","line":142,"loc":{"start":{"line":142,"column":0},"end":{"line":142,"column":32}}},"14":{"name":"clearSelection","line":150,"loc":{"start":{"line":150,"column":0},"end":{"line":150,"column":27}}},"15":{"name":"resolve","line":155,"loc":{"start":{"line":155,"column":0},"end":{"line":155,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":19}},"5":{"start":{"line":8,"column":0},"end":{"line":14,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":72}},"7":{"start":{"line":9,"column":37},"end":{"line":9,"column":72}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":32}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":34}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":19}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":23}},"12":{"start":{"line":16,"column":0},"end":{"line":34,"column":1}},"13":{"start":{"line":17,"column":2},"end":{"line":31,"column":3}},"14":{"start":{"line":18,"column":4},"end":{"line":18,"column":59}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":29}},"17":{"start":{"line":22,"column":4},"end":{"line":25,"column":5}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":59}},"19":{"start":{"line":27,"column":4},"end":{"line":27,"column":57}},"20":{"start":{"line":28,"column":4},"end":{"line":28,"column":58}},"21":{"start":{"line":29,"column":4},"end":{"line":29,"column":54}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":57}},"23":{"start":{"line":33,"column":2},"end":{"line":33,"column":18}},"24":{"start":{"line":36,"column":0},"end":{"line":43,"column":1}},"25":{"start":{"line":37,"column":2},"end":{"line":42,"column":3}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":60}},"27":{"start":{"line":39,"column":4},"end":{"line":39,"column":61}},"28":{"start":{"line":40,"column":4},"end":{"line":40,"column":57}},"29":{"start":{"line":41,"column":4},"end":{"line":41,"column":60}},"30":{"start":{"line":45,"column":0},"end":{"line":54,"column":1}},"31":{"start":{"line":46,"column":2},"end":{"line":53,"column":3}},"32":{"start":{"line":47,"column":4},"end":{"line":47,"column":36}},"33":{"start":{"line":48,"column":4},"end":{"line":48,"column":26}},"34":{"start":{"line":50,"column":4},"end":{"line":50,"column":42}},"35":{"start":{"line":51,"column":4},"end":{"line":51,"column":37}},"36":{"start":{"line":52,"column":4},"end":{"line":52,"column":27}},"37":{"start":{"line":56,"column":0},"end":{"line":80,"column":1}},"38":{"start":{"line":57,"column":2},"end":{"line":79,"column":3}},"39":{"start":{"line":58,"column":4},"end":{"line":58,"column":37}},"40":{"start":{"line":59,"column":4},"end":{"line":59,"column":42}},"41":{"start":{"line":60,"column":4},"end":{"line":60,"column":30}},"42":{"start":{"line":61,"column":4},"end":{"line":61,"column":45}},"43":{"start":{"line":63,"column":4},"end":{"line":63,"column":37}},"44":{"start":{"line":64,"column":4},"end":{"line":64,"column":20}},"45":{"start":{"line":66,"column":4},"end":{"line":76,"column":5}},"46":{"start":{"line":67,"column":6},"end":{"line":69,"column":7}},"47":{"start":{"line":68,"column":8},"end":{"line":68,"column":68}},"48":{"start":{"line":71,"column":6},"end":{"line":71,"column":24}},"49":{"start":{"line":73,"column":6},"end":{"line":75,"column":7}},"50":{"start":{"line":74,"column":8},"end":{"line":74,"column":62}},"51":{"start":{"line":78,"column":4},"end":{"line":78,"column":19}},"52":{"start":{"line":82,"column":0},"end":{"line":89,"column":1}},"53":{"start":{"line":83,"column":2},"end":{"line":88,"column":3}},"54":{"start":{"line":84,"column":4},"end":{"line":84,"column":64}},"55":{"start":{"line":85,"column":4},"end":{"line":85,"column":37}},"56":{"start":{"line":86,"column":4},"end":{"line":86,"column":20}},"57":{"start":{"line":87,"column":4},"end":{"line":87,"column":19}},"58":{"start":{"line":91,"column":0},"end":{"line":98,"column":1}},"59":{"start":{"line":92,"column":2},"end":{"line":97,"column":8}},"60":{"start":{"line":93,"column":4},"end":{"line":93,"column":30}},"61":{"start":{"line":94,"column":4},"end":{"line":96,"column":5}},"62":{"start":{"line":95,"column":6},"end":{"line":95,"column":21}},"63":{"start":{"line":100,"column":0},"end":{"line":105,"column":1}},"64":{"start":{"line":101,"column":2},"end":{"line":101,"column":32}},"65":{"start":{"line":102,"column":2},"end":{"line":104,"column":3}},"66":{"start":{"line":103,"column":4},"end":{"line":103,"column":15}},"67":{"start":{"line":107,"column":0},"end":{"line":112,"column":1}},"68":{"start":{"line":108,"column":2},"end":{"line":108,"column":32}},"69":{"start":{"line":109,"column":2},"end":{"line":111,"column":3}},"70":{"start":{"line":110,"column":4},"end":{"line":110,"column":15}},"71":{"start":{"line":114,"column":0},"end":{"line":120,"column":1}},"72":{"start":{"line":115,"column":2},"end":{"line":119,"column":3}},"73":{"start":{"line":116,"column":4},"end":{"line":116,"column":26}},"74":{"start":{"line":117,"column":9},"end":{"line":119,"column":3}},"75":{"start":{"line":118,"column":4},"end":{"line":118,"column":31}},"76":{"start":{"line":122,"column":0},"end":{"line":140,"column":1}},"77":{"start":{"line":123,"column":2},"end":{"line":123,"column":22}},"78":{"start":{"line":124,"column":2},"end":{"line":139,"column":3}},"79":{"start":{"line":125,"column":4},"end":{"line":138,"column":5}},"80":{"start":{"line":126,"column":6},"end":{"line":126,"column":19}},"81":{"start":{"line":127,"column":11},"end":{"line":138,"column":5}},"82":{"start":{"line":128,"column":6},"end":{"line":128,"column":25}},"83":{"start":{"line":129,"column":11},"end":{"line":138,"column":5}},"84":{"start":{"line":130,"column":6},"end":{"line":135,"column":7}},"85":{"start":{"line":131,"column":8},"end":{"line":131,"column":19}},"86":{"start":{"line":132,"column":8},"end":{"line":132,"column":26}},"87":{"start":{"line":133,"column":13},"end":{"line":135,"column":7}},"88":{"start":{"line":134,"column":8},"end":{"line":134,"column":21}},"89":{"start":{"line":136,"column":11},"end":{"line":138,"column":5}},"90":{"start":{"line":137,"column":6},"end":{"line":137,"column":17}},"91":{"start":{"line":142,"column":0},"end":{"line":148,"column":1}},"92":{"start":{"line":143,"column":2},"end":{"line":143,"column":36}},"93":{"start":{"line":144,"column":2},"end":{"line":144,"column":35}},"94":{"start":{"line":145,"column":2},"end":{"line":145,"column":33}},"95":{"start":{"line":146,"column":2},"end":{"line":146,"column":23}},"96":{"start":{"line":147,"column":2},"end":{"line":147,"column":21}},"97":{"start":{"line":150,"column":0},"end":{"line":153,"column":1}},"98":{"start":{"line":151,"column":2},"end":{"line":151,"column":33}},"99":{"start":{"line":152,"column":2},"end":{"line":152,"column":23}},"100":{"start":{"line":155,"column":0},"end":{"line":157,"column":1}},"101":{"start":{"line":156,"column":2},"end":{"line":156,"column":48}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"3":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":2},"end":{"line":46,"column":2}},{"start":{"line":46,"column":2},"end":{"line":46,"column":2}}]},"5":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":6},"end":{"line":46,"column":30}},{"start":{"line":46,"column":34},"end":{"line":46,"column":55}}]},"6":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]},"7":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"8":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":6},"end":{"line":67,"column":6}},{"start":{"line":67,"column":6},"end":{"line":67,"column":6}}]},"9":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":10},"end":{"line":67,"column":17}},{"start":{"line":67,"column":21},"end":{"line":67,"column":39}},{"start":{"line":67,"column":43},"end":{"line":67,"column":78}}]},"10":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":6}},{"start":{"line":73,"column":6},"end":{"line":73,"column":6}}]},"11":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2}}]},"12":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":4},"end":{"line":94,"column":4}},{"start":{"line":94,"column":4},"end":{"line":94,"column":4}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"14":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":2},"end":{"line":109,"column":2}},{"start":{"line":109,"column":2},"end":{"line":109,"column":2}}]},"15":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":2},"end":{"line":115,"column":2}},{"start":{"line":115,"column":2},"end":{"line":115,"column":2}}]},"16":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":9},"end":{"line":117,"column":9}},{"start":{"line":117,"column":9},"end":{"line":117,"column":9}}]},"17":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":2},"end":{"line":124,"column":2}},{"start":{"line":124,"column":2},"end":{"line":124,"column":2}}]},"18":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":4},"end":{"line":125,"column":4}},{"start":{"line":125,"column":4},"end":{"line":125,"column":4}}]},"19":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":11},"end":{"line":127,"column":11}},{"start":{"line":127,"column":11},"end":{"line":127,"column":11}}]},"20":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":11},"end":{"line":129,"column":11}},{"start":{"line":129,"column":11},"end":{"line":129,"column":11}}]},"21":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":6},"end":{"line":130,"column":6}},{"start":{"line":130,"column":6},"end":{"line":130,"column":6}}]},"22":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":13},"end":{"line":133,"column":13}},{"start":{"line":133,"column":13},"end":{"line":133,"column":13}}]},"23":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":11},"end":{"line":136,"column":11}},{"start":{"line":136,"column":11},"end":{"line":136,"column":11}}]},"24":{"line":156,"type":"cond-expr","locations":[{"start":{"line":156,"column":37},"end":{"line":156,"column":42}},{"start":{"line":156,"column":45},"end":{"line":156,"column":48}}]}},"code":["var QueryParam = require('lib/query-param')","","module.exports = RenameHook","","var lookup = new WeakMap()","var renaming = null","","function RenameHook (obs, options) {","  if (!(this instanceof RenameHook)) return new RenameHook(obs, options)","  this.enabled = options.enabled","  this.onChange = options.onChange","  this.object = obs","  lookup.set(obs, this)","}","","RenameHook.prototype.hook = function (node, prop, current) {","  if (current) {","    node.textContent = QueryParam(this.object, 'id').read()","    this.listener = current.listener","    this.listener.hook = this","  } else {","    this.listener = {","      handleEvent: handleEvent,","      hook: this","    }","    node.textContent = QueryParam(this.object, 'id').read()","    node.addEventListener('mouseup', this.listener, true)","    node.addEventListener('dblclick', this.listener, true)","    node.addEventListener('blur', this.listener, true)","    node.addEventListener('keydown', this.listener, true)","  }","","  this.node = node","}","","RenameHook.prototype.unhook = function (node, prop, next) {","  if (!next) {","    node.removeEventListener('mouseup', this.listener, true)","    node.removeEventListener('dblclick', this.listener, true)","    node.removeEventListener('blur', this.listener, true)","    node.removeEventListener('keydown', this.listener, true)","  }","}","","RenameHook.prototype.rename = function (cb) {","  if (renaming !== this.object && resolve(this.enabled)) {","    this.node.contentEditable = true","    renaming = this.object","","    var id = QueryParam(this.object, 'id')","    this.node.textContent = id.read()","    selectInside(this.node)","  }","}","","RenameHook.prototype.save = function () {","  if (renaming === this.object) {","    var context = this.object.context","    var id = QueryParam(this.object, 'id')","    this.lastValue = id.read()","    this.value = this.node.textContent.trim()","","    this.node.contentEditable = false","    clearSelection()","","    if (this.value !== this.lastValue) {","      if (context && context.collection && context.collection.resolveAvailable) {","        this.value = context.collection.resolveAvailable(this.value)","      }","","      id.set(this.value)","","      if (this.onChange) {","        this.onChange(this.lastValue, this.value, this.object)","      }","    }","","    renaming = null","  }","}","","RenameHook.prototype.cancel = function () {","  if (renaming === this.object) {","    this.node.textContent = QueryParam(this.object, 'id').read()","    this.node.contentEditable = false","    clearSelection()","    renaming = null","  }","}","","RenameHook.rename = function (obs, cb) {","  setTimeout(function () {","    var hook = lookup.get(obs)","    if (hook) {","      hook.rename(cb)","    }","  }, 50)","}","","RenameHook.save = function (obs) {","  var hook = RenameHook.get(obs)","  if (hook) {","    hook.save()","  }","}","","RenameHook.cancel = function (obs) {","  var hook = RenameHook.get(obs)","  if (hook) {","    hook.save()","  }","}","","RenameHook.get = function (obs) {","  if (obs) {","    return lookup.get(obs)","  } else if (renaming) {","    return lookup.get(renaming)","  }","}","","function handleEvent (e) {","  var hook = this.hook","  if (hook) {","    if (e.type === 'mouseup') {","      hook.rename()","    } else if (e.type === 'dblclick') {","      e.stopPropagation()","    } else if (e.type === 'keydown') {","      if (e.keyCode === 13) { // enter","        hook.save()","        e.preventDefault()","      } else if (e.keyCode === 27) { // esc","        hook.cancel()","      }","    } else if (e.type === 'blur') {","      hook.save()","    }","  }","}","","function selectInside (element) {","  var range = document.createRange()","  range.selectNodeContents(element)","  var sel = window.getSelection()","  sel.removeAllRanges()","  sel.addRange(range)","}","","function clearSelection () {","  var sel = window.getSelection()","  sel.removeAllRanges()","}","","function resolve (val) {","  return typeof val === 'function' ? val() : val","}",""],"l":{"1":1,"3":1,"5":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"16":1,"17":0,"18":0,"19":0,"20":0,"22":0,"26":0,"27":0,"28":0,"29":0,"30":0,"33":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"45":1,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"66":0,"67":0,"68":0,"71":0,"73":0,"74":0,"78":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"91":1,"92":0,"93":0,"94":0,"95":0,"100":1,"101":0,"102":0,"103":0,"107":1,"108":0,"109":0,"110":0,"114":1,"115":0,"116":0,"117":0,"118":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"136":0,"137":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"150":1,"151":0,"152":0,"155":1,"156":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/rename-widget.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/rename-widget.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":1,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"renameElement","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":64}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":31},"end":{"line":14,"column":41}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":22},"end":{"line":20,"column":33}}},"4":{"name":"handleRenameBlur","line":29,"loc":{"start":{"line":29,"column":19},"end":{"line":29,"column":47}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":13},"end":{"line":30,"column":23}}},"6":{"name":"(anonymous_6)","line":38,"loc":{"start":{"line":38,"column":11},"end":{"line":38,"column":21}}},"7":{"name":"save","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":19}}},"8":{"name":"(anonymous_8)","line":52,"loc":{"start":{"line":52,"column":35},"end":{"line":52,"column":45}}},"9":{"name":"(anonymous_9)","line":55,"loc":{"start":{"line":55,"column":33},"end":{"line":55,"column":56}}},"10":{"name":"selectInside","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":6,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":106}},"6":{"start":{"line":7,"column":40},"end":{"line":7,"column":106}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":26}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":34}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":18}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":39}},"12":{"start":{"line":14,"column":0},"end":{"line":51,"column":1}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":46}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":24}},"15":{"start":{"line":17,"column":2},"end":{"line":17,"column":24}},"16":{"start":{"line":18,"column":2},"end":{"line":18,"column":53}},"17":{"start":{"line":19,"column":2},"end":{"line":19,"column":75}},"18":{"start":{"line":20,"column":2},"end":{"line":28,"column":3}},"19":{"start":{"line":21,"column":4},"end":{"line":27,"column":5}},"20":{"start":{"line":22,"column":6},"end":{"line":22,"column":12}},"21":{"start":{"line":23,"column":6},"end":{"line":23,"column":18}},"22":{"start":{"line":24,"column":11},"end":{"line":27,"column":5}},"23":{"start":{"line":25,"column":6},"end":{"line":25,"column":36}},"24":{"start":{"line":26,"column":6},"end":{"line":26,"column":18}},"25":{"start":{"line":29,"column":2},"end":{"line":36,"column":3}},"26":{"start":{"line":30,"column":4},"end":{"line":35,"column":6}},"27":{"start":{"line":31,"column":6},"end":{"line":34,"column":7}},"28":{"start":{"line":33,"column":8},"end":{"line":33,"column":14}},"29":{"start":{"line":37,"column":2},"end":{"line":37,"column":32}},"30":{"start":{"line":38,"column":2},"end":{"line":40,"column":4}},"31":{"start":{"line":39,"column":4},"end":{"line":39,"column":25}},"32":{"start":{"line":42,"column":2},"end":{"line":48,"column":3}},"33":{"start":{"line":43,"column":4},"end":{"line":47,"column":5}},"34":{"start":{"line":44,"column":6},"end":{"line":44,"column":34}},"35":{"start":{"line":46,"column":6},"end":{"line":46,"column":36}},"36":{"start":{"line":50,"column":2},"end":{"line":50,"column":16}},"37":{"start":{"line":52,"column":0},"end":{"line":54,"column":1}},"38":{"start":{"line":53,"column":2},"end":{"line":53,"column":71}},"39":{"start":{"line":55,"column":0},"end":{"line":58,"column":1}},"40":{"start":{"line":56,"column":2},"end":{"line":56,"column":24}},"41":{"start":{"line":57,"column":2},"end":{"line":57,"column":24}},"42":{"start":{"line":60,"column":0},"end":{"line":66,"column":1}},"43":{"start":{"line":61,"column":2},"end":{"line":61,"column":37}},"44":{"start":{"line":62,"column":2},"end":{"line":62,"column":36}},"45":{"start":{"line":63,"column":2},"end":{"line":63,"column":34}},"46":{"start":{"line":64,"column":2},"end":{"line":64,"column":24}},"47":{"start":{"line":65,"column":2},"end":{"line":65,"column":21}},"48":{"start":{"line":68,"column":0},"end":{"line":68,"column":30}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":11}},{"start":{"line":24,"column":11},"end":{"line":24,"column":11}}]},"4":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]},"5":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":10},"end":{"line":31,"column":28}},{"start":{"line":31,"column":32},"end":{"line":31,"column":47}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":4},"end":{"line":43,"column":4}},{"start":{"line":43,"column":4},"end":{"line":43,"column":4}}]}},"code":["var getBaseName = require('path').basename","var getExtName = require('path').extname","","var nextTick = require('next-tick')","","function renameElement(fileName, saveRename, cancelRename, data){ ","  if (!(this instanceof renameElement)) return new renameElement(fileName, saveRename, cancelRename, data) ","  this.fileName = fileName","  this.saveRename = saveRename","  this.cancelRename = cancelRename","  this.data = data","}","renameElement.prototype.type = 'Widget'","renameElement.prototype.init = function(){","  var element = document.createElement('span')","  this.element = element","  element.context = this","  element.dataset.extname = getExtName(this.fileName)","  element.textContent = getBaseName(this.fileName, element.dataset.extname)","  element.onkeydown = function(e){","    if (event.keyCode === 13){","      save()","      return false","    } else if (event.keyCode === 27){","      element.context.cancelRename()","      return false","    }","  }","  element.onblur = function handleRenameBlur(e){","    nextTick(function(){","      if (element.parentNode && element.context){","        // only save if still active!","        save()","      }","    })","  }","  element.contentEditable = true","  nextTick(function(){","    selectInside(element)","  })","","  function save () {","    if (element.context.getValue() !== element.context.fileName) {","      element.context.saveRename()","    } else {","      element.context.cancelRename()","    }","  }","","  return element","}","renameElement.prototype.getValue = function(){","  return this.element.textContent.trim() + this.element.dataset.extname","}","renameElement.prototype.update = function(prev, element){","  element.context = this","  this.element = element","}","","function selectInside(element){","  var range = document.createRange();","  range.selectNodeContents(element);","  var sel = window.getSelection();","  sel.removeAllRanges();","  sel.addRange(range)","}","","module.exports = renameElement"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"29":0,"30":0,"31":0,"33":0,"37":0,"38":0,"39":0,"42":1,"43":0,"44":0,"46":0,"50":0,"52":1,"53":0,"55":1,"56":0,"57":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"68":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/render-node.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/render-node.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0},"b":{"1":[0,0],"2":[0,0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":33}}},"2":{"name":"resolve","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"3":{"start":{"line":4,"column":0},"end":{"line":20,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":16,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":45}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":34}},"7":{"start":{"line":9,"column":4},"end":{"line":15,"column":5}},"8":{"start":{"line":10,"column":6},"end":{"line":10,"column":19}},"9":{"start":{"line":11,"column":6},"end":{"line":13,"column":7}},"10":{"start":{"line":12,"column":8},"end":{"line":12,"column":52}},"11":{"start":{"line":14,"column":6},"end":{"line":14,"column":85}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":45}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":25}},"14":{"start":{"line":22,"column":0},"end":{"line":24,"column":1}},"15":{"start":{"line":23,"column":2},"end":{"line":23,"column":48}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":6},"end":{"line":5,"column":10}},{"start":{"line":5,"column":14},"end":{"line":5,"column":20}},{"start":{"line":5,"column":24},"end":{"line":5,"column":35}},{"start":{"line":5,"column":39},"end":{"line":5,"column":51}},{"start":{"line":5,"column":55},"end":{"line":5,"column":76}}]},"3":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"4":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":6},"end":{"line":11,"column":6}},{"start":{"line":11,"column":6},"end":{"line":11,"column":6}}]},"5":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":30},"end":{"line":18,"column":34}},{"start":{"line":18,"column":38},"end":{"line":18,"column":44}}]},"6":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":37},"end":{"line":23,"column":42}},{"start":{"line":23,"column":45},"end":{"line":23,"column":48}}]}},"code":["var h = require('lib/h')","var Thunk = require('vdom-thunk')","","module.exports = function (node) {","  if (node && node() && node().node && node.context && node.context.nodeInfo) {","    var lookup = node.context.nodeInfo.lookup","    var info = lookup[node().node]","","    if (info.render) {","      var args = []","      if (info.render.getInvalidationArgs) {","        args = info.render.getInvalidationArgs(node)","      }","      return Thunk(info.render, node, resolve(node), resolve(node.resolved), ...args)","    }","  }","","  console.log('unknown node', node && node())","  return h('UnknownNode')","}","","function resolve (val) {","  return typeof val === 'function' ? val() : val","}",""],"l":{"1":1,"2":1,"4":1,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"12":0,"14":0,"18":0,"19":0,"22":1,"23":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/scale-interpolate.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/scale-interpolate.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0},"b":{"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"scaleInterpolate","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}}},"2":{"name":"absDifference","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":26,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":55}},"4":{"start":{"line":5,"column":2},"end":{"line":23,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":8,"column":5}},"6":{"start":{"line":7,"column":6},"end":{"line":7,"column":39}},"7":{"start":{"line":9,"column":4},"end":{"line":18,"column":5}},"8":{"start":{"line":10,"column":6},"end":{"line":14,"column":7}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":19}},"10":{"start":{"line":13,"column":8},"end":{"line":13,"column":66}},"11":{"start":{"line":16,"column":6},"end":{"line":16,"column":39}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":28}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":25}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":34}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":31}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":16}},"17":{"start":{"line":28,"column":0},"end":{"line":32,"column":1}},"18":{"start":{"line":29,"column":2},"end":{"line":31,"column":3}},"19":{"start":{"line":30,"column":4},"end":{"line":30,"column":26}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":6},"end":{"line":5,"column":24}},{"start":{"line":5,"column":28},"end":{"line":5,"column":42}},{"start":{"line":5,"column":47},"end":{"line":5,"column":62}},{"start":{"line":5,"column":66},"end":{"line":5,"column":98}}]},"3":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"4":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":4},"end":{"line":9,"column":4}},{"start":{"line":9,"column":4},"end":{"line":9,"column":4}}]},"5":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":6},"end":{"line":10,"column":6}},{"start":{"line":10,"column":6},"end":{"line":10,"column":6}}]},"6":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]},"7":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":15}},{"start":{"line":29,"column":19},"end":{"line":29,"column":28}}]}},"code":["module.exports = scaleInterpolate","","function scaleInterpolate (currentValue, toValue, state) {","  var difference = absDifference(currentValue, toValue)","  if (difference != null && difference > 3 && (!state.lastSync || Date.now() - state.lastSync > 50)) {","    if (state.interpolatingFrom == null) {","      state.interpolatingFrom = toValue","    }","    if (absDifference(state.interpolatingFrom, currentValue) < difference) {","      if (currentValue <= 0) {","        toValue = 1","      } else {","        toValue = toValue / state.interpolatingFrom * currentValue","      }","    } else {","      state.interpolatingFrom = toValue","      toValue = currentValue","    }","    state.lastSync = null","  } else {","    state.interpolatingFrom = null","    state.lastSync = Date.now()","  }","","  return toValue","}","","function absDifference (a, b) {","  if (a != null && b != null) {","    return Math.abs(a - b)","  }","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"9":0,"10":0,"11":0,"13":0,"16":0,"17":0,"19":0,"21":0,"22":0,"25":0,"28":1,"29":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/session-recorder.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/session-recorder.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0},"fnMap":{"1":{"name":"SessionRecorder","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":35}}},"2":{"name":"(anonymous_2)","line":41,"loc":{"start":{"line":41,"column":29},"end":{"line":41,"column":42}}},"3":{"name":"(anonymous_3)","line":50,"loc":{"start":{"line":50,"column":16},"end":{"line":50,"column":31}}},"4":{"name":"startRecording","line":68,"loc":{"start":{"line":68,"column":2},"end":{"line":68,"column":29}}},"5":{"name":"(anonymous_5)","line":72,"loc":{"start":{"line":72,"column":61},"end":{"line":72,"column":82}}},"6":{"name":"(anonymous_6)","line":74,"loc":{"start":{"line":74,"column":39},"end":{"line":74,"column":54}}},"7":{"name":"(anonymous_7)","line":80,"loc":{"start":{"line":80,"column":31},"end":{"line":80,"column":43}}},"8":{"name":"(anonymous_8)","line":82,"loc":{"start":{"line":82,"column":28},"end":{"line":82,"column":55}}},"9":{"name":"stopRecording","line":90,"loc":{"start":{"line":90,"column":2},"end":{"line":90,"column":28}}},"10":{"name":"movePreroll","line":96,"loc":{"start":{"line":96,"column":2},"end":{"line":96,"column":34}}},"11":{"name":"(anonymous_11)","line":99,"loc":{"start":{"line":99,"column":36},"end":{"line":99,"column":58}}},"12":{"name":"(anonymous_12)","line":101,"loc":{"start":{"line":101,"column":52},"end":{"line":101,"column":67}}},"13":{"name":"(anonymous_13)","line":103,"loc":{"start":{"line":103,"column":74},"end":{"line":103,"column":86}}},"14":{"name":"createRecording","line":113,"loc":{"start":{"line":113,"column":2},"end":{"line":113,"column":61}}},"15":{"name":"(anonymous_15)","line":136,"loc":{"start":{"line":136,"column":37},"end":{"line":136,"column":49}}},"16":{"name":"switchOutput","line":142,"loc":{"start":{"line":142,"column":2},"end":{"line":142,"column":35}}},"17":{"name":"(anonymous_17)","line":165,"loc":{"start":{"line":165,"column":33},"end":{"line":165,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":54}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":34}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":55}},"11":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":22}},"13":{"start":{"line":17,"column":0},"end":{"line":17,"column":32}},"14":{"start":{"line":19,"column":0},"end":{"line":172,"column":1}},"15":{"start":{"line":20,"column":2},"end":{"line":22,"column":4}},"16":{"start":{"line":24,"column":2},"end":{"line":24,"column":23}},"17":{"start":{"line":25,"column":2},"end":{"line":25,"column":25}},"18":{"start":{"line":27,"column":2},"end":{"line":33,"column":4}},"19":{"start":{"line":35,"column":2},"end":{"line":37,"column":4}},"20":{"start":{"line":39,"column":2},"end":{"line":39,"column":55}},"21":{"start":{"line":40,"column":2},"end":{"line":40,"column":46}},"22":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":36}},"24":{"start":{"line":45,"column":2},"end":{"line":45,"column":55}},"25":{"start":{"line":46,"column":2},"end":{"line":46,"column":26}},"26":{"start":{"line":47,"column":2},"end":{"line":47,"column":30}},"27":{"start":{"line":48,"column":2},"end":{"line":48,"column":23}},"28":{"start":{"line":50,"column":2},"end":{"line":59,"column":4}},"29":{"start":{"line":51,"column":4},"end":{"line":58,"column":5}},"30":{"start":{"line":52,"column":6},"end":{"line":52,"column":21}},"31":{"start":{"line":53,"column":6},"end":{"line":57,"column":7}},"32":{"start":{"line":54,"column":8},"end":{"line":54,"column":24}},"33":{"start":{"line":56,"column":8},"end":{"line":56,"column":23}},"34":{"start":{"line":61,"column":2},"end":{"line":61,"column":30}},"35":{"start":{"line":63,"column":2},"end":{"line":63,"column":30}},"36":{"start":{"line":64,"column":2},"end":{"line":64,"column":12}},"37":{"start":{"line":68,"column":2},"end":{"line":88,"column":3}},"38":{"start":{"line":69,"column":4},"end":{"line":69,"column":57}},"39":{"start":{"line":70,"column":4},"end":{"line":70,"column":25}},"40":{"start":{"line":71,"column":4},"end":{"line":71,"column":34}},"41":{"start":{"line":72,"column":4},"end":{"line":87,"column":6}},"42":{"start":{"line":73,"column":6},"end":{"line":73,"column":24}},"43":{"start":{"line":73,"column":15},"end":{"line":73,"column":24}},"44":{"start":{"line":74,"column":6},"end":{"line":86,"column":8}},"45":{"start":{"line":75,"column":8},"end":{"line":75,"column":26}},"46":{"start":{"line":75,"column":17},"end":{"line":75,"column":26}},"47":{"start":{"line":76,"column":8},"end":{"line":76,"column":35}},"48":{"start":{"line":77,"column":8},"end":{"line":77,"column":42}},"49":{"start":{"line":78,"column":8},"end":{"line":78,"column":43}},"50":{"start":{"line":79,"column":8},"end":{"line":79,"column":48}},"51":{"start":{"line":80,"column":8},"end":{"line":85,"column":10}},"52":{"start":{"line":81,"column":10},"end":{"line":81,"column":46}},"53":{"start":{"line":82,"column":10},"end":{"line":84,"column":12}},"54":{"start":{"line":83,"column":12},"end":{"line":83,"column":65}},"55":{"start":{"line":90,"column":2},"end":{"line":94,"column":3}},"56":{"start":{"line":91,"column":4},"end":{"line":91,"column":31}},"57":{"start":{"line":92,"column":4},"end":{"line":92,"column":32}},"58":{"start":{"line":93,"column":4},"end":{"line":93,"column":37}},"59":{"start":{"line":96,"column":2},"end":{"line":111,"column":3}},"60":{"start":{"line":97,"column":4},"end":{"line":97,"column":51}},"61":{"start":{"line":98,"column":4},"end":{"line":98,"column":39}},"62":{"start":{"line":99,"column":4},"end":{"line":110,"column":6}},"63":{"start":{"line":100,"column":6},"end":{"line":109,"column":7}},"64":{"start":{"line":101,"column":8},"end":{"line":106,"column":10}},"65":{"start":{"line":102,"column":10},"end":{"line":102,"column":40}},"66":{"start":{"line":102,"column":19},"end":{"line":102,"column":40}},"67":{"start":{"line":103,"column":10},"end":{"line":105,"column":12}},"68":{"start":{"line":104,"column":12},"end":{"line":104,"column":30}},"69":{"start":{"line":108,"column":8},"end":{"line":108,"column":22}},"70":{"start":{"line":113,"column":2},"end":{"line":140,"column":3}},"71":{"start":{"line":114,"column":4},"end":{"line":114,"column":18}},"72":{"start":{"line":116,"column":4},"end":{"line":122,"column":5}},"73":{"start":{"line":117,"column":6},"end":{"line":121,"column":8}},"74":{"start":{"line":124,"column":4},"end":{"line":126,"column":5}},"75":{"start":{"line":125,"column":6},"end":{"line":125,"column":65}},"76":{"start":{"line":128,"column":4},"end":{"line":134,"column":6}},"77":{"start":{"line":136,"column":4},"end":{"line":139,"column":6}},"78":{"start":{"line":138,"column":6},"end":{"line":138,"column":48}},"79":{"start":{"line":142,"column":2},"end":{"line":171,"column":3}},"80":{"start":{"line":143,"column":4},"end":{"line":153,"column":5}},"81":{"start":{"line":144,"column":6},"end":{"line":146,"column":7}},"82":{"start":{"line":145,"column":8},"end":{"line":145,"column":38}},"83":{"start":{"line":147,"column":6},"end":{"line":147,"column":39}},"84":{"start":{"line":148,"column":6},"end":{"line":148,"column":42}},"85":{"start":{"line":149,"column":6},"end":{"line":149,"column":25}},"86":{"start":{"line":150,"column":6},"end":{"line":150,"column":29}},"87":{"start":{"line":152,"column":6},"end":{"line":152,"column":28}},"88":{"start":{"line":155,"column":4},"end":{"line":170,"column":5}},"89":{"start":{"line":156,"column":6},"end":{"line":156,"column":53}},"90":{"start":{"line":157,"column":6},"end":{"line":157,"column":67}},"91":{"start":{"line":158,"column":6},"end":{"line":158,"column":72}},"92":{"start":{"line":159,"column":6},"end":{"line":164,"column":8}},"93":{"start":{"line":165,"column":6},"end":{"line":167,"column":8}},"94":{"start":{"line":166,"column":8},"end":{"line":166,"column":45}},"95":{"start":{"line":168,"column":6},"end":{"line":168,"column":57}},"96":{"start":{"line":169,"column":6},"end":{"line":169,"column":50}}},"branchMap":{"1":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"2":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"3":{"line":73,"type":"if","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":6}},{"start":{"line":73,"column":6},"end":{"line":73,"column":6}}]},"4":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"5":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":6},"end":{"line":100,"column":6}},{"start":{"line":100,"column":6},"end":{"line":100,"column":6}}]},"6":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":10},"end":{"line":100,"column":14}},{"start":{"line":100,"column":18},"end":{"line":100,"column":23}},{"start":{"line":100,"column":27},"end":{"line":100,"column":50}}]},"7":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":10},"end":{"line":102,"column":10}},{"start":{"line":102,"column":10},"end":{"line":102,"column":10}}]},"8":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":26},"end":{"line":102,"column":28}},{"start":{"line":102,"column":32},"end":{"line":102,"column":40}}]},"9":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":12},"end":{"line":104,"column":14}},{"start":{"line":104,"column":18},"end":{"line":104,"column":30}}]},"10":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":8},"end":{"line":108,"column":10}},{"start":{"line":108,"column":14},"end":{"line":108,"column":22}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"12":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"13":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":4},"end":{"line":143,"column":4}},{"start":{"line":143,"column":4},"end":{"line":143,"column":4}}]},"14":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":6}},{"start":{"line":144,"column":6},"end":{"line":144,"column":6}}]},"15":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":8}},{"start":{"line":152,"column":12},"end":{"line":152,"column":28}}]},"16":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":4},"end":{"line":155,"column":4}},{"start":{"line":155,"column":4},"end":{"line":155,"column":4}}]}},"code":["var WaveStream = require('wav/lib/writer')","var TimeStream = require('lib/time-stream')","var TimeOutputStream = require('lib/time-output-stream')","var AudioBufferStream = require('audio-buffer-stream')","","var ObservStruct = require('observ-struct')","var Observ = require('observ')","var join = require('path').join","var mkdirp = require('mkdirp')","var strftime = require('strftime')","","var resolveAvailable = require('lib/resolve-available')","var writeHeader = require('lib/write-header')","","const MB = 1024 * 1024","","module.exports = SessionRecorder","","function SessionRecorder (context) {","  var obs = ObservStruct({","    recording: Observ(false)","  })","","  var chunkLength = 256","  var minPreroll = 2 * MB","","  var audioStream = AudioBufferStream({","    sampleRate: context.audio.sampleRate,","    silenceDuration: 2, // disabled when recording","    chunkLength: chunkLength,","    channels: 2,","    bitDepth: 32","  })","","  var timeStream = TimeStream(context, audioStream, {","    chunkLength: chunkLength","  })","","  obs.input = context.audio.createScriptProcessor(4096)","  obs.input.connect(context.audio.destination)","  obs.input.onaudioprocess = function (e) {","    audioStream.write(e.inputBuffer)","  }","","  var prerollWavPath = join(context.cwd, 'preroll.wav')","  var currentOutput = null","  var currentTimeOutput = null","  var lastValue = false","","  obs.recording(function (val) {","    if (val !== lastValue) {","      lastValue = val","      if (val) {","        startRecording()","      } else {","        stopRecording()","      }","    }","  })","","  obs.recordingPath = Observ()","","  switchOutput(prerollWavPath)","  return obs","","  // scoped","","  function startRecording () {","    var recordingsPath = join(context.cwd, '~recordings')","    var date = new Date()","    var name = strftime('%F %H%M') // YY-MM-DD HHMM","    resolveAvailable(join(recordingsPath, name), context.fs, function (err, path) {","      if (err) throw err","      mkdirp(path, { fs: context.fs }, function (err) {","        if (err) throw err","        obs.recordingPath.set(path)","        var fileName = Date.now() + '.wav'","        var wavePath = join(path, fileName)","        var indexPath = join(path, 'index.json')","        switchOutput(wavePath, function () {","          audioStream.setSilenceDuration(null)","          movePreroll(path, function (prerollFileName) {","            createRecording(indexPath, prerollFileName, fileName)","          })","        })","      })","    })","  }","","  function stopRecording () {","    obs.recordingPath.set(null)","    switchOutput(prerollWavPath)","    audioStream.setSilenceDuration(2)","  }","","  function movePreroll (path, cb) {","    var fileName = 'preroll-' + Date.now() + '.wav'","    var filePath = join(path, fileName)","    context.fs.stat(prerollWavPath, function (err, stats) {","      if (!err && stats && stats.size > minPreroll) {","        context.fs.rename(prerollWavPath, filePath, function (err) {","          if (err) return cb && cb(null)","          context.fs.rename(prerollWavPath + '.time', filePath + '.time', function () {","            cb && cb(fileName)","          })","        })","      } else {","        cb && cb(null)","      }","    })","  }","","  function createRecording (path, prerollFileName, fileName) {","    var clips = []","","    if (prerollFileName) {","      clips.push({","        flags: ['preroll'],","        node: 'timeline/clip',","        src: './' + prerollFileName","      })","    }","","    if (fileName) {","      clips.push({ node: 'timeline/clip', src: './' + fileName })","    }","","    var data = JSON.stringify({","      node: 'recording',","      timeline: {","        node: 'timeline',","        primary: clips","      }","    })","","    context.fs.writeFile(path, data, function () {","      // ensure refresh","      context.project.recordingEntries.refresh()","    })","  }","","  function switchOutput (path, cb) {","    if (currentOutput) {","      if (cb) {","        currentOutput.on('finish', cb)","      }","      audioStream.unpipe(currentOutput)","      timeStream.unpipe(currentTimeOutput)","      currentOutput.end()","      currentTimeOutput.end()","    } else {","      cb && setImmediate(cb)","    }","","    if (path) {","      var output = context.fs.createWriteStream(path)","      var timeOutput = context.fs.createWriteStream(path + '.time')","      currentTimeOutput = TimeOutputStream(-timeStream.getCurrentTime())","      currentOutput = WaveStream({","        sampleRate: context.sampleRate,","        bitDepth: 32,","        channels: 2,","        format: 3","      })","      currentOutput.on('header', function (header) {","        writeHeader(path, header, context.fs)","      })","      timeStream.pipe(currentTimeOutput).pipe(timeOutput)","      audioStream.pipe(currentOutput).pipe(output)","    }","  }","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":1,"15":1,"17":1,"19":1,"20":0,"24":0,"25":0,"27":0,"35":0,"39":0,"40":0,"41":0,"42":0,"45":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"53":0,"54":0,"56":0,"61":0,"63":0,"64":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"90":1,"91":0,"92":0,"93":0,"96":1,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"108":0,"113":1,"114":0,"116":0,"117":0,"124":0,"125":0,"128":0,"136":0,"138":0,"142":1,"143":0,"144":0,"145":0,"147":0,"148":0,"149":0,"150":0,"152":0,"155":0,"156":0,"157":0,"158":0,"159":0,"165":0,"166":0,"168":0,"169":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/time-stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/time-stream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"TimeStream","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":49}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":53},"end":{"line":13,"column":68}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":33}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":23},"end":{"line":25,"column":35}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":30},"end":{"line":28,"column":42}}},"6":{"name":"(anonymous_6)","line":32,"loc":{"start":{"line":32,"column":26},"end":{"line":32,"column":49}}},"7":{"name":"(anonymous_7)","line":42,"loc":{"start":{"line":42,"column":24},"end":{"line":42,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":46,"column":1}},"4":{"start":{"line":7,"column":2},"end":{"line":7,"column":51}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":51}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":41}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":60}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":21}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":24}},"10":{"start":{"line":13,"column":2},"end":{"line":22,"column":4}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":44}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":40}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":26}},"14":{"start":{"line":17,"column":4},"end":{"line":21,"column":5}},"15":{"start":{"line":18,"column":6},"end":{"line":18,"column":63}},"16":{"start":{"line":19,"column":6},"end":{"line":19,"column":50}},"17":{"start":{"line":20,"column":6},"end":{"line":20,"column":30}},"18":{"start":{"line":24,"column":2},"end":{"line":24,"column":35}},"19":{"start":{"line":25,"column":2},"end":{"line":27,"column":4}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":21}},"21":{"start":{"line":28,"column":2},"end":{"line":30,"column":3}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":59}},"23":{"start":{"line":32,"column":2},"end":{"line":41,"column":4}},"24":{"start":{"line":33,"column":4},"end":{"line":40,"column":5}},"25":{"start":{"line":34,"column":6},"end":{"line":37,"column":7}},"26":{"start":{"line":35,"column":8},"end":{"line":35,"column":52}},"27":{"start":{"line":36,"column":8},"end":{"line":36,"column":58}},"28":{"start":{"line":39,"column":6},"end":{"line":39,"column":33}},"29":{"start":{"line":42,"column":2},"end":{"line":44,"column":4}},"30":{"start":{"line":43,"column":4},"end":{"line":43,"column":25}},"31":{"start":{"line":45,"column":2},"end":{"line":45,"column":19}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":20},"end":{"line":8,"column":24}},{"start":{"line":8,"column":28},"end":{"line":8,"column":44}},{"start":{"line":8,"column":48},"end":{"line":8,"column":51}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":4}},{"start":{"line":17,"column":4},"end":{"line":17,"column":4}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":6},"end":{"line":34,"column":6}},{"start":{"line":34,"column":6},"end":{"line":34,"column":6}}]}},"code":["var Readable = require('stream').Readable","","module.exports = TimeStream","","function TimeStream (context, audioStream, opts) {","  // time stamps","  var timeStream = new Readable({objectMode: true})","  var chunkLength = opts && opts.chunkLength || 256","  var startAt = context.audio.currentTime","  var chunkDuration = chunkLength / context.audio.sampleRate","  var timeChunks = {}","  var timeOffset = -0.02","  var releaseSchedule = context.scheduler.onSchedule(function(data) {","    var from = Math.floor(data.from * 2) / 2","    var to = Math.floor(data.to * 2) / 2","    var hasCue = to - from","    if (hasCue) {","      var time = context.scheduler.getTimeAt(data.to) - startAt","      var chunk = Math.floor(time / chunkDuration)","      timeChunks[chunk] = time","    }","  })","","  timeStream._read = function () {}","  timeStream.on('end', function () {","    releaseSchedule()","  })","  timeStream.getCurrentTime = function () {","    return context.audio.currentTime - startAt + timeOffset","  }","","  audioStream.on('chunk', function (id, written) {","    if (written) {","      if (timeChunks[id] != null) {","        timeStream.push(timeChunks[id] + timeOffset)","        timeStream.lastValue = timeChunks[id] + timeOffset","      }","    } else {","      timeOffset -= chunkDuration","    }","  })","  audioStream.on('end', function () {","    timeStream.push(null)","  })","  return timeStream","}",""],"l":{"1":1,"3":1,"5":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"24":0,"25":0,"26":0,"28":0,"29":0,"32":0,"33":0,"34":0,"35":0,"36":0,"39":0,"42":0,"43":0,"45":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/time-output-stream.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/time-output-stream.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0},"b":{"1":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"TimeOutputStream","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":22},"end":{"line":8,"column":49}}},"3":{"name":"floatBuffer","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":33}},"3":{"start":{"line":5,"column":0},"end":{"line":12,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":22}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":54}},"6":{"start":{"line":8,"column":2},"end":{"line":10,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":15}},"9":{"start":{"line":14,"column":0},"end":{"line":18,"column":1}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":28}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":31}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":15}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":11},"end":{"line":6,"column":17}},{"start":{"line":6,"column":21},"end":{"line":6,"column":22}}]}},"code":["var Transform = require('stream').Transform","","module.exports = TimeOutputStream","","function TimeOutputStream (offset) {","  offset = offset || 0","  var stream = Transform({ writableObjectMode: true })","  stream._transform = function (data, enc, done) {","    done(null, floatBuffer(data + offset))","  }","  return stream","}","","function floatBuffer(value) {","  var buffer = new Buffer(4)","  buffer.writeFloatLE(value, 0)","  return buffer","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"11":0,"14":1,"15":0,"16":0,"17":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/write-header.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/write-header.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"writeHeader","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":60}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":13},"end":{"line":2,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":4,"column":3}},"3":{"start":{"line":3,"column":4},"end":{"line":3,"column":22}},"4":{"start":{"line":3,"column":13},"end":{"line":3,"column":22}},"5":{"start":{"line":6,"column":2},"end":{"line":9,"column":4}},"6":{"start":{"line":11,"column":2},"end":{"line":11,"column":24}},"7":{"start":{"line":12,"column":2},"end":{"line":12,"column":25}},"8":{"start":{"line":13,"column":2},"end":{"line":13,"column":22}},"9":{"start":{"line":14,"column":2},"end":{"line":14,"column":14}}},"branchMap":{"1":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":7},"end":{"line":2,"column":9}},{"start":{"line":2,"column":13},"end":{"line":4,"column":3}}]},"2":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":4},"end":{"line":3,"column":4}},{"start":{"line":3,"column":4},"end":{"line":3,"column":4}}]}},"code":["module.exports = function writeHeader(path, header, fs, cb) {","  cb = cb || function (err) {","    if (err) throw err","  }","","  var stream = fs.createWriteStream(path, {","    start: 0,","    flags: 'r+'","  })","","  stream.on('error', cb)","  stream.on('finish', cb)","  stream.write(header)","  stream.end()","} ",""],"l":{"1":1,"2":0,"3":0,"6":0,"11":0,"12":0,"13":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/set-mapped-value.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/set-mapped-value.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":46}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":20},"end":{"line":4,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":14,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":2},"end":{"line":13,"column":4}},"5":{"start":{"line":5,"column":4},"end":{"line":12,"column":5}},"6":{"start":{"line":6,"column":6},"end":{"line":11,"column":7}},"7":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"8":{"start":{"line":8,"column":10},"end":{"line":8,"column":31}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":13}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":6},"end":{"line":6,"column":6}},{"start":{"line":6,"column":6},"end":{"line":6,"column":6}}]},"2":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]}},"code":["var watch = require('observ/watch')","module.exports = function(values, obs, target){","  var lastValue = undefined","  return watch(obs, function(data){","    for (var i=values.length-1;i>=0;i--) {","      if (data[i]) {","        if (target() !== values[i]) {","          target.set(values[i])","        }","        break","      }","    }","  })","}"],"l":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/set-route.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/set-route.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0},"b":{"1":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"setRoute","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":52}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":8,"column":3}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":30}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":54}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]}},"code":["var QueryParam = require('lib/query-param')","","module.exports = function setRoute(node, id, value) {","  if (node.routes) {","    node.routes.put(id, value)","  } else {","    QueryParam(node, ['routes[?]', id], {}).set(value)","  }","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/spawn-node.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/spawn-node.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":60}}},"2":{"name":"(anonymous_2)","line":32,"loc":{"start":{"line":32,"column":41},"end":{"line":32,"column":62}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":71},"end":{"line":33,"column":84}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":46}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":55}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"5":{"start":{"line":6,"column":0},"end":{"line":63,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":14}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":16}},"9":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":34}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":34}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":37}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":38}},"14":{"start":{"line":20,"column":2},"end":{"line":20,"column":29}},"15":{"start":{"line":21,"column":2},"end":{"line":62,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":45}},"17":{"start":{"line":23,"column":4},"end":{"line":24,"column":38}},"18":{"start":{"line":26,"column":4},"end":{"line":59,"column":5}},"19":{"start":{"line":27,"column":6},"end":{"line":27,"column":55}},"20":{"start":{"line":28,"column":6},"end":{"line":29,"column":46}},"21":{"start":{"line":30,"column":6},"end":{"line":30,"column":73}},"22":{"start":{"line":32,"column":6},"end":{"line":47,"column":8}},"23":{"start":{"line":33,"column":8},"end":{"line":46,"column":10}},"24":{"start":{"line":34,"column":10},"end":{"line":34,"column":37}},"25":{"start":{"line":34,"column":19},"end":{"line":34,"column":37}},"26":{"start":{"line":35,"column":10},"end":{"line":35,"column":74}},"27":{"start":{"line":36,"column":10},"end":{"line":42,"column":24}},"28":{"start":{"line":44,"column":10},"end":{"line":44,"column":62}},"29":{"start":{"line":45,"column":10},"end":{"line":45,"column":30}},"30":{"start":{"line":49,"column":6},"end":{"line":51,"column":20}},"31":{"start":{"line":53,"column":6},"end":{"line":55,"column":7}},"32":{"start":{"line":54,"column":8},"end":{"line":54,"column":62}},"33":{"start":{"line":57,"column":6},"end":{"line":57,"column":58}},"34":{"start":{"line":58,"column":6},"end":{"line":58,"column":26}},"35":{"start":{"line":61,"column":4},"end":{"line":61,"column":62}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":2},"end":{"line":13,"column":2}},{"start":{"line":13,"column":2},"end":{"line":13,"column":2}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"4":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":25},"end":{"line":22,"column":34}},{"start":{"line":22,"column":38},"end":{"line":22,"column":44}}]},"5":{"line":23,"type":"cond-expr","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":25}},{"start":{"line":24,"column":28},"end":{"line":24,"column":38}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"7":{"line":28,"type":"cond-expr","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":30}},{"start":{"line":29,"column":33},"end":{"line":29,"column":46}}]},"8":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":10},"end":{"line":34,"column":10}},{"start":{"line":34,"column":10},"end":{"line":34,"column":10}}]},"9":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":26},"end":{"line":34,"column":28}},{"start":{"line":34,"column":30},"end":{"line":34,"column":37}}]},"10":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":10},"end":{"line":45,"column":12}},{"start":{"line":45,"column":16},"end":{"line":45,"column":30}}]},"11":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":6}},{"start":{"line":53,"column":6},"end":{"line":53,"column":6}}]},"12":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":6},"end":{"line":58,"column":8}},{"start":{"line":58,"column":12},"end":{"line":58,"column":26}}]},"13":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":6}},{"start":{"line":61,"column":10},"end":{"line":61,"column":62}}]}},"code":["var rename = require('lib/rename-hook').rename","var resolveAvailable = require('lib/resolve-available')","var extend = require('xtend')","var getBaseName = require('path').basename","","module.exports = function (collection, nodeName, index, cb) {","","  if (typeof index === 'function') {","    cb = index","    index = null","  }","","  if (index == null) {","    index = collection.getLength()","  }","","  var context = collection.context","  var fileObject = context.fileObject","  var lookup = context.nodeInfo.lookup","  var info = lookup[nodeName]","  if (info) {","    var name = 'New ' + (info.name || 'Node')","    var descriptor = (typeof info.spawn === 'function') ?","      info.spawn(context) : info.spawn","","    if (info.external) {","      var path = fileObject.resolvePath(name + '.json')","      var externalDescriptor = (typeof info.external === 'function') ?","        info.external(context) : info.external","      externalDescriptor = extend({ node: nodeName }, externalDescriptor)","","      resolveAvailable(path, context.fs, function (err, path) {","        context.fs.writeFile(path, JSON.stringify(externalDescriptor), function(err){","          if (err) return cb&&cb(err)","          var id = collection.resolveAvailable(getBaseName(path, '.json'))","          var finalDescriptor = extend({","            node: 'external',","            src: fileObject.relative(path),","            id: id,","            scale: '$global',","            routes: {output: '$default'}","          }, descriptor)","","          var node = collection.insert(finalDescriptor, index)","          cb && cb(null, node)","        })","      })","    } else {","      var finalDescriptor = extend({","        node: nodeName","      }, descriptor)","","      if (collection.resolveAvailable) {","        finalDescriptor.id = collection.resolveAvailable(name)","      }","","      var node = collection.insert(finalDescriptor, index)","      cb && cb(null, node)","    }","  } else {","    cb && cb(new Error('No node exists with specified name.'))","  }","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":0,"9":0,"10":0,"13":0,"14":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":0,"27":0,"28":0,"30":0,"32":0,"33":0,"34":0,"35":0,"36":0,"44":0,"45":0,"49":0,"53":0,"54":0,"57":0,"58":0,"61":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/stream-observ.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/stream-observ.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":2,"column":0},"end":{"line":6,"column":1}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":20}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":12}}},"branchMap":{},"code":["var Observ = require('observ')","module.exports = function(stream){","  var obs = Observ()","  stream.on('data', obs.set)","  return obs","}"],"l":{"1":1,"2":1,"3":0,"4":0,"5":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/sub-loop.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/sub-loop.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"SubLoop","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":25},"end":{"line":18,"column":37}}},"3":{"name":"(anonymous_3)","line":33,"loc":{"start":{"line":33,"column":27},"end":{"line":33,"column":49}}},"4":{"name":"(anonymous_4)","line":40,"loc":{"start":{"line":40,"column":28},"end":{"line":40,"column":50}}},"5":{"name":"eq","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":57}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":56}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":48}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":24}},"7":{"start":{"line":9,"column":0},"end":{"line":14,"column":1}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":68}},"9":{"start":{"line":10,"column":34},"end":{"line":10,"column":68}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":22}},"11":{"start":{"line":12,"column":2},"end":{"line":12,"column":22}},"12":{"start":{"line":13,"column":2},"end":{"line":13,"column":20}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":33}},"14":{"start":{"line":18,"column":0},"end":{"line":31,"column":1}},"15":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":25}},"17":{"start":{"line":23,"column":2},"end":{"line":30,"column":3}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":76}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":83}},"20":{"start":{"line":25,"column":38},"end":{"line":25,"column":69}},"21":{"start":{"line":26,"column":4},"end":{"line":26,"column":95}},"22":{"start":{"line":26,"column":29},"end":{"line":26,"column":94}},"23":{"start":{"line":27,"column":4},"end":{"line":27,"column":22}},"24":{"start":{"line":29,"column":4},"end":{"line":29,"column":34}},"25":{"start":{"line":33,"column":0},"end":{"line":38,"column":1}},"26":{"start":{"line":34,"column":2},"end":{"line":34,"column":31}},"27":{"start":{"line":35,"column":2},"end":{"line":37,"column":3}},"28":{"start":{"line":36,"column":4},"end":{"line":36,"column":22}},"29":{"start":{"line":40,"column":0},"end":{"line":44,"column":1}},"30":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"31":{"start":{"line":42,"column":4},"end":{"line":42,"column":25}},"32":{"start":{"line":46,"column":0},"end":{"line":52,"column":1}},"33":{"start":{"line":47,"column":2},"end":{"line":51,"column":3}},"34":{"start":{"line":48,"column":4},"end":{"line":48,"column":26}},"35":{"start":{"line":50,"column":4},"end":{"line":50,"column":18}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]},"2":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"3":{"line":24,"type":"cond-expr","locations":[{"start":{"line":24,"column":47},"end":{"line":24,"column":58}},{"start":{"line":24,"column":61},"end":{"line":24,"column":76}}]},"4":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":29},"end":{"line":26,"column":54}},{"start":{"line":26,"column":58},"end":{"line":26,"column":94}}]},"5":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":2},"end":{"line":35,"column":2}},{"start":{"line":35,"column":2},"end":{"line":35,"column":2}}]},"6":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":6},"end":{"line":35,"column":35}},{"start":{"line":35,"column":39},"end":{"line":35,"column":66}}]},"7":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":2},"end":{"line":47,"column":2}},{"start":{"line":47,"column":2},"end":{"line":47,"column":2}}]},"8":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":6},"end":{"line":47,"column":22}},{"start":{"line":47,"column":26},"end":{"line":47,"column":42}}]}},"code":["var VirtualDom = require('virtual-dom')","var MainLoop = require('main-loop')","var createElement = require('virtual-dom/create-element')","var h = require('micro-css/h')(require('virtual-dom/h'))","var shallowEq = require('vdom-thunk/shallow-eq')","","module.exports = SubLoop","","function SubLoop (observ, render) {","  if (!(this instanceof SubLoop)) return new SubLoop(observ, render)","  this.observ = observ","  this.render = render","  this.releases = []","}","","SubLoop.prototype.type = 'Widget'","","SubLoop.prototype.init = function () {","  while (this.releases.length) {","    this.releases.pop()()","  }","","  if (typeof this.render === 'function') {","    var observs = Array.isArray(this.observ) ? this.observ : [ this.observ ]","    var loop = MainLoop(null, () => { return this.render(...observs) }, VirtualDom)","    observs.forEach((obs) => typeof obs === 'function' && this.releases.push(obs(loop.update)))","    return loop.target","  } else {","    return createElement(h('div'))","  }","}","","SubLoop.prototype.update = function (prev, elem) {","  this.releases = prev.releases","  if (!eq(this.observ, prev.observ) || this.render !== prev.render) {","    return this.init()","  }","}","","SubLoop.prototype.destroy = function (prev, elem) {","  while (this.releases.length) {","    this.releases.pop()()","  }","}","","function eq (a, b) {","  if (Array.isArray(a) && Array.isArray(b)) {","    return shallowEq(a, b)","  } else {","    return a === b","  }","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"9":1,"10":0,"11":0,"12":0,"13":0,"16":1,"18":1,"19":0,"20":0,"23":0,"24":0,"25":0,"26":0,"27":0,"29":0,"33":1,"34":0,"35":0,"36":0,"40":1,"41":0,"42":0,"46":1,"47":0,"48":0,"50":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/update-param-references.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/update-param-references.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"updateParamReferences","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":38},"end":{"line":5,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":38}},"2":{"start":{"line":3,"column":0},"end":{"line":20,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":21}},"4":{"start":{"line":5,"column":2},"end":{"line":15,"column":4}},"5":{"start":{"line":6,"column":4},"end":{"line":13,"column":5}},"6":{"start":{"line":7,"column":6},"end":{"line":7,"column":20}},"7":{"start":{"line":8,"column":6},"end":{"line":12,"column":7}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"9":{"start":{"line":11,"column":8},"end":{"line":11,"column":29}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":16}},"11":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":32}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":6,"column":4}},{"start":{"line":6,"column":4},"end":{"line":6,"column":4}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":13}},{"start":{"line":6,"column":17},"end":{"line":6,"column":43}},{"start":{"line":6,"column":47},"end":{"line":6,"column":68}}]},"3":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":6}},{"start":{"line":8,"column":6},"end":{"line":8,"column":6}}]},"4":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]}},"code":["module.exports = updateParamReferences","","function updateParamReferences (node, oldId, newId) {","  var changed = false","  var result = JSON.stringify(node(), function (key, value) {","    if (value && value.node === 'linkParam' && value.param === oldId) {","      changed = true","      if (newId) {","        value.param = newId","      } else {","        return value.minValue","      }","    }","    return value","  })","","  if (changed) {","    node.set(JSON.parse(result))","  }","}",""],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"14":0,"17":0,"18":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/value-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/value-event.js","s":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"ValueEventHandler","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":48}}},"2":{"name":"handleEvent","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":34}},"2":{"start":{"line":3,"column":0},"end":{"line":10,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":9,"column":3}},"4":{"start":{"line":12,"column":0},"end":{"line":15,"column":1}},"5":{"start":{"line":13,"column":2},"end":{"line":13,"column":46}},"6":{"start":{"line":14,"column":2},"end":{"line":14,"column":16}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":15},"end":{"line":7,"column":24}},{"start":{"line":7,"column":28},"end":{"line":7,"column":35}}]}},"code":["module.exports = ValueEventHandler","","function ValueEventHandler(fn, attribute, data) {","  return {","    fn: fn,","    data: data,","    attribute: attribute || 'value',","    handleEvent: handleEvent","  }","}","","function handleEvent(ev) {","  var value = ev.currentTarget[this.attribute]","  this.fn(value)","}"],"l":{"1":1,"3":1,"4":0,"12":1,"13":0,"14":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-buttons.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-buttons.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"watchButtons","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}}},"2":{"name":"unwatch","line":5,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":27}}},"3":{"name":"watch","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":19}}},"4":{"name":"invoke","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":29}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":96}},"4":{"start":{"line":5,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":30}},"7":{"start":{"line":11,"column":0},"end":{"line":17,"column":1}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":32}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":34}},"10":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":39}},"12":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"13":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":15}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":6},"end":{"line":14,"column":34}},{"start":{"line":14,"column":38},"end":{"line":14,"column":67}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]}},"code":["module.exports = watchButtons","","function watchButtons(buttons, handlers){","  var removeListeners = Object.keys(handlers).map(watch, {buttons: buttons, handlers: handlers})","  return function unwatch(){","    removeListeners.forEach(invoke)","    removeListeners.length = 0","  }","}","","function watch(key){","  var button = this.buttons[key]","  var handler = this.handlers[key]","  if (typeof button === 'function' && typeof handler === 'function'){","    return button(handler.bind(button))","  }","}","","function invoke(fn){","  if (typeof fn === 'function'){","    return fn()","  }","}"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"11":1,"12":0,"13":0,"14":0,"15":0,"19":1,"20":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-knobs.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-knobs.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"watchKnobs","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":59}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":9},"end":{"line":16,"column":21}}},"3":{"name":"handler","line":22,"loc":{"start":{"line":22,"column":2},"end":{"line":22,"column":29}}},"4":{"name":"broadcast","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":36}}},"5":{"name":"(anonymous_5)","line":37,"loc":{"start":{"line":37,"column":36},"end":{"line":37,"column":48}}},"6":{"name":"broadcastNow","line":45,"loc":{"start":{"line":45,"column":2},"end":{"line":45,"column":39}}},"7":{"name":"set","line":59,"loc":{"start":{"line":59,"column":2},"end":{"line":59,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":64,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":26}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":34}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":24}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":28}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":24}},"9":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}},"10":{"start":{"line":12,"column":2},"end":{"line":12,"column":21}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":17}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":19}},"13":{"start":{"line":16,"column":2},"end":{"line":19,"column":3}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":24}},"15":{"start":{"line":18,"column":4},"end":{"line":18,"column":66}},"16":{"start":{"line":22,"column":2},"end":{"line":28,"column":3}},"17":{"start":{"line":23,"column":4},"end":{"line":23,"column":43}},"18":{"start":{"line":24,"column":4},"end":{"line":24,"column":33}},"19":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"20":{"start":{"line":26,"column":6},"end":{"line":26,"column":34}},"21":{"start":{"line":30,"column":2},"end":{"line":43,"column":3}},"22":{"start":{"line":31,"column":4},"end":{"line":31,"column":32}},"23":{"start":{"line":32,"column":4},"end":{"line":41,"column":5}},"24":{"start":{"line":33,"column":6},"end":{"line":40,"column":7}},"25":{"start":{"line":34,"column":8},"end":{"line":34,"column":34}},"26":{"start":{"line":36,"column":8},"end":{"line":36,"column":32}},"27":{"start":{"line":37,"column":8},"end":{"line":39,"column":20}},"28":{"start":{"line":38,"column":10},"end":{"line":38,"column":51}},"29":{"start":{"line":42,"column":4},"end":{"line":42,"column":36}},"30":{"start":{"line":45,"column":2},"end":{"line":57,"column":3}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":37}},"32":{"start":{"line":48,"column":4},"end":{"line":51,"column":5}},"33":{"start":{"line":49,"column":6},"end":{"line":49,"column":38}},"34":{"start":{"line":50,"column":6},"end":{"line":50,"column":28}},"35":{"start":{"line":53,"column":4},"end":{"line":56,"column":5}},"36":{"start":{"line":54,"column":6},"end":{"line":54,"column":31}},"37":{"start":{"line":55,"column":6},"end":{"line":55,"column":34}},"38":{"start":{"line":59,"column":2},"end":{"line":63,"column":3}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":66}},"40":{"start":{"line":61,"column":4},"end":{"line":61,"column":46}},"41":{"start":{"line":62,"column":4},"end":{"line":62,"column":29}}},"branchMap":{"1":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":4},"end":{"line":17,"column":11}},{"start":{"line":17,"column":15},"end":{"line":17,"column":24}}]},"2":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":17}},{"start":{"line":18,"column":21},"end":{"line":18,"column":66}}]},"3":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":6},"end":{"line":33,"column":6}},{"start":{"line":33,"column":6},"end":{"line":33,"column":6}}]},"6":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]},"7":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":4},"end":{"line":53,"column":4}},{"start":{"line":53,"column":4},"end":{"line":53,"column":4}}]},"8":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":8},"end":{"line":53,"column":25}},{"start":{"line":53,"column":29},"end":{"line":53,"column":82}}]},"9":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":4},"end":{"line":60,"column":17}},{"start":{"line":60,"column":21},"end":{"line":60,"column":66}}]},"10":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":13}},{"start":{"line":61,"column":17},"end":{"line":61,"column":46}}]}},"code":["var watch = require('observ/watch')","","module.exports = watchKnobs","","function watchKnobs (stream, keys, listener, defaultValue) {","  var currentStream = null","  var release = watch(stream, set)","  var currentValues = []","  var broadcastedValues = []","  var broadcastedAt = []","  var lastChangeAt = []","  var throttling = []","  var timers = []","  var minDelay = 10","","  return function () {","    release && release()","    currentStream && currentStream.removeListener('data', handler)","  }","  // scoped","","  function handler (message) {","    var key = message[0] + '/' + message[1]","    var index = keys.indexOf(key)","    if (~index) {","      broadcast(index, message[2])","    }","  }","","  function broadcast (index, value) {","    currentValues[index] = value","    if (!throttling[index]) {","      if (Date.now() - lastChangeAt[index] > minDelay) {","        broadcastNow(index, value)","      } else {","        throttling[index] = true","        timers[index] = setInterval(function () {","          broadcastNow(index, currentValues[index])","        }, minDelay)","      }","    }","    lastChangeAt[index] = Date.now()","  }","","  function broadcastNow (index, value) {","    broadcastedAt[index] = Date.now()","","    if (broadcastedValues[index] !== value) {","      broadcastedValues[index] = value","      listener(index, value)","    }","","    if (throttling[index] && broadcastedAt[index] - lastChangeAt[index] > minDelay) {","      throttling[index] = false","      clearInterval(timers[index])","    }","  }","","  function set (newStream) {","    currentStream && currentStream.removeListener('data', handler)","    newStream && newStream.on('data', handler)","    currentStream = newStream","  }","}",""],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"18":0,"22":1,"23":0,"24":0,"25":0,"26":0,"30":1,"31":0,"32":0,"33":0,"34":0,"36":0,"37":0,"38":0,"42":0,"45":1,"46":0,"48":0,"49":0,"50":0,"53":0,"54":0,"55":0,"59":1,"60":0,"61":0,"62":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-struct.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/watch-struct.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"watchStruct","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}}},"2":{"name":"unwatch","line":5,"loc":{"start":{"line":5,"column":9},"end":{"line":5,"column":27}}},"3":{"name":"watch","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":19}}},"4":{"name":"invoke","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":28}},"2":{"start":{"line":3,"column":0},"end":{"line":9,"column":1}},"3":{"start":{"line":4,"column":2},"end":{"line":4,"column":94}},"4":{"start":{"line":5,"column":2},"end":{"line":8,"column":3}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":30}},"7":{"start":{"line":11,"column":0},"end":{"line":17,"column":1}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":28}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":34}},"10":{"start":{"line":14,"column":2},"end":{"line":16,"column":3}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":33}},"12":{"start":{"line":19,"column":0},"end":{"line":23,"column":1}},"13":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":15}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"2":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":6},"end":{"line":14,"column":31}},{"start":{"line":14,"column":35},"end":{"line":14,"column":64}}]},"3":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]}},"code":["module.exports = watchStruct","","function watchStruct(struct, handlers){","  var removeListeners = Object.keys(handlers).map(watch, {struct: struct, handlers: handlers})","  return function unwatch(){","    removeListeners.forEach(invoke)","    removeListeners.length = 0","  }","}","","function watch(key){","  var obs = this.struct[key]","  var handler = this.handlers[key]","  if (typeof obs === 'function' && typeof handler === 'function'){","    return obs(handler.bind(obs))","  }","}","","function invoke(fn){","  if (typeof fn === 'function'){","    return fn()","  }","}"],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"11":1,"12":0,"13":0,"14":0,"15":0,"19":1,"20":0,"21":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/wave-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/wave-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"WaveHook","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":33}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":26},"end":{"line":16,"column":54}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":29},"end":{"line":24,"column":41}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":49},"end":{"line":28,"column":69}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":28},"end":{"line":36,"column":56}}},"6":{"name":"waitForLoad","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":31}}},"7":{"name":"(anonymous_7)","line":53,"loc":{"start":{"line":53,"column":22},"end":{"line":53,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":37}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":25}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":14}},"5":{"start":{"line":8,"column":0},"end":{"line":14,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":37}},"8":{"start":{"line":12,"column":2},"end":{"line":12,"column":24}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":16}},"10":{"start":{"line":16,"column":0},"end":{"line":34,"column":1}},"11":{"start":{"line":17,"column":2},"end":{"line":33,"column":3}},"12":{"start":{"line":18,"column":4},"end":{"line":18,"column":23}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":50}},"14":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":47}},"16":{"start":{"line":24,"column":4},"end":{"line":32,"column":6}},"17":{"start":{"line":25,"column":6},"end":{"line":25,"column":36}},"18":{"start":{"line":26,"column":6},"end":{"line":26,"column":41}},"19":{"start":{"line":27,"column":6},"end":{"line":31,"column":7}},"20":{"start":{"line":28,"column":8},"end":{"line":30,"column":10}},"21":{"start":{"line":29,"column":10},"end":{"line":29,"column":56}},"22":{"start":{"line":36,"column":0},"end":{"line":45,"column":1}},"23":{"start":{"line":37,"column":2},"end":{"line":40,"column":3}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":18}},"25":{"start":{"line":39,"column":4},"end":{"line":39,"column":23}},"26":{"start":{"line":41,"column":2},"end":{"line":43,"column":3}},"27":{"start":{"line":42,"column":4},"end":{"line":42,"column":10}},"28":{"start":{"line":44,"column":2},"end":{"line":44,"column":21}},"29":{"start":{"line":47,"column":0},"end":{"line":47,"column":37}},"30":{"start":{"line":49,"column":0},"end":{"line":60,"column":1}},"31":{"start":{"line":50,"column":2},"end":{"line":59,"column":3}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":24}},"33":{"start":{"line":53,"column":4},"end":{"line":58,"column":6}},"34":{"start":{"line":54,"column":6},"end":{"line":57,"column":7}},"35":{"start":{"line":55,"column":8},"end":{"line":55,"column":29}},"36":{"start":{"line":56,"column":8},"end":{"line":56,"column":12}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":11}},{"start":{"line":17,"column":15},"end":{"line":17,"column":36}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"5":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":6}},{"start":{"line":27,"column":6},"end":{"line":27,"column":6}}]},"6":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]},"7":{"line":41,"type":"if","locations":[{"start":{"line":41,"column":2},"end":{"line":41,"column":2}},{"start":{"line":41,"column":2},"end":{"line":41,"column":2}}]},"8":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":6},"end":{"line":41,"column":10}},{"start":{"line":41,"column":14},"end":{"line":41,"column":39}}]},"9":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]},"10":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":6},"end":{"line":54,"column":6}},{"start":{"line":54,"column":6},"end":{"line":54,"column":6}}]}},"code":["var WaveSvg = require('lib/wave-svg')","var resolve = require('path').resolve","","module.exports = WaveHook","","var cache = {}","","function WaveHook (context, src) {","  if (!(this instanceof WaveHook)) {","    return new WaveHook(context, src)","  }","  this.context = context","  this.src = src","}","","WaveHook.prototype.hook = function (node, prop, prev) {","  if (!prev || prev.src !== this.src) {","    node.innerHTML = ''","    var path = resolve(this.context.cwd, this.src)","    if (!cache[path]) {","      cache[path] = WaveSvg(path, this.context)","    }","","    waitForLoad(cache[path], function () {","      node.innerHTML = cache[path]()","      var svg = node.querySelector('svg')","      if (svg) {","        this.release = cache[path].onAppendChild(function (fragment) {","          svg.insertAdjacentHTML('afterbegin', fragment)","        })","      }","    })","  }","}","","WaveHook.prototype.unhook = function (node, prop, next) {","  if (this.release) {","    this.release()","    this.release = null","  }","  if (next && next._type === 'WaveHook') {","    return","  }","  node.innerHTML = ''","}","","WaveHook.prototype._type = 'WaveHook'","","function waitForLoad (svg, cb) {","  if (svg()) {","    process.nextTick(cb)","  } else {","    var release = svg(function (val) {","      if (val) {","        setImmediate(release)","        cb()","      }","    })","  }","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"8":1,"9":0,"10":0,"12":0,"13":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"36":1,"37":0,"38":0,"39":0,"41":0,"42":0,"44":0,"47":1,"49":1,"50":0,"51":0,"53":0,"54":0,"55":0,"56":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/wave-svg.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/wave-svg.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":17},"end":{"line":7,"column":50}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":49}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":39},"end":{"line":28,"column":61}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":48},"end":{"line":30,"column":68}}},"5":{"name":"(anonymous_5)","line":39,"loc":{"start":{"line":39,"column":36},"end":{"line":39,"column":59}}},"6":{"name":"nextChunk","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":24}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":38},"end":{"line":58,"column":66}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":43},"end":{"line":77,"column":55}}},"9":{"name":"refresh","line":83,"loc":{"start":{"line":83,"column":2},"end":{"line":83,"column":22}}},"10":{"name":"getMarkerPath","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":48}}},"11":{"name":"line","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":19}}},"12":{"name":"getPathForData","line":124,"loc":{"start":{"line":124,"column":0},"end":{"line":124,"column":47}}},"13":{"name":"(anonymous_13)","line":163,"loc":{"start":{"line":163,"column":20},"end":{"line":163,"column":36}}},"14":{"name":"(anonymous_14)","line":171,"loc":{"start":{"line":171,"column":30},"end":{"line":171,"column":45}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":28}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":80}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"6":{"start":{"line":7,"column":0},"end":{"line":98,"column":1}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":22}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":16}},"12":{"start":{"line":14,"column":2},"end":{"line":14,"column":18}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":17}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}},"15":{"start":{"line":18,"column":2},"end":{"line":18,"column":23}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":24}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":29}},"18":{"start":{"line":23,"column":2},"end":{"line":23,"column":28}},"19":{"start":{"line":24,"column":2},"end":{"line":26,"column":4}},"20":{"start":{"line":25,"column":4},"end":{"line":25,"column":31}},"21":{"start":{"line":28,"column":2},"end":{"line":53,"column":4}},"22":{"start":{"line":29,"column":4},"end":{"line":52,"column":5}},"23":{"start":{"line":30,"column":6},"end":{"line":35,"column":8}},"24":{"start":{"line":31,"column":8},"end":{"line":31,"column":45}},"25":{"start":{"line":31,"column":17},"end":{"line":31,"column":45}},"26":{"start":{"line":32,"column":8},"end":{"line":32,"column":18}},"27":{"start":{"line":33,"column":8},"end":{"line":33,"column":33}},"28":{"start":{"line":34,"column":8},"end":{"line":34,"column":19}},"29":{"start":{"line":38,"column":6},"end":{"line":38,"column":35}},"30":{"start":{"line":39,"column":6},"end":{"line":48,"column":8}},"31":{"start":{"line":40,"column":8},"end":{"line":47,"column":9}},"32":{"start":{"line":41,"column":10},"end":{"line":41,"column":68}},"33":{"start":{"line":42,"column":10},"end":{"line":45,"column":12}},"34":{"start":{"line":46,"column":10},"end":{"line":46,"column":19}},"35":{"start":{"line":50,"column":6},"end":{"line":50,"column":20}},"36":{"start":{"line":51,"column":6},"end":{"line":51,"column":35}},"37":{"start":{"line":55,"column":2},"end":{"line":81,"column":3}},"38":{"start":{"line":56,"column":4},"end":{"line":80,"column":5}},"39":{"start":{"line":57,"column":6},"end":{"line":57,"column":55}},"40":{"start":{"line":58,"column":6},"end":{"line":74,"column":8}},"41":{"start":{"line":59,"column":8},"end":{"line":59,"column":45}},"42":{"start":{"line":59,"column":17},"end":{"line":59,"column":45}},"43":{"start":{"line":60,"column":8},"end":{"line":60,"column":48}},"44":{"start":{"line":61,"column":8},"end":{"line":61,"column":105}},"45":{"start":{"line":62,"column":8},"end":{"line":65,"column":10}},"46":{"start":{"line":66,"column":8},"end":{"line":66,"column":27}},"47":{"start":{"line":67,"column":8},"end":{"line":67,"column":40}},"48":{"start":{"line":68,"column":8},"end":{"line":68,"column":17}},"49":{"start":{"line":70,"column":8},"end":{"line":70,"column":29}},"50":{"start":{"line":71,"column":8},"end":{"line":71,"column":28}},"51":{"start":{"line":73,"column":8},"end":{"line":73,"column":19}},"52":{"start":{"line":76,"column":6},"end":{"line":76,"column":35}},"53":{"start":{"line":77,"column":6},"end":{"line":79,"column":8}},"54":{"start":{"line":83,"column":2},"end":{"line":95,"column":3}},"55":{"start":{"line":84,"column":4},"end":{"line":94,"column":5}},"56":{"start":{"line":85,"column":6},"end":{"line":92,"column":8}},"57":{"start":{"line":93,"column":6},"end":{"line":93,"column":30}},"58":{"start":{"line":97,"column":2},"end":{"line":97,"column":12}},"59":{"start":{"line":100,"column":0},"end":{"line":118,"column":1}},"60":{"start":{"line":101,"column":2},"end":{"line":101,"column":21}},"61":{"start":{"line":103,"column":2},"end":{"line":110,"column":3}},"62":{"start":{"line":104,"column":4},"end":{"line":104,"column":42}},"63":{"start":{"line":105,"column":4},"end":{"line":109,"column":5}},"64":{"start":{"line":106,"column":6},"end":{"line":106,"column":44}},"65":{"start":{"line":108,"column":6},"end":{"line":108,"column":44}},"66":{"start":{"line":112,"column":2},"end":{"line":115,"column":3}},"67":{"start":{"line":113,"column":4},"end":{"line":113,"column":44}},"68":{"start":{"line":114,"column":4},"end":{"line":114,"column":24}},"69":{"start":{"line":117,"column":2},"end":{"line":117,"column":22}},"70":{"start":{"line":120,"column":0},"end":{"line":122,"column":1}},"71":{"start":{"line":121,"column":2},"end":{"line":121,"column":27}},"72":{"start":{"line":124,"column":0},"end":{"line":176,"column":1}},"73":{"start":{"line":126,"column":2},"end":{"line":126,"column":12}},"74":{"start":{"line":128,"column":2},"end":{"line":128,"column":12}},"75":{"start":{"line":129,"column":2},"end":{"line":129,"column":45}},"76":{"start":{"line":130,"column":2},"end":{"line":130,"column":24}},"77":{"start":{"line":132,"column":2},"end":{"line":132,"column":20}},"78":{"start":{"line":133,"column":2},"end":{"line":133,"column":20}},"79":{"start":{"line":135,"column":2},"end":{"line":159,"column":3}},"80":{"start":{"line":136,"column":4},"end":{"line":136,"column":17}},"81":{"start":{"line":137,"column":4},"end":{"line":137,"column":18}},"82":{"start":{"line":138,"column":4},"end":{"line":138,"column":23}},"83":{"start":{"line":139,"column":4},"end":{"line":149,"column":5}},"84":{"start":{"line":140,"column":6},"end":{"line":140,"column":34}},"85":{"start":{"line":141,"column":6},"end":{"line":144,"column":7}},"86":{"start":{"line":142,"column":8},"end":{"line":142,"column":19}},"87":{"start":{"line":143,"column":8},"end":{"line":143,"column":22}},"88":{"start":{"line":145,"column":6},"end":{"line":148,"column":7}},"89":{"start":{"line":146,"column":8},"end":{"line":146,"column":19}},"90":{"start":{"line":147,"column":8},"end":{"line":147,"column":22}},"91":{"start":{"line":151,"column":4},"end":{"line":157,"column":5}},"92":{"start":{"line":152,"column":6},"end":{"line":152,"column":24}},"93":{"start":{"line":153,"column":6},"end":{"line":153,"column":24}},"94":{"start":{"line":155,"column":6},"end":{"line":155,"column":22}},"95":{"start":{"line":156,"column":6},"end":{"line":156,"column":22}},"96":{"start":{"line":162,"column":2},"end":{"line":162,"column":46}},"97":{"start":{"line":163,"column":2},"end":{"line":165,"column":4}},"98":{"start":{"line":164,"column":4},"end":{"line":164,"column":60}},"99":{"start":{"line":168,"column":2},"end":{"line":168,"column":47}},"100":{"start":{"line":171,"column":2},"end":{"line":173,"column":4}},"101":{"start":{"line":172,"column":4},"end":{"line":172,"column":68}},"102":{"start":{"line":175,"column":2},"end":{"line":175,"column":22}}},"branchMap":{"1":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"3":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":24},"end":{"line":31,"column":30}},{"start":{"line":31,"column":34},"end":{"line":31,"column":45}}]},"4":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":8},"end":{"line":40,"column":8}},{"start":{"line":40,"column":8},"end":{"line":40,"column":8}}]},"5":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":6},"end":{"line":51,"column":12}},{"start":{"line":51,"column":16},"end":{"line":51,"column":35}}]},"6":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"7":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"8":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":24},"end":{"line":59,"column":30}},{"start":{"line":59,"column":34},"end":{"line":59,"column":45}}]},"9":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":12}},{"start":{"line":76,"column":16},"end":{"line":76,"column":35}}]},"10":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":4}},{"start":{"line":84,"column":4},"end":{"line":84,"column":4}}]},"11":{"line":105,"type":"if","locations":[{"start":{"line":105,"column":4},"end":{"line":105,"column":4}},{"start":{"line":105,"column":4},"end":{"line":105,"column":4}}]},"12":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":2},"end":{"line":112,"column":2}},{"start":{"line":112,"column":2},"end":{"line":112,"column":2}}]},"13":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":6},"end":{"line":126,"column":7}},{"start":{"line":126,"column":11},"end":{"line":126,"column":12}}]},"14":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":6},"end":{"line":141,"column":6}},{"start":{"line":141,"column":6},"end":{"line":141,"column":6}}]},"15":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":6},"end":{"line":145,"column":6}},{"start":{"line":145,"column":6},"end":{"line":145,"column":6}}]},"16":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":4}},{"start":{"line":151,"column":4},"end":{"line":151,"column":4}}]}},"code":["var RangeDecoder = require('audio-buffer-range-decoder')","var Observ = require('observ')","var Event = require('geval')","var svg = require('micro-css/h')(require('virtual-dom/virtual-hyperscript/svg'))","var toHtml = require('vdom-to-html')","","module.exports = function (path, options, onDone) {","  var obs = Observ()","  var remaining = null","  var position = 0","  var chunkDuration = 2","","  var scale = 40","  var height = 100","","  var meta = null","  var paths = []","  var markerPath = null","","  var decodeRange = null","  var svgPath = path + '.svg'","","  var broadcastAppend = null","  obs.onAppendChild = Event(function (broadcast) {","    broadcastAppend = broadcast","  })","","  options.fs.readFile(svgPath, 'utf8', function (err, value) {","    if (err) {","      decodeRange = RangeDecoder(path, options, function (err, res) {","        if (err) return onDone && onDone(err)","        meta = res","        remaining = meta.duration","        nextChunk()","      })","","      // cue points","      var timePath = path + '.time'","      options.fs.readFile(timePath, function (err, buffer) {","        if (!err) {","          var data = new Float32Array(new Uint8Array(buffer).buffer)","          markerPath = svg('path', {","            d: getMarkerPath(data, scale, height),","            fill: 'rgba(255,255,255,0.1)'","          })","          refresh()","        }","      })","    } else {","      obs.set(value)","      onDone && onDone(null, value)","    }","  })","","  function nextChunk () {","    if (remaining > 0) {","      var duration = Math.min(chunkDuration, remaining)","      decodeRange(position, duration, function (err, audioBuffer) {","        if (err) return onDone && onDone(err)","        var data = audioBuffer.getChannelData(0)","        var path = getPathForData(data, Math.ceil(duration * scale), height, Math.ceil(position * scale))","        var element = svg('path', {","          fill: 'rgb(255,255,255)',","          d: path","        })","        paths.push(element)","        broadcastAppend(toHtml(element))","        refresh()","","        remaining -= duration","        position += duration","","        nextChunk()","      })","    } else {","      onDone && onDone(null, obs())","      options.fs.writeFile(svgPath, obs(), function () {","        // done","      })","    }","  }","","  function refresh () {","    if (meta) {","      var element = svg('svg', {","        xmlns: 'http://www.w3.org/2000/svg',","        height: height,","        width: Math.ceil(meta.duration * scale)","      }, [","        paths,","        markerPath","      ])","      obs.set(toHtml(element))","    }","  }","","  return obs","}","","function getMarkerPath (markers, scale, height) {","  var result = 'M0,0'","","  for (var i = 0; i < markers.length; i++) {","    var x = Math.round(markers[i] * scale)","    if (i % 2) {","      result += line(x, 0) + line(x, height)","    } else {","      result += line(x, height) + line(x, 0)","    }","  }","","  if (i > 0) {","    var x = Math.round(markers[i-1] * scale)","    result += line(x, 0)","  }","","  return result + ' Z'","}","","function line(x,y) {","  return ' L' + x + ',' + y","}","","function getPathForData(data, width, height, x){","","  x = x || 0","","  width += 1","  var step = Math.ceil( data.length / width )","  var amp = (height / 2)","","  var maxValues = []","  var minValues = []","","  for(var i=0;i<width;i++){","    var min = 1.0","    var max = -1.0","    var defined = false","    for (j=0; j<step; j++) {","      var datum = data[(i*step)+j]","      if (datum < min){","        min = datum","        defined = true","      }","      if (datum > max){","        max = datum","        defined = true","      }","    }","","    if (defined){","      maxValues[i] = max","      minValues[i] = min","    } else {","      maxValues[i] = 0","      minValues[i] = 0","    }","","  }","","  // top","  var result = 'M ' + (x-1) + ',' + (height/2)","  maxValues.forEach(function(val, i){","    result += ' L' + (i+x) + ',' + Math.round(amp+(val*amp))","  })","","  // end point","  result += ' L' + (width+x) + ',' + (height/2)","","  // bottom","  minValues.reverse().forEach(function(val,i){","    result += ' L' + (width+x-i-1) + ',' + Math.round(amp+(val*amp))","  })","","  return result + ' Z'","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"16":0,"17":0,"18":0,"20":0,"21":0,"23":0,"24":0,"25":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"38":0,"39":0,"40":0,"41":0,"42":0,"46":0,"50":0,"51":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"66":0,"67":0,"68":0,"70":0,"71":0,"73":0,"76":0,"77":0,"83":1,"84":0,"85":0,"93":0,"97":0,"100":1,"101":0,"103":0,"104":0,"105":0,"106":0,"108":0,"112":0,"113":0,"114":0,"117":0,"120":1,"121":0,"124":1,"126":0,"128":0,"129":0,"130":0,"132":0,"133":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"145":0,"146":0,"147":0,"151":0,"152":0,"153":0,"155":0,"156":0,"162":0,"163":0,"164":0,"168":0,"171":0,"172":0,"175":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/yank-silence.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/yank-silence.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":17},"end":{"line":3,"column":47}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":19},"end":{"line":19,"column":30}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":28}}},"4":{"name":"(anonymous_4)","line":25,"loc":{"start":{"line":25,"column":38},"end":{"line":25,"column":49}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":45,"column":1}},"3":{"start":{"line":5,"column":2},"end":{"line":5,"column":40}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":46}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":23}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":38}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":26}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":38}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":21}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":54}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":21}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":31}},"13":{"start":{"line":19,"column":2},"end":{"line":42,"column":3}},"14":{"start":{"line":20,"column":4},"end":{"line":41,"column":5}},"15":{"start":{"line":21,"column":6},"end":{"line":21,"column":26}},"16":{"start":{"line":22,"column":6},"end":{"line":22,"column":20}},"17":{"start":{"line":23,"column":6},"end":{"line":23,"column":29}},"18":{"start":{"line":24,"column":6},"end":{"line":40,"column":14}},"19":{"start":{"line":25,"column":8},"end":{"line":39,"column":16}},"20":{"start":{"line":26,"column":10},"end":{"line":26,"column":44}},"21":{"start":{"line":27,"column":10},"end":{"line":27,"column":21}},"22":{"start":{"line":28,"column":10},"end":{"line":30,"column":11}},"23":{"start":{"line":29,"column":12},"end":{"line":29,"column":25}},"24":{"start":{"line":32,"column":10},"end":{"line":37,"column":11}},"25":{"start":{"line":33,"column":12},"end":{"line":33,"column":38}},"26":{"start":{"line":34,"column":12},"end":{"line":34,"column":29}},"27":{"start":{"line":35,"column":12},"end":{"line":35,"column":36}},"28":{"start":{"line":36,"column":12},"end":{"line":36,"column":27}},"29":{"start":{"line":44,"column":2},"end":{"line":44,"column":15}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":20,"column":4}},{"start":{"line":20,"column":4},"end":{"line":20,"column":4}}]},"2":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":10},"end":{"line":32,"column":10}},{"start":{"line":32,"column":10},"end":{"line":32,"column":10}}]}},"code":["var Observ = require('observ')","","module.exports = function(audioContext, input) {","","  var output = audioContext.createGain()","  var analyser = audioContext.createAnalyser()","  analyser.fftSize = 32","  analyser.smoothingTimeConstant = 0.1","  output.connect(analyser)","","  var yank = audioContext.createGain()","  input.connect(yank)","","  var fft = new Uint8Array(analyser.frequencyBinCount)","  var waiting = false","","  output.active = Observ(false)","","  output.trigger = function() {","    if (!waiting) {","      yank.connect(output)","      waiting = true","      output.active.set(true)","      setTimeout(function() {","        var stopWaiting = setInterval(function() {","          analyser.getByteFrequencyData(fft)","          var sum = 0","          for (var i=0;i<fft.length;i++) {","            sum += fft[i]","          }","","          if (sum === 0) {","            clearInterval(stopWaiting)","            yank.disconnect()","            output.active.set(false)","            waiting = false","          }","","        }, 1000)","      }, 5000)","    }","  }","","  return output","}"],"l":{"1":1,"3":1,"5":0,"6":0,"7":0,"8":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"32":0,"33":0,"34":0,"35":0,"36":0,"44":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/zoom-event.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/zoom-event.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"ZoomEvent","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}}},"2":{"name":"handle","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":19}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":32}},"4":{"start":{"line":6,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":11,"column":3}},"6":{"start":{"line":12,"column":2},"end":{"line":12,"column":16}},"7":{"start":{"line":15,"column":0},"end":{"line":22,"column":1}},"8":{"start":{"line":16,"column":2},"end":{"line":21,"column":3}},"9":{"start":{"line":17,"column":4},"end":{"line":17,"column":26}},"10":{"start":{"line":18,"column":4},"end":{"line":18,"column":23}},"11":{"start":{"line":19,"column":4},"end":{"line":19,"column":34}},"12":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]}},"code":["module.exports = ZoomEvent","","var delegator = require('dom-delegator')()","delegator.listenTo('mousewheel')","","function ZoomEvent (fn, data){","  var handler = {","    handleEvent: handle,","    fn: fn,","    data: data","  }","  return handler","}","","function handle(ev){","  if (ev.ctrlKey) {","    var raw = ev._rawEvent","    ev.preventDefault()","    raw.stopImmediatePropagation()","    this.fn(raw.deltaY, this.data)","  }","}"],"l":{"1":1,"3":1,"4":1,"6":1,"7":0,"12":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/compress-project.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/compress-project.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0,0,0],"13":[0,0],"14":[0,0,0,0],"15":[0,0,0],"16":[0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}}},"2":{"name":"compressProject","line":23,"loc":{"start":{"line":23,"column":0},"end":{"line":23,"column":43}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":20},"end":{"line":24,"column":37}}},"4":{"name":"(anonymous_4)","line":28,"loc":{"start":{"line":28,"column":19},"end":{"line":28,"column":33}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":23},"end":{"line":30,"column":45}}},"6":{"name":"(anonymous_6)","line":32,"loc":{"start":{"line":32,"column":24},"end":{"line":32,"column":45}}},"7":{"name":"(anonymous_7)","line":35,"loc":{"start":{"line":35,"column":31},"end":{"line":35,"column":48}}},"8":{"name":"(anonymous_8)","line":37,"loc":{"start":{"line":37,"column":43},"end":{"line":37,"column":57}}},"9":{"name":"compressFile","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":40}}},"10":{"name":"(anonymous_10)","line":54,"loc":{"start":{"line":54,"column":28},"end":{"line":54,"column":50}}},"11":{"name":"(anonymous_11)","line":59,"loc":{"start":{"line":59,"column":43},"end":{"line":59,"column":64}}},"12":{"name":"(anonymous_12)","line":93,"loc":{"start":{"line":93,"column":37},"end":{"line":93,"column":51}}},"13":{"name":"(anonymous_13)","line":95,"loc":{"start":{"line":95,"column":22},"end":{"line":95,"column":40}}},"14":{"name":"(anonymous_14)","line":97,"loc":{"start":{"line":97,"column":9},"end":{"line":97,"column":23}}},"15":{"name":"(anonymous_15)","line":99,"loc":{"start":{"line":99,"column":30},"end":{"line":99,"column":48}}},"16":{"name":"compressAudio","line":107,"loc":{"start":{"line":107,"column":0},"end":{"line":107,"column":53}}},"17":{"name":"(anonymous_17)","line":109,"loc":{"start":{"line":109,"column":20},"end":{"line":109,"column":37}}},"18":{"name":"(anonymous_18)","line":111,"loc":{"start":{"line":111,"column":29},"end":{"line":111,"column":53}}},"19":{"name":"ms","line":129,"loc":{"start":{"line":129,"column":0},"end":{"line":129,"column":15}}},"20":{"name":"getAudioDuration","line":133,"loc":{"start":{"line":133,"column":0},"end":{"line":133,"column":36}}},"21":{"name":"(anonymous_21)","line":138,"loc":{"start":{"line":138,"column":5},"end":{"line":138,"column":24}}},"22":{"name":"forEach","line":145,"loc":{"start":{"line":145,"column":0},"end":{"line":145,"column":31}}},"23":{"name":"next","line":147,"loc":{"start":{"line":147,"column":2},"end":{"line":147,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":48}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":32}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":39}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"10":{"start":{"line":14,"column":0},"end":{"line":21,"column":1}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":22}},"12":{"start":{"line":18,"column":13},"end":{"line":18,"column":22}},"13":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"14":{"start":{"line":23,"column":0},"end":{"line":48,"column":1}},"15":{"start":{"line":24,"column":2},"end":{"line":47,"column":4}},"16":{"start":{"line":25,"column":4},"end":{"line":27,"column":5}},"17":{"start":{"line":26,"column":6},"end":{"line":26,"column":60}},"18":{"start":{"line":28,"column":4},"end":{"line":46,"column":6}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":33}},"20":{"start":{"line":29,"column":15},"end":{"line":29,"column":33}},"21":{"start":{"line":30,"column":6},"end":{"line":45,"column":8}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":35}},"23":{"start":{"line":31,"column":17},"end":{"line":31,"column":35}},"24":{"start":{"line":32,"column":8},"end":{"line":44,"column":14}},"25":{"start":{"line":33,"column":10},"end":{"line":33,"column":56}},"26":{"start":{"line":34,"column":10},"end":{"line":34,"column":60}},"27":{"start":{"line":35,"column":10},"end":{"line":43,"column":12}},"28":{"start":{"line":36,"column":12},"end":{"line":42,"column":13}},"29":{"start":{"line":37,"column":14},"end":{"line":39,"column":16}},"30":{"start":{"line":38,"column":16},"end":{"line":38,"column":58}},"31":{"start":{"line":41,"column":14},"end":{"line":41,"column":20}},"32":{"start":{"line":50,"column":0},"end":{"line":105,"column":1}},"33":{"start":{"line":51,"column":2},"end":{"line":51,"column":21}},"34":{"start":{"line":52,"column":2},"end":{"line":52,"column":25}},"35":{"start":{"line":53,"column":2},"end":{"line":53,"column":33}},"36":{"start":{"line":54,"column":2},"end":{"line":104,"column":4}},"37":{"start":{"line":55,"column":4},"end":{"line":55,"column":31}},"38":{"start":{"line":55,"column":13},"end":{"line":55,"column":31}},"39":{"start":{"line":56,"column":4},"end":{"line":56,"column":34}},"40":{"start":{"line":57,"column":4},"end":{"line":57,"column":19}},"41":{"start":{"line":58,"column":4},"end":{"line":58,"column":25}},"42":{"start":{"line":59,"column":4},"end":{"line":91,"column":6}},"43":{"start":{"line":60,"column":6},"end":{"line":90,"column":7}},"44":{"start":{"line":61,"column":8},"end":{"line":64,"column":10}},"45":{"start":{"line":65,"column":8},"end":{"line":67,"column":10}},"46":{"start":{"line":68,"column":13},"end":{"line":90,"column":7}},"47":{"start":{"line":69,"column":8},"end":{"line":69,"column":56}},"48":{"start":{"line":70,"column":8},"end":{"line":70,"column":54}},"49":{"start":{"line":71,"column":8},"end":{"line":71,"column":43}},"50":{"start":{"line":72,"column":8},"end":{"line":72,"column":50}},"51":{"start":{"line":73,"column":8},"end":{"line":73,"column":73}},"52":{"start":{"line":75,"column":8},"end":{"line":79,"column":10}},"53":{"start":{"line":81,"column":8},"end":{"line":86,"column":10}},"54":{"start":{"line":89,"column":8},"end":{"line":89,"column":20}},"55":{"start":{"line":93,"column":4},"end":{"line":103,"column":6}},"56":{"start":{"line":94,"column":6},"end":{"line":94,"column":33}},"57":{"start":{"line":94,"column":15},"end":{"line":94,"column":33}},"58":{"start":{"line":95,"column":6},"end":{"line":102,"column":8}},"59":{"start":{"line":96,"column":8},"end":{"line":96,"column":38}},"60":{"start":{"line":98,"column":8},"end":{"line":98,"column":35}},"61":{"start":{"line":98,"column":17},"end":{"line":98,"column":35}},"62":{"start":{"line":99,"column":8},"end":{"line":101,"column":14}},"63":{"start":{"line":100,"column":10},"end":{"line":100,"column":53}},"64":{"start":{"line":107,"column":0},"end":{"line":127,"column":1}},"65":{"start":{"line":108,"column":2},"end":{"line":108,"column":21}},"66":{"start":{"line":109,"column":2},"end":{"line":126,"column":4}},"67":{"start":{"line":110,"column":4},"end":{"line":125,"column":5}},"68":{"start":{"line":111,"column":6},"end":{"line":122,"column":8}},"69":{"start":{"line":112,"column":8},"end":{"line":112,"column":40}},"70":{"start":{"line":113,"column":8},"end":{"line":113,"column":36}},"71":{"start":{"line":114,"column":8},"end":{"line":121,"column":14}},"72":{"start":{"line":124,"column":6},"end":{"line":124,"column":10}},"73":{"start":{"line":129,"column":0},"end":{"line":131,"column":1}},"74":{"start":{"line":130,"column":2},"end":{"line":130,"column":29}},"75":{"start":{"line":133,"column":0},"end":{"line":143,"column":1}},"76":{"start":{"line":134,"column":2},"end":{"line":142,"column":4}},"77":{"start":{"line":139,"column":4},"end":{"line":139,"column":31}},"78":{"start":{"line":139,"column":13},"end":{"line":139,"column":31}},"79":{"start":{"line":140,"column":4},"end":{"line":140,"column":49}},"80":{"start":{"line":141,"column":4},"end":{"line":141,"column":38}},"81":{"start":{"line":145,"column":0},"end":{"line":157,"column":1}},"82":{"start":{"line":146,"column":2},"end":{"line":146,"column":12}},"83":{"start":{"line":147,"column":2},"end":{"line":155,"column":3}},"84":{"start":{"line":148,"column":4},"end":{"line":148,"column":31}},"85":{"start":{"line":148,"column":13},"end":{"line":148,"column":31}},"86":{"start":{"line":149,"column":4},"end":{"line":149,"column":10}},"87":{"start":{"line":150,"column":4},"end":{"line":154,"column":5}},"88":{"start":{"line":151,"column":6},"end":{"line":151,"column":27}},"89":{"start":{"line":153,"column":6},"end":{"line":153,"column":18}},"90":{"start":{"line":156,"column":2},"end":{"line":156,"column":8}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"3":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":13},"end":{"line":26,"column":15}},{"start":{"line":26,"column":17},"end":{"line":26,"column":60}}]},"4":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"5":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":22},"end":{"line":29,"column":24}},{"start":{"line":29,"column":26},"end":{"line":29,"column":33}}]},"6":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"7":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":24},"end":{"line":31,"column":26}},{"start":{"line":31,"column":28},"end":{"line":31,"column":35}}]},"8":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":36,"column":12}},{"start":{"line":36,"column":12},"end":{"line":36,"column":12}}]},"9":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":4}},{"start":{"line":55,"column":4},"end":{"line":55,"column":4}}]},"10":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":20},"end":{"line":55,"column":22}},{"start":{"line":55,"column":24},"end":{"line":55,"column":31}}]},"11":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":6}},{"start":{"line":60,"column":6},"end":{"line":60,"column":6}}]},"12":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":10},"end":{"line":60,"column":15}},{"start":{"line":60,"column":19},"end":{"line":60,"column":44}},{"start":{"line":60,"column":48},"end":{"line":60,"column":57}},{"start":{"line":60,"column":61},"end":{"line":60,"column":69}}]},"13":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":13},"end":{"line":68,"column":13}},{"start":{"line":68,"column":13},"end":{"line":68,"column":13}}]},"14":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":17},"end":{"line":68,"column":22}},{"start":{"line":68,"column":26},"end":{"line":68,"column":38}},{"start":{"line":68,"column":42},"end":{"line":68,"column":77}},{"start":{"line":68,"column":81},"end":{"line":68,"column":97}}]},"15":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":20},"end":{"line":69,"column":32}},{"start":{"line":69,"column":36},"end":{"line":69,"column":51}},{"start":{"line":69,"column":55},"end":{"line":69,"column":56}}]},"16":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":18},"end":{"line":70,"column":30}},{"start":{"line":70,"column":34},"end":{"line":70,"column":49}},{"start":{"line":70,"column":53},"end":{"line":70,"column":54}}]},"17":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":6},"end":{"line":94,"column":6}},{"start":{"line":94,"column":6},"end":{"line":94,"column":6}}]},"18":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":22},"end":{"line":94,"column":24}},{"start":{"line":94,"column":26},"end":{"line":94,"column":33}}]},"19":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":8},"end":{"line":98,"column":8}},{"start":{"line":98,"column":8},"end":{"line":98,"column":8}}]},"20":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":24},"end":{"line":98,"column":26}},{"start":{"line":98,"column":28},"end":{"line":98,"column":35}}]},"21":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":110,"column":4}},{"start":{"line":110,"column":4},"end":{"line":110,"column":4}}]},"22":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":20},"end":{"line":112,"column":25}},{"start":{"line":112,"column":27},"end":{"line":112,"column":28}}]},"23":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":18},"end":{"line":113,"column":21}},{"start":{"line":113,"column":23},"end":{"line":113,"column":24}}]},"24":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":4}},{"start":{"line":139,"column":4},"end":{"line":139,"column":4}}]},"25":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":20},"end":{"line":139,"column":22}},{"start":{"line":139,"column":24},"end":{"line":139,"column":31}}]},"26":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":6}},{"start":{"line":141,"column":8},"end":{"line":141,"column":38}}]},"27":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":4},"end":{"line":148,"column":4}},{"start":{"line":148,"column":4},"end":{"line":148,"column":4}}]},"28":{"line":148,"type":"binary-expr","locations":[{"start":{"line":148,"column":20},"end":{"line":148,"column":22}},{"start":{"line":148,"column":24},"end":{"line":148,"column":31}}]},"29":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":4},"end":{"line":150,"column":4}},{"start":{"line":150,"column":4},"end":{"line":150,"column":4}}]},"30":{"line":153,"type":"binary-expr","locations":[{"start":{"line":153,"column":6},"end":{"line":153,"column":8}},{"start":{"line":153,"column":10},"end":{"line":153,"column":18}}]}},"code":["var execFile = require('child_process').execFile","var each = require('async-each')","var fs = require('fs')","var extend = require('xtend/immutable')","var mkdirp = require('mkdirp')","var join = require('path').join","var dirname = require('path').dirname","var basename = require('path').basename","var extname = require('path').extname","","// compress and trim all audio files","// requires ffmpeg to be in path and built with libvorbis support","","compressProject(","  '/Users/matt/Projects/Destroy With Science/New Drop', ","  '/Users/matt/Projects/Destroy With Science/Compressed Drop', ","  function(err) {","    if (err) throw err","    process.exit()","  }",")","","function compressProject(path, output, cb) {","  fs.exists(output, function(exists) {","    if (exists) {","      return cb&&cb(new Error(\"Output path already exists\"))","    }","    mkdirp(output, function(err) {","      if (err) return cb&&cb(err)","      fs.readdir(path, function(err, result) {","        if (err) return cb&&cb(err)","        forEach(result, function(name, next) {","          var setupPath = join(path, name, 'index.json')","          var setupOutput = join(output, name, 'index.json')","          fs.exists(setupPath, function(exists) {","            if (exists) {","              fs.mkdir(join(output, name), function(err) {","                compressFile(setupPath, setupOutput, next)","              })","            } else {","              next()","            }","          })","        }, cb)","      })","    })","  })","}","","function compressFile(path, output, cb) {","  console.log(output)","  var dir = dirname(path)","  var outputDir = dirname(output)","  fs.readFile(path, 'utf8', function(err, result) {","    if (err) return cb&&cb(err)","    var setup = JSON.parse(result)","    var chunks = []","    var audioBuffers = []","    var finalSetup = JSON.stringify(setup, function(key, value) {","      if (value && value.node === 'external' && value.src && value.id) {","        chunks.push([","          join(dir, value.src), ","          join(outputDir, value.id + '.json')","        ])","        return extend(value, {","          src: './' + value.id + '.json'","        })","      } else if (value && value.buffer && value.buffer.node === 'AudioBuffer' && value.buffer.src) {","        var start = value.offset && value.offset[0] || 0","        var end = value.offset && value.offset[1] || 1","        var ext = extname(value.buffer.src)","        var base = basename(value.buffer.src, ext)","        var newFileName = base + '_' + ms(start) + '-' + ms(end) + '.ogg'","","        audioBuffers.push([","          join(dir, value.buffer.src), ","          join(outputDir, newFileName),","          start, end","        ])","","        return extend(value, {","          offset: [0,1],","          buffer: extend(value.buffer, {","            src: './' + newFileName","          })","        })","","      } else {","        return value","      }","    })","","    fs.writeFile(output, finalSetup, function(err) {","      if (err) return cb&&cb(err)","      forEach(chunks, function(x, next) {","        compressFile(x[0], x[1], next)","      }, function(err) {","        if (err) return cb&&cb(err)","        forEach(audioBuffers, function(x, next) {","          compressAudio(x[0], x[1], x[2], x[3], next)","        }, cb)","      })","    })","  })","}","","function compressAudio(path, output, start, end, cb) {","  console.log(output)","  fs.exists(output, function(exists) {","    if (!exists) {","      getAudioDuration(path, function(err, duration) {","        var from = (start||0) * duration","        var to = (end||1) * duration","        execFile('ffmpeg', [","          \"-i\", path, ","          \"-codec:a\", \"libvorbis\", ","          \"-qscale:a\", \"5\", ","          \"-ss\", from, ","          \"-to\", to, ","          output","        ], cb)","      })","    } else {","      cb()","    }","  })","}","","function ms(s) {","  return Math.round(s * 1000)","}","","function getAudioDuration(path, cb) {","  execFile(\"ffprobe\", [","    path, ","    '-show_entries', 'format=duration', ","    '-v', 'quiet' ","  ], function(err, res) {","    if (err) return cb&&cb(err)","    var match = /duration=([0-9\\.]+)\\n/.exec(res)","    cb&&cb(null, parseFloat(match[1]))","  })","}","","function forEach(array, fn, cb){","  var i = -1","  function next(err){","    if (err) return cb&&cb(err)","    i += 1","    if (i<array.length){","      fn(array[i], next, i)","    } else {","      cb&&cb(null)","    }","  }","  next()","}"],"l":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"14":0,"18":0,"19":0,"23":1,"24":0,"25":0,"26":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"41":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"65":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"75":0,"81":0,"89":0,"93":0,"94":0,"95":0,"96":0,"98":0,"99":0,"100":0,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"124":0,"129":1,"130":0,"133":1,"134":0,"139":0,"140":0,"141":0,"145":1,"146":0,"147":1,"148":0,"149":0,"150":0,"151":0,"153":0,"156":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/link-lib.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/scripts/link-lib.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0},"b":{"1":[0,1]},"f":{"1":1},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":65},"end":{"line":5,"column":79}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":34}},"4":{"start":{"line":5,"column":0},"end":{"line":9,"column":2}},"5":{"start":{"line":6,"column":2},"end":{"line":8,"column":3}},"6":{"start":{"line":7,"column":4},"end":{"line":7,"column":42}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]}},"code":["var fs = require('fs')","var join = require('path').join","","process.cwd(join(__dirname, '..'))","fs.symlink(join('..','lib'), join('node_modules', 'lib'), 'dir', function(err) {","  if (!err) {","    console.log('node_modules/lib -> lib')","  }","})"],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/mod-range.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/mod-range.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":1,"55":0,"56":0,"57":0,"58":1,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":1,"87":0,"88":1,"89":0,"90":1,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":1,"103":0,"104":1,"105":0,"106":1,"107":0,"108":0,"109":1,"110":0,"111":0,"112":1,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":1,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":1,"153":0,"154":0,"155":0,"156":0,"157":0,"158":1,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0,0],"65":[0,0],"66":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0},"fnMap":{"1":{"name":"render","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":50}}},"2":{"name":"getParamLinkOptions","line":104,"loc":{"start":{"line":104,"column":0},"end":{"line":104,"column":69}}},"3":{"name":"isExpFormat","line":159,"loc":{"start":{"line":159,"column":0},"end":{"line":159,"column":29}}},"4":{"name":"getModulatorName","line":163,"loc":{"start":{"line":163,"column":0},"end":{"line":163,"column":43}}},"5":{"name":"SetImmediateHook","line":171,"loc":{"start":{"line":171,"column":0},"end":{"line":171,"column":33}}},"6":{"name":"(anonymous_6)","line":178,"loc":{"start":{"line":178,"column":34},"end":{"line":178,"column":59}}},"7":{"name":"(anonymous_7)","line":181,"loc":{"start":{"line":181,"column":17},"end":{"line":181,"column":28}}},"8":{"name":"getSubEditors","line":187,"loc":{"start":{"line":187,"column":0},"end":{"line":187,"column":40}}},"9":{"name":"hasFeedback","line":218,"loc":{"start":{"line":218,"column":0},"end":{"line":218,"column":41}}},"10":{"name":"SelectedValueHandler","line":225,"loc":{"start":{"line":225,"column":0},"end":{"line":225,"column":37}}},"11":{"name":"ParamLink","line":232,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":36}}},"12":{"name":"LFO","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":28}}},"13":{"name":"LinkableRange","line":324,"loc":{"start":{"line":324,"column":0},"end":{"line":324,"column":40}}},"14":{"name":"ADSR","line":337,"loc":{"start":{"line":337,"column":0},"end":{"line":337,"column":31}}},"15":{"name":"setParam","line":372,"loc":{"start":{"line":372,"column":0},"end":{"line":372,"column":21}}},"16":{"name":"remove","line":376,"loc":{"start":{"line":376,"column":0},"end":{"line":376,"column":23}}},"17":{"name":"wrap","line":381,"loc":{"start":{"line":381,"column":0},"end":{"line":381,"column":30}}},"18":{"name":"spawnParam","line":388,"loc":{"start":{"line":388,"column":0},"end":{"line":388,"column":37}}},"19":{"name":"getParamLink","line":399,"loc":{"start":{"line":399,"column":0},"end":{"line":399,"column":50}}},"20":{"name":"spawnModulatorChunk","line":422,"loc":{"start":{"line":422,"column":0},"end":{"line":422,"column":45}}},"21":{"name":"(anonymous_21)","line":425,"loc":{"start":{"line":425,"column":51},"end":{"line":425,"column":73}}},"22":{"name":"getValueParam","line":458,"loc":{"start":{"line":458,"column":0},"end":{"line":458,"column":30}}},"23":{"name":"resolveValue","line":475,"loc":{"start":{"line":475,"column":0},"end":{"line":475,"column":30}}},"24":{"name":"Toggle","line":486,"loc":{"start":{"line":486,"column":0},"end":{"line":486,"column":32}}},"25":{"name":"isTriggerable","line":502,"loc":{"start":{"line":502,"column":0},"end":{"line":502,"column":30}}},"26":{"name":"handleSelectEvent","line":514,"loc":{"start":{"line":514,"column":0},"end":{"line":514,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}},"9":{"start":{"line":10,"column":0},"end":{"line":10,"column":47}},"10":{"start":{"line":12,"column":0},"end":{"line":102,"column":1}},"11":{"start":{"line":13,"column":2},"end":{"line":13,"column":25}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":29}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":47}},"14":{"start":{"line":17,"column":2},"end":{"line":17,"column":46}},"15":{"start":{"line":18,"column":2},"end":{"line":18,"column":36}},"16":{"start":{"line":20,"column":2},"end":{"line":28,"column":3}},"17":{"start":{"line":30,"column":2},"end":{"line":39,"column":3}},"18":{"start":{"line":31,"column":4},"end":{"line":38,"column":5}},"19":{"start":{"line":42,"column":2},"end":{"line":63,"column":4}},"20":{"start":{"line":65,"column":2},"end":{"line":65,"column":20}},"21":{"start":{"line":66,"column":2},"end":{"line":72,"column":3}},"22":{"start":{"line":67,"column":4},"end":{"line":71,"column":5}},"23":{"start":{"line":68,"column":6},"end":{"line":68,"column":34}},"24":{"start":{"line":70,"column":6},"end":{"line":70,"column":29}},"25":{"start":{"line":74,"column":2},"end":{"line":100,"column":3}},"26":{"start":{"line":75,"column":4},"end":{"line":85,"column":6}},"27":{"start":{"line":87,"column":4},"end":{"line":99,"column":6}},"28":{"start":{"line":104,"column":0},"end":{"line":157,"column":1}},"29":{"start":{"line":105,"column":2},"end":{"line":105,"column":18}},"30":{"start":{"line":107,"column":2},"end":{"line":107,"column":18}},"31":{"start":{"line":108,"column":2},"end":{"line":108,"column":18}},"32":{"start":{"line":110,"column":2},"end":{"line":116,"column":3}},"33":{"start":{"line":111,"column":4},"end":{"line":111,"column":16}},"34":{"start":{"line":112,"column":4},"end":{"line":112,"column":32}},"35":{"start":{"line":113,"column":9},"end":{"line":116,"column":3}},"36":{"start":{"line":114,"column":4},"end":{"line":114,"column":41}},"37":{"start":{"line":115,"column":4},"end":{"line":115,"column":36}},"38":{"start":{"line":118,"column":2},"end":{"line":150,"column":3}},"39":{"start":{"line":119,"column":4},"end":{"line":119,"column":97}},"40":{"start":{"line":120,"column":4},"end":{"line":120,"column":24}},"41":{"start":{"line":121,"column":4},"end":{"line":121,"column":28}},"42":{"start":{"line":122,"column":4},"end":{"line":140,"column":5}},"43":{"start":{"line":123,"column":6},"end":{"line":123,"column":33}},"44":{"start":{"line":124,"column":6},"end":{"line":124,"column":22}},"45":{"start":{"line":125,"column":6},"end":{"line":139,"column":7}},"46":{"start":{"line":126,"column":8},"end":{"line":128,"column":9}},"47":{"start":{"line":127,"column":10},"end":{"line":127,"column":25}},"48":{"start":{"line":129,"column":8},"end":{"line":138,"column":9}},"49":{"start":{"line":142,"column":4},"end":{"line":149,"column":5}},"50":{"start":{"line":143,"column":6},"end":{"line":148,"column":7}},"51":{"start":{"line":152,"column":2},"end":{"line":156,"column":4}},"52":{"start":{"line":159,"column":0},"end":{"line":161,"column":1}},"53":{"start":{"line":160,"column":2},"end":{"line":160,"column":28}},"54":{"start":{"line":163,"column":0},"end":{"line":169,"column":1}},"55":{"start":{"line":164,"column":2},"end":{"line":168,"column":3}},"56":{"start":{"line":165,"column":4},"end":{"line":165,"column":31}},"57":{"start":{"line":167,"column":4},"end":{"line":167,"column":14}},"58":{"start":{"line":171,"column":0},"end":{"line":176,"column":1}},"59":{"start":{"line":172,"column":2},"end":{"line":174,"column":3}},"60":{"start":{"line":173,"column":4},"end":{"line":173,"column":38}},"61":{"start":{"line":175,"column":2},"end":{"line":175,"column":20}},"62":{"start":{"line":178,"column":0},"end":{"line":185,"column":1}},"63":{"start":{"line":179,"column":2},"end":{"line":179,"column":24}},"64":{"start":{"line":180,"column":2},"end":{"line":184,"column":3}},"65":{"start":{"line":181,"column":4},"end":{"line":183,"column":6}},"66":{"start":{"line":182,"column":6},"end":{"line":182,"column":27}},"67":{"start":{"line":187,"column":0},"end":{"line":216,"column":1}},"68":{"start":{"line":188,"column":2},"end":{"line":188,"column":18}},"69":{"start":{"line":189,"column":2},"end":{"line":189,"column":16}},"70":{"start":{"line":191,"column":2},"end":{"line":191,"column":25}},"71":{"start":{"line":193,"column":2},"end":{"line":213,"column":3}},"72":{"start":{"line":195,"column":4},"end":{"line":195,"column":80}},"73":{"start":{"line":197,"column":4},"end":{"line":209,"column":5}},"74":{"start":{"line":198,"column":6},"end":{"line":200,"column":7}},"75":{"start":{"line":201,"column":11},"end":{"line":209,"column":5}},"76":{"start":{"line":202,"column":6},"end":{"line":204,"column":7}},"77":{"start":{"line":205,"column":11},"end":{"line":209,"column":5}},"78":{"start":{"line":206,"column":6},"end":{"line":208,"column":7}},"79":{"start":{"line":211,"column":4},"end":{"line":211,"column":23}},"80":{"start":{"line":212,"column":4},"end":{"line":212,"column":23}},"81":{"start":{"line":215,"column":2},"end":{"line":215,"column":16}},"82":{"start":{"line":218,"column":0},"end":{"line":223,"column":1}},"83":{"start":{"line":219,"column":2},"end":{"line":222,"column":3}},"84":{"start":{"line":220,"column":4},"end":{"line":220,"column":39}},"85":{"start":{"line":221,"column":4},"end":{"line":221,"column":78}},"86":{"start":{"line":225,"column":0},"end":{"line":230,"column":1}},"87":{"start":{"line":226,"column":2},"end":{"line":229,"column":3}},"88":{"start":{"line":232,"column":0},"end":{"line":253,"column":1}},"89":{"start":{"line":233,"column":2},"end":{"line":252,"column":4}},"90":{"start":{"line":255,"column":0},"end":{"line":322,"column":1}},"91":{"start":{"line":257,"column":2},"end":{"line":257,"column":38}},"92":{"start":{"line":258,"column":2},"end":{"line":258,"column":38}},"93":{"start":{"line":260,"column":2},"end":{"line":260,"column":38}},"94":{"start":{"line":261,"column":2},"end":{"line":261,"column":29}},"95":{"start":{"line":263,"column":2},"end":{"line":263,"column":36}},"96":{"start":{"line":265,"column":2},"end":{"line":321,"column":4}},"97":{"start":{"line":324,"column":0},"end":{"line":335,"column":1}},"98":{"start":{"line":325,"column":2},"end":{"line":325,"column":25}},"99":{"start":{"line":326,"column":2},"end":{"line":334,"column":3}},"100":{"start":{"line":327,"column":4},"end":{"line":331,"column":6}},"101":{"start":{"line":333,"column":4},"end":{"line":333,"column":32}},"102":{"start":{"line":337,"column":0},"end":{"line":370,"column":1}},"103":{"start":{"line":338,"column":2},"end":{"line":369,"column":4}},"104":{"start":{"line":372,"column":0},"end":{"line":374,"column":1}},"105":{"start":{"line":373,"column":2},"end":{"line":373,"column":24}},"106":{"start":{"line":376,"column":0},"end":{"line":379,"column":1}},"107":{"start":{"line":377,"column":2},"end":{"line":377,"column":25}},"108":{"start":{"line":378,"column":2},"end":{"line":378,"column":24}},"109":{"start":{"line":381,"column":0},"end":{"line":386,"column":1}},"110":{"start":{"line":382,"column":2},"end":{"line":382,"column":25}},"111":{"start":{"line":383,"column":2},"end":{"line":385,"column":5}},"112":{"start":{"line":388,"column":0},"end":{"line":397,"column":1}},"113":{"start":{"line":389,"column":2},"end":{"line":389,"column":33}},"114":{"start":{"line":390,"column":2},"end":{"line":390,"column":69}},"115":{"start":{"line":391,"column":2},"end":{"line":391,"column":37}},"116":{"start":{"line":392,"column":2},"end":{"line":392,"column":18}},"117":{"start":{"line":393,"column":2},"end":{"line":393,"column":26}},"118":{"start":{"line":395,"column":2},"end":{"line":395,"column":39}},"119":{"start":{"line":396,"column":2},"end":{"line":396,"column":69}},"120":{"start":{"line":399,"column":0},"end":{"line":420,"column":1}},"121":{"start":{"line":400,"column":2},"end":{"line":400,"column":62}},"122":{"start":{"line":401,"column":2},"end":{"line":401,"column":38}},"123":{"start":{"line":402,"column":2},"end":{"line":404,"column":27}},"124":{"start":{"line":406,"column":2},"end":{"line":412,"column":3}},"125":{"start":{"line":407,"column":4},"end":{"line":411,"column":5}},"126":{"start":{"line":408,"column":6},"end":{"line":408,"column":13}},"127":{"start":{"line":410,"column":6},"end":{"line":410,"column":13}},"128":{"start":{"line":413,"column":2},"end":{"line":419,"column":3}},"129":{"start":{"line":422,"column":0},"end":{"line":456,"column":1}},"130":{"start":{"line":423,"column":2},"end":{"line":423,"column":33}},"131":{"start":{"line":424,"column":2},"end":{"line":424,"column":65}},"132":{"start":{"line":425,"column":2},"end":{"line":455,"column":4}},"133":{"start":{"line":426,"column":4},"end":{"line":430,"column":5}},"134":{"start":{"line":427,"column":6},"end":{"line":427,"column":105}},"135":{"start":{"line":428,"column":6},"end":{"line":428,"column":55}},"136":{"start":{"line":429,"column":6},"end":{"line":429,"column":24}},"137":{"start":{"line":432,"column":4},"end":{"line":444,"column":5}},"138":{"start":{"line":433,"column":6},"end":{"line":433,"column":29}},"139":{"start":{"line":434,"column":6},"end":{"line":443,"column":8}},"140":{"start":{"line":446,"column":4},"end":{"line":446,"column":41}},"141":{"start":{"line":447,"column":4},"end":{"line":447,"column":49}},"142":{"start":{"line":449,"column":4},"end":{"line":454,"column":6}},"143":{"start":{"line":458,"column":0},"end":{"line":473,"column":1}},"144":{"start":{"line":459,"column":2},"end":{"line":459,"column":16}},"145":{"start":{"line":461,"column":2},"end":{"line":461,"column":25}},"146":{"start":{"line":463,"column":2},"end":{"line":470,"column":3}},"147":{"start":{"line":464,"column":4},"end":{"line":469,"column":5}},"148":{"start":{"line":465,"column":6},"end":{"line":465,"column":25}},"149":{"start":{"line":466,"column":6},"end":{"line":466,"column":25}},"150":{"start":{"line":468,"column":6},"end":{"line":468,"column":70}},"151":{"start":{"line":472,"column":2},"end":{"line":472,"column":14}},"152":{"start":{"line":475,"column":0},"end":{"line":484,"column":1}},"153":{"start":{"line":476,"column":2},"end":{"line":482,"column":3}},"154":{"start":{"line":477,"column":4},"end":{"line":481,"column":5}},"155":{"start":{"line":478,"column":6},"end":{"line":478,"column":28}},"156":{"start":{"line":480,"column":6},"end":{"line":480,"column":25}},"157":{"start":{"line":483,"column":2},"end":{"line":483,"column":14}},"158":{"start":{"line":486,"column":0},"end":{"line":500,"column":1}},"159":{"start":{"line":487,"column":2},"end":{"line":487,"column":25}},"160":{"start":{"line":488,"column":2},"end":{"line":488,"column":70}},"161":{"start":{"line":489,"column":2},"end":{"line":489,"column":74}},"162":{"start":{"line":491,"column":2},"end":{"line":499,"column":21}},"163":{"start":{"line":502,"column":0},"end":{"line":512,"column":1}},"164":{"start":{"line":503,"column":2},"end":{"line":511,"column":3}},"165":{"start":{"line":504,"column":4},"end":{"line":504,"column":15}},"166":{"start":{"line":506,"column":4},"end":{"line":506,"column":50}},"167":{"start":{"line":507,"column":4},"end":{"line":510,"column":5}},"168":{"start":{"line":514,"column":0},"end":{"line":525,"column":1}},"169":{"start":{"line":515,"column":2},"end":{"line":515,"column":55}},"170":{"start":{"line":516,"column":2},"end":{"line":524,"column":3}},"171":{"start":{"line":517,"column":4},"end":{"line":521,"column":5}},"172":{"start":{"line":518,"column":6},"end":{"line":518,"column":48}},"173":{"start":{"line":520,"column":6},"end":{"line":520,"column":52}},"174":{"start":{"line":523,"column":4},"end":{"line":523,"column":24}}},"branchMap":{"1":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":30,"column":2}},{"start":{"line":30,"column":2},"end":{"line":30,"column":2}}]},"2":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":34},"end":{"line":52,"column":28}},{"start":{"line":52,"column":31},"end":{"line":52,"column":35}}]},"3":{"line":53,"type":"cond-expr","locations":[{"start":{"line":53,"column":26},"end":{"line":56,"column":24}},{"start":{"line":56,"column":27},"end":{"line":56,"column":31}}]},"4":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":30},"end":{"line":62,"column":6}},{"start":{"line":62,"column":9},"end":{"line":62,"column":13}}]},"5":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"6":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":4},"end":{"line":67,"column":4}},{"start":{"line":67,"column":4},"end":{"line":67,"column":4}}]},"7":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":32}},{"start":{"line":67,"column":36},"end":{"line":67,"column":62}}]},"8":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"9":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":18}},{"start":{"line":74,"column":22},"end":{"line":74,"column":55}}]},"10":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":2},"end":{"line":110,"column":2}},{"start":{"line":110,"column":2},"end":{"line":110,"column":2}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":15},"end":{"line":112,"column":27}},{"start":{"line":112,"column":31},"end":{"line":112,"column":32}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":9},"end":{"line":113,"column":9}},{"start":{"line":113,"column":9},"end":{"line":113,"column":9}}]},"13":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":13},"end":{"line":113,"column":25}},{"start":{"line":113,"column":30},"end":{"line":113,"column":59}},{"start":{"line":113,"column":63},"end":{"line":113,"column":92}}]},"14":{"line":114,"type":"binary-expr","locations":[{"start":{"line":114,"column":15},"end":{"line":114,"column":36}},{"start":{"line":114,"column":40},"end":{"line":114,"column":41}}]},"15":{"line":118,"type":"if","locations":[{"start":{"line":118,"column":2},"end":{"line":118,"column":2}},{"start":{"line":118,"column":2},"end":{"line":118,"column":2}}]},"16":{"line":119,"type":"cond-expr","locations":[{"start":{"line":119,"column":72},"end":{"line":119,"column":90}},{"start":{"line":119,"column":93},"end":{"line":119,"column":97}}]},"17":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":20},"end":{"line":119,"column":32}},{"start":{"line":119,"column":36},"end":{"line":119,"column":69}}]},"18":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":6},"end":{"line":125,"column":6}},{"start":{"line":125,"column":6},"end":{"line":125,"column":6}}]},"19":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":8}},{"start":{"line":126,"column":8},"end":{"line":126,"column":8}}]},"20":{"line":133,"type":"binary-expr","locations":[{"start":{"line":133,"column":14},"end":{"line":133,"column":26}},{"start":{"line":134,"column":14},"end":{"line":134,"column":47}},{"start":{"line":135,"column":14},"end":{"line":135,"column":39}}]},"21":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"22":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":17}},{"start":{"line":142,"column":21},"end":{"line":142,"column":30}}]},"23":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":2},"end":{"line":164,"column":2}},{"start":{"line":164,"column":2},"end":{"line":164,"column":2}}]},"24":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":6},"end":{"line":164,"column":15}},{"start":{"line":164,"column":19},"end":{"line":164,"column":55}}]},"25":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":2},"end":{"line":172,"column":2}},{"start":{"line":172,"column":2},"end":{"line":172,"column":2}}]},"26":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]},"27":{"line":195,"type":"cond-expr","locations":[{"start":{"line":195,"column":38},"end":{"line":195,"column":72}},{"start":{"line":195,"column":75},"end":{"line":195,"column":80}}]},"28":{"line":197,"type":"if","locations":[{"start":{"line":197,"column":4},"end":{"line":197,"column":4}},{"start":{"line":197,"column":4},"end":{"line":197,"column":4}}]},"29":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":11},"end":{"line":201,"column":11}},{"start":{"line":201,"column":11},"end":{"line":201,"column":11}}]},"30":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":11},"end":{"line":205,"column":11}},{"start":{"line":205,"column":11},"end":{"line":205,"column":11}}]},"31":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":2},"end":{"line":219,"column":2}},{"start":{"line":219,"column":2},"end":{"line":219,"column":2}}]},"32":{"line":219,"type":"binary-expr","locations":[{"start":{"line":219,"column":6},"end":{"line":219,"column":15}},{"start":{"line":219,"column":19},"end":{"line":219,"column":36}}]},"33":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":11},"end":{"line":221,"column":16}},{"start":{"line":221,"column":20},"end":{"line":221,"column":51}},{"start":{"line":221,"column":55},"end":{"line":221,"column":78}}]},"34":{"line":245,"type":"cond-expr","locations":[{"start":{"line":245,"column":34},"end":{"line":250,"column":6}},{"start":{"line":250,"column":9},"end":{"line":250,"column":13}}]},"35":{"line":270,"type":"cond-expr","locations":[{"start":{"line":270,"column":28},"end":{"line":270,"column":39}},{"start":{"line":270,"column":42},"end":{"line":270,"column":44}}]},"36":{"line":273,"type":"cond-expr","locations":[{"start":{"line":273,"column":26},"end":{"line":273,"column":36}},{"start":{"line":273,"column":39},"end":{"line":273,"column":44}}]},"37":{"line":281,"type":"cond-expr","locations":[{"start":{"line":281,"column":24},"end":{"line":281,"column":29}},{"start":{"line":281,"column":32},"end":{"line":281,"column":42}}]},"38":{"line":282,"type":"cond-expr","locations":[{"start":{"line":282,"column":25},"end":{"line":282,"column":39}},{"start":{"line":282,"column":42},"end":{"line":282,"column":52}}]},"39":{"line":294,"type":"cond-expr","locations":[{"start":{"line":294,"column":26},"end":{"line":294,"column":32}},{"start":{"line":294,"column":35},"end":{"line":294,"column":40}}]},"40":{"line":297,"type":"cond-expr","locations":[{"start":{"line":297,"column":14},"end":{"line":300,"column":6}},{"start":{"line":300,"column":9},"end":{"line":300,"column":13}}]},"41":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":2},"end":{"line":326,"column":2}},{"start":{"line":326,"column":2},"end":{"line":326,"column":2}}]},"42":{"line":326,"type":"binary-expr","locations":[{"start":{"line":326,"column":6},"end":{"line":326,"column":11}},{"start":{"line":326,"column":15},"end":{"line":326,"column":41}}]},"43":{"line":390,"type":"binary-expr","locations":[{"start":{"line":390,"column":40},"end":{"line":390,"column":53}},{"start":{"line":390,"column":57},"end":{"line":390,"column":68}}]},"44":{"line":400,"type":"binary-expr","locations":[{"start":{"line":400,"column":18},"end":{"line":400,"column":38}},{"start":{"line":400,"column":42},"end":{"line":400,"column":62}}]},"45":{"line":402,"type":"cond-expr","locations":[{"start":{"line":403,"column":6},"end":{"line":403,"column":27}},{"start":{"line":404,"column":6},"end":{"line":404,"column":27}}]},"46":{"line":406,"type":"if","locations":[{"start":{"line":406,"column":2},"end":{"line":406,"column":2}},{"start":{"line":406,"column":2},"end":{"line":406,"column":2}}]},"47":{"line":407,"type":"if","locations":[{"start":{"line":407,"column":4},"end":{"line":407,"column":4}},{"start":{"line":407,"column":4},"end":{"line":407,"column":4}}]},"48":{"line":418,"type":"cond-expr","locations":[{"start":{"line":418,"column":32},"end":{"line":418,"column":37}},{"start":{"line":418,"column":40},"end":{"line":418,"column":48}}]},"49":{"line":424,"type":"binary-expr","locations":[{"start":{"line":424,"column":14},"end":{"line":424,"column":52}},{"start":{"line":424,"column":56},"end":{"line":424,"column":65}}]},"50":{"line":426,"type":"if","locations":[{"start":{"line":426,"column":4},"end":{"line":426,"column":4}},{"start":{"line":426,"column":4},"end":{"line":426,"column":4}}]},"51":{"line":427,"type":"binary-expr","locations":[{"start":{"line":427,"column":75},"end":{"line":427,"column":88}},{"start":{"line":427,"column":92},"end":{"line":427,"column":103}}]},"52":{"line":428,"type":"binary-expr","locations":[{"start":{"line":428,"column":20},"end":{"line":428,"column":28}},{"start":{"line":428,"column":32},"end":{"line":428,"column":55}}]},"53":{"line":432,"type":"if","locations":[{"start":{"line":432,"column":4},"end":{"line":432,"column":4}},{"start":{"line":432,"column":4},"end":{"line":432,"column":4}}]},"54":{"line":464,"type":"if","locations":[{"start":{"line":464,"column":4},"end":{"line":464,"column":4}},{"start":{"line":464,"column":4},"end":{"line":464,"column":4}}]},"55":{"line":464,"type":"binary-expr","locations":[{"start":{"line":464,"column":8},"end":{"line":464,"column":31}},{"start":{"line":464,"column":35},"end":{"line":464,"column":61}}]},"56":{"line":468,"type":"cond-expr","locations":[{"start":{"line":468,"column":28},"end":{"line":468,"column":62}},{"start":{"line":468,"column":65},"end":{"line":468,"column":70}}]},"57":{"line":477,"type":"if","locations":[{"start":{"line":477,"column":4},"end":{"line":477,"column":4}},{"start":{"line":477,"column":4},"end":{"line":477,"column":4}}]},"58":{"line":488,"type":"cond-expr","locations":[{"start":{"line":488,"column":48},"end":{"line":488,"column":63}},{"start":{"line":488,"column":66},"end":{"line":488,"column":70}}]},"59":{"line":489,"type":"cond-expr","locations":[{"start":{"line":489,"column":50},"end":{"line":489,"column":66}},{"start":{"line":489,"column":69},"end":{"line":489,"column":74}}]},"60":{"line":494,"type":"cond-expr","locations":[{"start":{"line":494,"column":35},"end":{"line":494,"column":46}},{"start":{"line":494,"column":49},"end":{"line":494,"column":51}}]},"61":{"line":497,"type":"cond-expr","locations":[{"start":{"line":497,"column":33},"end":{"line":497,"column":41}},{"start":{"line":497,"column":44},"end":{"line":497,"column":51}}]},"62":{"line":503,"type":"if","locations":[{"start":{"line":503,"column":2},"end":{"line":503,"column":2}},{"start":{"line":503,"column":2},"end":{"line":503,"column":2}}]},"63":{"line":506,"type":"binary-expr","locations":[{"start":{"line":506,"column":15},"end":{"line":506,"column":28}},{"start":{"line":506,"column":32},"end":{"line":506,"column":50}}]},"64":{"line":508,"type":"binary-expr","locations":[{"start":{"line":508,"column":6},"end":{"line":508,"column":10}},{"start":{"line":508,"column":14},"end":{"line":508,"column":28}},{"start":{"line":509,"column":6},"end":{"line":509,"column":28}}]},"65":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":2},"end":{"line":516,"column":2}},{"start":{"line":516,"column":2},"end":{"line":516,"column":2}}]},"66":{"line":517,"type":"if","locations":[{"start":{"line":517,"column":4},"end":{"line":517,"column":4}},{"start":{"line":517,"column":4},"end":{"line":517,"column":4}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","var Range = require('./range.js')","var read = require('lib/read')","var QueryParam = require('lib/query-param')","var extend = require('xtend')","var spawnNode = require('lib/spawn-node')","var SubLoop = require('lib/sub-loop')","var formatParams = require('lib/format-params')","","module.exports = function render (param, options) {","  var value = read(param)","","  var context = param.context","  var currentValue = read(getValueParam(param))","  var revertValue = resolveValue(currentValue)","  var trigger = isTriggerable(param)","","  var modulatorOptions = [","    h('option', {","      rawValue: {","        node: 'modulator/lfo',","        trigger: trigger","      },","      action: wrap","    }, 'LFO')","  ]","","  if (trigger) {","    modulatorOptions.push(","      h('option', {","        rawValue: {","          node: 'modulator/adsr'","        },","        action: wrap","      }, 'Envelope (ADSR)')","    )","  }","","","  var linkSelector = h('select.link', {","    'ev-change': SelectedValueHandler(param)","  }, [","    h('option', {","      rawValue: revertValue,","      selected: SetImmediateHook(!(currentValue instanceof Object))","    }, 'Specify Value'),","    options.allowSpawnModulator ? h('option', {","      rawValue: options,","      action: spawnModulatorChunk","    }, '+ Create Modulator') : null,","    param.context.chunk ? h('option', {","      rawValue: options,","      action: spawnParam","    }, '+ Create Param') : null,","    SubLoop([context, context.paramLookup, currentValue, options.format], getParamLinkOptions),","    modulatorOptions.length ? h('optgroup', {","      label: 'Add Modulator'","    }, [","      modulatorOptions","    ]) : null","  ])","","  var classList = []","  if (options.flex) {","    if (options.flex === 'small' && !(value instanceof Object)){","      classList.push('-flexSmall')","    } else {","      classList.push('-flex')","    }","  }","","  if (currentValue && currentValue.node === 'linkParam') {","    return h('ModParam -linked', {","      className: classList.join(' ')","    }, [","      h('div.param', [","        h('span.title', options.title), '  ', currentValue.param","      ]),","      linkSelector,","      h('div.sub', getSubEditors(param, {","        format: options.format","      }))","    ])","  } else {","    return h('ModParam -value', {","      className: classList.join(' ')","    }, [","      h('div.param', [","        Range(param, extend(options, {","          flex: true","        }))","      ]),","      linkSelector,","      h('div.sub', getSubEditors(param, {","        format: options.format","      }))","    ])","  }","","}","","function getParamLinkOptions (context, params, currentValue, format) {","  var options = []","","  var minValue = 0","  var maxValue = 1","","  if (typeof currentValue === 'number') {","    minValue = 0","    maxValue = currentValue || 1","  } else if (currentValue && (currentValue.minValue != null || currentValue.maxValue != null)) {","    minValue = currentValue.minValue || 0","    maxValue = currentValue.maxValue","  }","","  if (params) {","    var currentId = currentValue && currentValue.node === 'linkParam' ? currentValue.param : null","    var included = false","    var keys = params.keys()","    for (var i = 0; i < keys.length; i++) {","      var p = params.get(keys[i])","      var id = keys[i]","      if (!hasFeedback(context, p)) {","        if (id === currentId) {","          included = true","        }","        options.push(","          h('option', {","            rawValue: getParamLink(id, currentValue, format),","            selected: SetImmediateHook(","              currentValue &&","              currentValue.node === 'linkParam' &&","              currentValue.param === id","            )","          }, getModulatorName(id, p))","        )","      }","    }","","    if (!included && currentId) {","      options.unshift(","        h('option', {","          rawValue: getParamLink(currentId, currentValue, format),","          selected: SetImmediateHook(true)","        }, '[' + currentId + ']')","      )","    }","  }","","  return h('optgroup', {","    label: 'Link Param'","  }, [","    options","  ])","}","","function isExpFormat(format) {","  return (format === 'arfo')","}","","function getModulatorName (key, modulator) {","  if (modulator && modulator._type === 'ModulatorChunk') {","    return key + ' (modulator)'","  } else {","    return key","  }","}","","function SetImmediateHook(value) {","  if (!(this instanceof SetImmediateHook)) {","    return new SetImmediateHook(value)","  }","  this.value = value","}","","SetImmediateHook.prototype.hook = function (element, prop) {","  var value = this.value","  if (value) {","    setImmediate(function() {","      element[prop] = value","    })","  }","}","","function getSubEditors (param, options) {","  var editors = []","  var query = []","","  var value = read(param)","","  while (value instanceof Object) {","","    var currentParam = query.length ? QueryParam(param, query.join('.')) : param","","    if (value.node === 'linkParam') {","      editors.unshift(","        ParamLink(currentParam, options)","      )","    } else if (value.node === 'modulator/lfo') {","      editors.unshift(","        LFO(currentParam, options)","      )","    } else if (value.node === 'modulator/adsr') {","      editors.unshift(","        ADSR(currentParam, options)","      )","    }","","    query.push('value')","    value = value.value","  }","","  return editors","}","","function hasFeedback (context, modulator){","  if (modulator && modulator.context) {","    var chunk = modulator.context.chunk","    return chunk && chunk._type == \"ModulatorChunk\" && chunk === context.chunk","  }","}","","function SelectedValueHandler(param) {","  return {","    param: param,","    handleEvent: handleSelectEvent","  }","}","","function ParamLink (param, options) {","  return h('div', [","","    Range(QueryParam(param, 'minValue'), extend(options, {","      flex: true,","      title: 'min'","    })),","","    Range(QueryParam(param, 'maxValue'), extend(options, {","      flex: true,","      title: 'max'","    })),","","    options.format !== 'ratio1' ? Toggle(QueryParam(param, 'quantize'), {","      title: 'Round to whole number',","      caption: 'R',","      onValue: 1,","      offValue: null","    }) : null","","  ])","}","","function LFO(param, options){","","  var mode = QueryParam(param, 'mode')","  var sync = QueryParam(param, 'sync')","","  var isAdding = mode.read() === 'add'","  var isSyncing = sync.read()","","  var trigger = isTriggerable(param)","","  return h('div', [","","    h('a', {","      tabIndex: 0,","      title: 'Add to value (instead of scaling)',","      className: isAdding ? '-selected' : '',","      'ev-click': send(setParam, {","        param: mode,","        value: isAdding ? 'multiply' : 'add'","      })","    }, '+'),","","","    LinkableRange(QueryParam(param, 'amp'), {","      flex: true,","      defaultValue: 1,","      title: isAdding ? 'add' : 'multiply',","      format: isAdding ? options.format : 'ratioExp'","    }),","","    Toggle(sync, {","      title: 'Sync to BPM',","      caption: 'S'","    }),","","    LinkableRange(QueryParam(param, 'rate'), {","      flex: true,","      defaultValue: 1,","      title: 'rate',","      format: isSyncing ? 'beat' : 'lfo'","    }),","","    trigger ? Toggle(QueryParam(param, 'trigger'), {","      title: 'Retrigger',","      caption: 'T'","    }) : null,","","    LinkableRange(QueryParam(param, 'skew'), {","      defaultValue: 0,","      title: 'skew',","      format: 'offset1',","      flex: true","    }),","","    LinkableRange(QueryParam(param, 'curve'), {","      defaultValue: 1,","      title: 'curve',","      format: 'ratio1',","      flex: true","    }),","","    h('button.remove Button -warn', {","      title: 'Remove',","      'ev-click': send(remove, param),","    }, 'X')","","  ])","}","","function LinkableRange (param, options) {","  var value = read(param)","  if (value && value.node === 'linkParam') {","    return h('RangeParam', [","      h('div.link', [","        h('span.title', options.title), '  ', value.param","      ])","    ])","  } else {","    return Range(param, options)","  }","}","","function ADSR (param, options) {","  return h('div', [","","    LinkableRange(QueryParam(param, 'attack'), {","      flex: true,","      title: 'a',","      format: 'ms'","    }),","","    LinkableRange(QueryParam(param, 'decay'), {","      flex: true,","      title: 'd',","      format: 'ms'","    }),","","    LinkableRange(QueryParam(param, 'sustain'), {","      flex: true,","      defaultValue: 1,","      title: 's',","      format: 'ratio'","    }),","","    LinkableRange(QueryParam(param, 'release'), {","      flex: true,","      title: 'r',","      format: 'ms'","    }),","","    h('button.remove Button -warn', {","      'ev-click': send(remove, param),","    }, 'X')","","  ])","}","","function setParam(ev){","  ev.param.set(ev.value)","}","","function remove(param) {","  var value = read(param)","  param.set(value.value)","}","","function wrap(param, wrapper) {","  var value = read(param)","  param.set(extend(wrapper, {","    value: value","  }))","}","","function spawnParam (param, options) {","  var chunk = param.context.chunk","  var key = chunk.resolveAvailableParam(options.title || 'New Param')","  var params = chunk.params().slice()","  params.push(key)","  chunk.params.set(params)","","  var valueParam = getValueParam(param)","  valueParam.set(getParamLink(key, read(valueParam), options.format))","}","","function getParamLink (key, currentValue, format) {","  var formatter = formatParams[format] || formatParams.default","  var min = resolveValue(currentValue)","  var max = formatter.size(min) < 0.5","    ? formatter.value(1, 0)","    : formatter.value(0, 0)","","  if (format === 'dB') {","    if (min <= 1) {","      max = 2","    } else {","      max = 0","    }","  }","  return {","    node: 'linkParam',","    minValue: min,","    maxValue: max,","    param: key,","    mode: isExpFormat(format) ? 'exp' : 'linear'","  }","}","","function spawnModulatorChunk(param, options) {","  var setup = param.context.setup","  var index = setup.chunks.indexOf(options.node) + 1 || undefined","  spawnNode(setup.chunks, 'modulatorChunk', index, function (err, chunk) {","    if (options.node) {","      var newId = setup.chunks.resolveAvailable(options.node().id + '-' + (options.title || 'modulator'))","      var idParam = chunk.id || QueryParam(chunk, 'id')","      idParam.set(newId)","    }","","    if (options.format === 'semitone') {","      chunk.shape.set([1, 8])","      chunk.slots.set([","        { node: 'slot/value', id: '0', value: -4 },","        { node: 'slot/value', id: '1', value: -3 },","        { node: 'slot/value', id: '2', value: -2 },","        { node: 'slot/value', id: '3', value: -1 },","        { node: 'slot/value', id: '4', value: 1 },","        { node: 'slot/value', id: '5', value: 2 },","        { node: 'slot/value', id: '6', value: 3 },","        { node: 'slot/value', id: '7', value: 4 }","      ])","    }","","    setup.selectedChunkId.set(chunk.id())","    setup.context.actions.scrollToSelectedChunk()","","    getValueParam(param).set({","      node: 'linkParam',","      minValue: 0,","      maxValue: 1,","      param: chunk.id()","    })","  })","}","","function getValueParam(param) {","  var query = []","","  var value = read(param)","","  while (value != null) {","    if (value instanceof Object && value.node !== 'linkParam') {","      query.push('value')","      value = value.value","    } else {","      return query.length ? QueryParam(param, query.join('.')) : param","    }","  }","","  return param","}","","function resolveValue (value) {","  while (value instanceof Object) {","    if (value.minValue != null) {","      value = value.minValue","    } else {","      value = value.value","    }","  }","  return value","}","","function Toggle(param, options) {","  var value = read(param)","  var onValue = options.onValue !== undefined ? options.onValue : true","  var offValue = options.offValue !== undefined ? options.offValue : false","","  return h('a', {","    tabIndex: 0,","    title: options.title,","    className: value === onValue ? '-selected' : '',","    'ev-click': send(setParam, {","      param: param,","      value: value === onValue ? offValue : onValue","    })","  }, options.caption)","}","","function isTriggerable(param) {","  if (param.triggerable) {","    return true","  } else {","    var slot = param.context && param.context.slot","    return !!(","      slot && slot.triggerOn &&","      slot().id !== 'output' // HACK: should handle this better","    )","  }","}","","function handleSelectEvent(ev) {","  var option = ev.currentTarget.selectedOptions.item(0)","  if (option) {","    if (option.action) {","      option.action(this.param, option.rawValue)","    } else {","      getValueParam(this.param).set(option.rawValue)","    }","  } else {","    this.param.set(null)","  }","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"13":0,"15":0,"16":0,"17":0,"18":0,"20":0,"30":0,"31":0,"42":0,"65":0,"66":0,"67":0,"68":0,"70":0,"74":0,"75":0,"87":0,"104":1,"105":0,"107":0,"108":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"129":0,"142":0,"143":0,"152":0,"159":1,"160":0,"163":1,"164":0,"165":0,"167":0,"171":1,"172":0,"173":0,"175":0,"178":1,"179":0,"180":0,"181":0,"182":0,"187":1,"188":0,"189":0,"191":0,"193":0,"195":0,"197":0,"198":0,"201":0,"202":0,"205":0,"206":0,"211":0,"212":0,"215":0,"218":1,"219":0,"220":0,"221":0,"225":1,"226":0,"232":1,"233":0,"255":1,"257":0,"258":0,"260":0,"261":0,"263":0,"265":0,"324":1,"325":0,"326":0,"327":0,"333":0,"337":1,"338":0,"372":1,"373":0,"376":1,"377":0,"378":0,"381":1,"382":0,"383":0,"388":1,"389":0,"390":0,"391":0,"392":0,"393":0,"395":0,"396":0,"399":1,"400":0,"401":0,"402":0,"406":0,"407":0,"408":0,"410":0,"413":0,"422":1,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"432":0,"433":0,"434":0,"446":0,"447":0,"449":0,"458":1,"459":0,"461":0,"463":0,"464":0,"465":0,"466":0,"468":0,"472":0,"475":1,"476":0,"477":0,"478":0,"480":0,"483":0,"486":1,"487":0,"488":0,"489":0,"491":0,"502":1,"503":0,"504":0,"506":0,"507":0,"514":1,"515":0,"516":0,"517":0,"518":0,"520":0,"523":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/range.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/range.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"range","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":30}}},"2":{"name":"dblclickHandler","line":66,"loc":{"start":{"line":66,"column":0},"end":{"line":66,"column":31}}},"3":{"name":"drag","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":19}}},"4":{"name":"widthPercent","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":30}}},"5":{"name":"getNewValue","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":35}}},"6":{"name":"obtain","line":111,"loc":{"start":{"line":111,"column":0},"end":{"line":111,"column":20}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":52}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":45}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":22}},"9":{"start":{"line":12,"column":0},"end":{"line":64,"column":1}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":46}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":49}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":66}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":54}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":18}},"15":{"start":{"line":21,"column":2},"end":{"line":23,"column":3}},"16":{"start":{"line":22,"column":4},"end":{"line":22,"column":26}},"17":{"start":{"line":25,"column":2},"end":{"line":27,"column":3}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":25}},"19":{"start":{"line":29,"column":2},"end":{"line":35,"column":3}},"20":{"start":{"line":30,"column":4},"end":{"line":34,"column":5}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":32}},"22":{"start":{"line":33,"column":6},"end":{"line":33,"column":27}},"23":{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},"24":{"start":{"line":38,"column":4},"end":{"line":38,"column":25}},"25":{"start":{"line":41,"column":2},"end":{"line":41,"column":71}},"26":{"start":{"line":42,"column":2},"end":{"line":59,"column":4}},"27":{"start":{"line":60,"column":2},"end":{"line":63,"column":12}},"28":{"start":{"line":66,"column":0},"end":{"line":72,"column":1}},"29":{"start":{"line":67,"column":2},"end":{"line":71,"column":3}},"30":{"start":{"line":68,"column":4},"end":{"line":68,"column":35}},"31":{"start":{"line":70,"column":4},"end":{"line":70,"column":41}},"32":{"start":{"line":74,"column":0},"end":{"line":93,"column":1}},"33":{"start":{"line":75,"column":2},"end":{"line":75,"column":29}},"34":{"start":{"line":76,"column":2},"end":{"line":76,"column":37}},"35":{"start":{"line":77,"column":2},"end":{"line":92,"column":3}},"36":{"start":{"line":78,"column":4},"end":{"line":78,"column":31}},"37":{"start":{"line":79,"column":4},"end":{"line":79,"column":31}},"38":{"start":{"line":80,"column":4},"end":{"line":80,"column":32}},"39":{"start":{"line":81,"column":4},"end":{"line":81,"column":32}},"40":{"start":{"line":82,"column":4},"end":{"line":82,"column":54}},"41":{"start":{"line":83,"column":4},"end":{"line":83,"column":61}},"42":{"start":{"line":84,"column":4},"end":{"line":84,"column":43}},"43":{"start":{"line":85,"column":4},"end":{"line":87,"column":5}},"44":{"start":{"line":86,"column":6},"end":{"line":86,"column":22}},"45":{"start":{"line":88,"column":9},"end":{"line":92,"column":3}},"46":{"start":{"line":89,"column":4},"end":{"line":89,"column":68}},"47":{"start":{"line":90,"column":4},"end":{"line":90,"column":72}},"48":{"start":{"line":91,"column":4},"end":{"line":91,"column":24}},"49":{"start":{"line":95,"column":0},"end":{"line":99,"column":1}},"50":{"start":{"line":96,"column":2},"end":{"line":98,"column":3}},"51":{"start":{"line":101,"column":0},"end":{"line":109,"column":1}},"52":{"start":{"line":102,"column":2},"end":{"line":108,"column":3}},"53":{"start":{"line":103,"column":4},"end":{"line":103,"column":26}},"54":{"start":{"line":104,"column":4},"end":{"line":104,"column":41}},"55":{"start":{"line":105,"column":4},"end":{"line":105,"column":12}},"56":{"start":{"line":107,"column":4},"end":{"line":107,"column":16}},"57":{"start":{"line":111,"column":0},"end":{"line":113,"column":1}},"58":{"start":{"line":112,"column":2},"end":{"line":112,"column":40}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":21},"end":{"line":13,"column":41}},{"start":{"line":13,"column":45},"end":{"line":13,"column":46}}]},"2":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":18},"end":{"line":16,"column":44}},{"start":{"line":16,"column":48},"end":{"line":16,"column":66}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":2},"end":{"line":25,"column":2}},{"start":{"line":25,"column":2},"end":{"line":25,"column":2}}]},"5":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":2},"end":{"line":29,"column":2}},{"start":{"line":29,"column":2},"end":{"line":29,"column":2}}]},"6":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]},"8":{"line":41,"type":"cond-expr","locations":[{"start":{"line":41,"column":30},"end":{"line":41,"column":66}},{"start":{"line":41,"column":69},"end":{"line":41,"column":71}}]},"9":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":67,"column":2}},{"start":{"line":67,"column":2},"end":{"line":67,"column":2}}]},"10":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":2},"end":{"line":77,"column":2}},{"start":{"line":77,"column":2},"end":{"line":77,"column":2}}]},"11":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"12":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":9},"end":{"line":88,"column":9}},{"start":{"line":88,"column":9},"end":{"line":88,"column":9}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"14":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":6},"end":{"line":102,"column":30}},{"start":{"line":102,"column":34},"end":{"line":102,"column":56}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","var read = require('lib/read')","var formatters = require('lib/format-params')","var MouseDragEvent = require('lib/mouse-drag-event')","var cancelEvent = require('lib/cancel-event')","var getValue = require('lib/get-value')","","module.exports = range","","function range(param, options){","  var defaultValue = options.defaultValue || 0","  var value = getValue(read(param), defaultValue)","","  var formatter = formatters[options.format] || formatters.default","  var widthStyle = widthPercent(formatter.size(value))","","  var classes = []","","  if (options.large){","    classes.push('-large')","  }","","  if (options.full){","    classes.push('-full')","  }","","  if (options.flex){","    if (options.flex === 'small'){","      classes.push('-flexSmall')","    } else {","      classes.push('-flex')","    }","  }","","  if (options.pull){","    classes.push('-pull')","  }","","  var style = options.width ? {'flex-basis': options.width + 'px'} : {}","  var slider = h('div.slider', {","    tabIndex: '0',","    'draggable': true,","    'ev-dragstart': cancelEvent(),","    'ev-mousedown': MouseDragEvent(drag, {","      param: param,","      formatter: formatter,","      defaultValue: defaultValue","    }),","    'ev-dblclick': send(dblclickHandler, {","      param: param,","      defaultValue: defaultValue","    })","  },[","    h('div', {style: widthStyle}),","    h('span.value', formatter.display(value)),","    h('span.title', options.title)","  ])","  return h('RangeParam', {","    className: classes.join(' '),","    style: style","  }, slider)","}","","function dblclickHandler (obj) {","  if (obj.defaultValue !== undefined) {","    obj.param.set(obj.defaultValue)","  } else {","    obj.param.set(obj.param.defaultValue)","  }","}","","function drag (ev) {","  var param = this.data.param","  var formatter = this.data.formatter","  if (this.data.start){","    var start = this.data.start","    var range = this.data.range","    var offsetX = ev.x - start.x","    var offsetY = ev.y - start.y","    var offset = offsetX / (range + Math.abs(offsetY))","    var value = formatter.value(offset, this.data.startValue)","    value = getNewValue(read(param), value)","    if (read(param) !== value) {","      param.set(value)","    }","  } else if (ev.type === 'mousedown') {","    this.data.range = ev.currentTarget.getBoundingClientRect().width","    this.data.startValue = getValue(read(param), this.data.defaultValue)","    this.data.start = ev","  }","}","","function widthPercent(decimal){","  return {","    width: (Math.round(Math.min(1, Math.max(decimal, 0))*1000)/10) + '%'","  }","}","","function getNewValue(object, value){","  if (object instanceof Object && !Array.isArray(object)){","    var v = obtain(object)","    v.value = getNewValue(v.value, value)","    return v","  } else {","    return value","  }","}","","function obtain(obj){","  return JSON.parse(JSON.stringify(obj))","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"12":1,"13":0,"14":0,"16":0,"17":0,"19":0,"21":0,"22":0,"25":0,"26":0,"29":0,"30":0,"31":0,"33":0,"37":0,"38":0,"41":0,"42":0,"60":0,"66":1,"67":0,"68":0,"70":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"88":0,"89":0,"90":0,"91":0,"95":1,"96":0,"101":1,"102":0,"103":0,"104":0,"105":0,"107":0,"111":1,"112":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-chooser.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-chooser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"SampleChooser","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":34}}},"2":{"name":"handleChange","line":17,"loc":{"start":{"line":17,"column":0},"end":{"line":17,"column":27}}},"3":{"name":"(anonymous_3)","line":21,"loc":{"start":{"line":21,"column":35},"end":{"line":21,"column":60}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":41}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":47}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}},"6":{"start":{"line":9,"column":0},"end":{"line":15,"column":1}},"7":{"start":{"line":10,"column":2},"end":{"line":14,"column":4}},"8":{"start":{"line":17,"column":0},"end":{"line":26,"column":1}},"9":{"start":{"line":18,"column":2},"end":{"line":18,"column":22}},"10":{"start":{"line":19,"column":2},"end":{"line":19,"column":33}},"11":{"start":{"line":21,"column":2},"end":{"line":25,"column":4}},"12":{"start":{"line":22,"column":4},"end":{"line":24,"column":5}},"13":{"start":{"line":23,"column":6},"end":{"line":23,"column":44}}},"branchMap":{},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var FileEvent = require('lib/file-event')","var QueryParam = require('lib/query-param')","","var importSample = require('lib/import-sample')","","module.exports = SampleChooser","","function SampleChooser(node, opts){","  return h('input SampleChooser', {","    type: 'file',","    accept: 'audio/*,video/*',","    'ev-change': FileEvent(handleChange, node)","  })","}","","function handleChange(file){","  var node = this.data","  var context = this.data.context","","  importSample(context, file.path, function(err, descriptor){","    for (var k in descriptor){","      QueryParam(node, k).set(descriptor[k])","    }","  })","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"9":1,"10":0,"17":1,"18":0,"19":0,"21":0,"22":0,"23":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-recorder.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-recorder.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"SampleChooser","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":36}}},"2":{"name":"startRecording","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":31}}},"3":{"name":"(anonymous_3)","line":41,"loc":{"start":{"line":41,"column":48},"end":{"line":41,"column":71}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":24},"end":{"line":48,"column":36}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":43},"end":{"line":50,"column":66}}},"6":{"name":"(anonymous_6)","line":57,"loc":{"start":{"line":57,"column":5},"end":{"line":57,"column":20}}},"7":{"name":"stopRecording","line":62,"loc":{"start":{"line":62,"column":0},"end":{"line":62,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":29}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":30}},"8":{"start":{"line":11,"column":0},"end":{"line":24,"column":1}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":39}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":43}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":22}},"12":{"start":{"line":15,"column":2},"end":{"line":18,"column":3}},"13":{"start":{"line":16,"column":4},"end":{"line":16,"column":27}},"14":{"start":{"line":17,"column":4},"end":{"line":17,"column":28}},"15":{"start":{"line":19,"column":2},"end":{"line":23,"column":11}},"16":{"start":{"line":26,"column":0},"end":{"line":60,"column":1}},"17":{"start":{"line":27,"column":2},"end":{"line":27,"column":38}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":57}},"19":{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},"20":{"start":{"line":36,"column":2},"end":{"line":36,"column":34}},"21":{"start":{"line":39,"column":2},"end":{"line":39,"column":59}},"22":{"start":{"line":41,"column":2},"end":{"line":59,"column":4}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":71}},"24":{"start":{"line":43,"column":4},"end":{"line":43,"column":82}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":60}},"26":{"start":{"line":45,"column":4},"end":{"line":45,"column":25}},"27":{"start":{"line":46,"column":4},"end":{"line":46,"column":33}},"28":{"start":{"line":47,"column":4},"end":{"line":47,"column":29}},"29":{"start":{"line":48,"column":4},"end":{"line":56,"column":6}},"30":{"start":{"line":49,"column":6},"end":{"line":49,"column":44}},"31":{"start":{"line":50,"column":6},"end":{"line":55,"column":8}},"32":{"start":{"line":51,"column":8},"end":{"line":54,"column":9}},"33":{"start":{"line":52,"column":10},"end":{"line":52,"column":40}},"34":{"start":{"line":53,"column":10},"end":{"line":53,"column":40}},"35":{"start":{"line":58,"column":4},"end":{"line":58,"column":13}},"36":{"start":{"line":62,"column":0},"end":{"line":68,"column":1}},"37":{"start":{"line":63,"column":2},"end":{"line":63,"column":39}},"38":{"start":{"line":64,"column":2},"end":{"line":67,"column":3}},"39":{"start":{"line":65,"column":4},"end":{"line":65,"column":32}},"40":{"start":{"line":66,"column":4},"end":{"line":66,"column":24}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":24},"end":{"line":22,"column":49}},{"start":{"line":22,"column":52},"end":{"line":22,"column":78}}]},"3":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":8}},{"start":{"line":51,"column":8},"end":{"line":51,"column":8}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":2},"end":{"line":64,"column":2}},{"start":{"line":64,"column":2},"end":{"line":64,"column":2}}]},"5":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":6},"end":{"line":64,"column":11}},{"start":{"line":64,"column":15},"end":{"line":64,"column":29}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","var importSample = require('lib/import-sample')","var WaveRecorder = require('wave-recorder')","var extend = require('xtend')","var recordingLookup = new WeakMap()","","module.exports = SampleChooser","","function SampleChooser (node, opts) {","  var state = recordingLookup.get(node)","  var classes = ['ToggleButton', '-record']","  var title = 'Record'","  if (state) {","    classes.push('-active')","    title = 'Stop Recording'","  }","  return h('button', {","    className: classes.join(' '),","    title: title,","    'ev-click': state ? send(stopRecording, node) : send(startRecording, node)","  }, title)","}","","function startRecording (node) {","  var src = './' + Date.now() + '.wav'","  var filePath = node.context.fileObject.resolvePath(src)","  var state = {","    node: node,","    recorder: null,","    path: filePath,","    src: src","  }","","  recordingLookup.set(node, state)","","  // hack to update the state - should really be a widget, or be part of project","  node.buffer.set(extend(node.buffer(), {recording: true}))","","  navigator.webkitGetUserMedia({ audio: true }, function (mediaStream) {","    var input = node.context.audio.createMediaStreamSource(mediaStream)","    var recorder = WaveRecorder(node.context.audio, { channels: 2, bitDepth: 32 })","    var output = node.context.fs.createWriteStream(filePath)","    recorder.pipe(output)","    input.connect(recorder.input)","    state.recorder = recorder","    output.on('finish', function () {","      mediaStream.getAudioTracks()[0].stop()","      importSample(node.context, filePath, function (err, result) {","        if (!err) {","          node.buffer.set(result.buffer)","          node.offset.set(result.offset)","        }","      })","    })","  }, function (err) {","    throw err","  })","}","","function stopRecording (node) {","  var state = recordingLookup.get(node)","  if (state && state.recorder) {","    recordingLookup.delete(node)","    state.recorder.end()","  }","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"9":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"26":1,"27":0,"28":0,"29":0,"36":0,"39":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"58":0,"62":1,"63":0,"64":0,"65":0,"66":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-trimmer.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/sample-trimmer.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":2,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":1,"63":0,"64":1,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0],"14":[0,0],"15":[0,0,0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":17},"end":{"line":17,"column":31}}},"2":{"name":"slicesSvg","line":93,"loc":{"start":{"line":93,"column":0},"end":{"line":93,"column":43}}},"3":{"name":"(anonymous_3)","line":94,"loc":{"start":{"line":94,"column":20},"end":{"line":94,"column":37}}},"4":{"name":"parseNumber","line":104,"loc":{"start":{"line":104,"column":0},"end":{"line":104,"column":27}}},"5":{"name":"dragStart","line":108,"loc":{"start":{"line":108,"column":0},"end":{"line":108,"column":24}}},"6":{"name":"dragOver","line":118,"loc":{"start":{"line":118,"column":0},"end":{"line":118,"column":23}}},"7":{"name":"dragLeave","line":131,"loc":{"start":{"line":131,"column":0},"end":{"line":131,"column":24}}},"8":{"name":"drop","line":135,"loc":{"start":{"line":135,"column":0},"end":{"line":135,"column":17}}},"9":{"name":"(anonymous_9)","line":151,"loc":{"start":{"line":151,"column":32},"end":{"line":151,"column":59}}},"10":{"name":"getGainTransform","line":161,"loc":{"start":{"line":161,"column":0},"end":{"line":161,"column":32}}},"11":{"name":"handleChange","line":166,"loc":{"start":{"line":166,"column":0},"end":{"line":166,"column":28}}},"12":{"name":"noop","line":170,"loc":{"start":{"line":170,"column":0},"end":{"line":170,"column":15}}},"13":{"name":"ValueHook","line":172,"loc":{"start":{"line":172,"column":0},"end":{"line":172,"column":25}}},"14":{"name":"(anonymous_14)","line":176,"loc":{"start":{"line":176,"column":27},"end":{"line":176,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":80}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":43}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":43}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":41}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":43}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":30}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":39}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":47}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":45}},"11":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}},"12":{"start":{"line":17,"column":0},"end":{"line":91,"column":1}},"13":{"start":{"line":18,"column":2},"end":{"line":18,"column":29}},"14":{"start":{"line":19,"column":2},"end":{"line":19,"column":56}},"15":{"start":{"line":21,"column":2},"end":{"line":21,"column":54}},"16":{"start":{"line":22,"column":2},"end":{"line":22,"column":78}},"17":{"start":{"line":24,"column":2},"end":{"line":24,"column":40}},"18":{"start":{"line":26,"column":2},"end":{"line":26,"column":37}},"19":{"start":{"line":28,"column":2},"end":{"line":90,"column":4}},"20":{"start":{"line":93,"column":0},"end":{"line":102,"column":1}},"21":{"start":{"line":94,"column":2},"end":{"line":101,"column":4}},"22":{"start":{"line":95,"column":4},"end":{"line":95,"column":28}},"23":{"start":{"line":96,"column":4},"end":{"line":100,"column":6}},"24":{"start":{"line":104,"column":0},"end":{"line":106,"column":1}},"25":{"start":{"line":105,"column":2},"end":{"line":105,"column":29}},"26":{"start":{"line":108,"column":0},"end":{"line":116,"column":1}},"27":{"start":{"line":109,"column":2},"end":{"line":109,"column":32}},"28":{"start":{"line":110,"column":2},"end":{"line":115,"column":3}},"29":{"start":{"line":111,"column":4},"end":{"line":111,"column":109}},"30":{"start":{"line":112,"column":4},"end":{"line":112,"column":39}},"31":{"start":{"line":114,"column":4},"end":{"line":114,"column":23}},"32":{"start":{"line":118,"column":0},"end":{"line":129,"column":1}},"33":{"start":{"line":119,"column":2},"end":{"line":119,"column":37}},"34":{"start":{"line":120,"column":2},"end":{"line":128,"column":3}},"35":{"start":{"line":121,"column":4},"end":{"line":121,"column":47}},"36":{"start":{"line":122,"column":4},"end":{"line":122,"column":39}},"37":{"start":{"line":123,"column":4},"end":{"line":123,"column":23}},"38":{"start":{"line":124,"column":9},"end":{"line":128,"column":3}},"39":{"start":{"line":125,"column":4},"end":{"line":125,"column":47}},"40":{"start":{"line":126,"column":4},"end":{"line":126,"column":39}},"41":{"start":{"line":127,"column":4},"end":{"line":127,"column":23}},"42":{"start":{"line":131,"column":0},"end":{"line":133,"column":1}},"43":{"start":{"line":132,"column":2},"end":{"line":132,"column":48}},"44":{"start":{"line":135,"column":0},"end":{"line":159,"column":1}},"45":{"start":{"line":136,"column":2},"end":{"line":136,"column":20}},"46":{"start":{"line":137,"column":2},"end":{"line":137,"column":23}},"47":{"start":{"line":138,"column":2},"end":{"line":138,"column":31}},"48":{"start":{"line":139,"column":2},"end":{"line":139,"column":37}},"49":{"start":{"line":141,"column":2},"end":{"line":141,"column":21}},"50":{"start":{"line":142,"column":2},"end":{"line":142,"column":15}},"51":{"start":{"line":144,"column":2},"end":{"line":144,"column":114}},"52":{"start":{"line":146,"column":2},"end":{"line":148,"column":54}},"53":{"start":{"line":150,"column":2},"end":{"line":157,"column":3}},"54":{"start":{"line":151,"column":4},"end":{"line":156,"column":6}},"55":{"start":{"line":152,"column":6},"end":{"line":152,"column":24}},"56":{"start":{"line":152,"column":15},"end":{"line":152,"column":24}},"57":{"start":{"line":153,"column":6},"end":{"line":155,"column":7}},"58":{"start":{"line":154,"column":8},"end":{"line":154,"column":46}},"59":{"start":{"line":161,"column":0},"end":{"line":164,"column":1}},"60":{"start":{"line":162,"column":2},"end":{"line":162,"column":86}},"61":{"start":{"line":163,"column":2},"end":{"line":163,"column":105}},"62":{"start":{"line":166,"column":0},"end":{"line":168,"column":1}},"63":{"start":{"line":167,"column":2},"end":{"line":167,"column":22}},"64":{"start":{"line":170,"column":0},"end":{"line":170,"column":17}},"65":{"start":{"line":172,"column":0},"end":{"line":174,"column":1}},"66":{"start":{"line":173,"column":2},"end":{"line":173,"column":20}},"67":{"start":{"line":176,"column":0},"end":{"line":184,"column":1}},"68":{"start":{"line":177,"column":2},"end":{"line":183,"column":3}},"69":{"start":{"line":178,"column":4},"end":{"line":182,"column":5}},"70":{"start":{"line":179,"column":6},"end":{"line":179,"column":29}},"71":{"start":{"line":181,"column":6},"end":{"line":181,"column":41}}},"branchMap":{"1":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":13},"end":{"line":18,"column":23}},{"start":{"line":18,"column":27},"end":{"line":18,"column":29}}]},"2":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":15},"end":{"line":19,"column":26}},{"start":{"line":19,"column":30},"end":{"line":19,"column":56}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":20},"end":{"line":21,"column":31}},{"start":{"line":21,"column":35},"end":{"line":21,"column":49}},{"start":{"line":21,"column":53},"end":{"line":21,"column":54}}]},"4":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":60},"end":{"line":22,"column":74}},{"start":{"line":22,"column":77},"end":{"line":22,"column":78}}]},"5":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":19},"end":{"line":22,"column":30}},{"start":{"line":22,"column":34},"end":{"line":22,"column":56}}]},"6":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":20},"end":{"line":58,"column":60}},{"start":{"line":58,"column":63},"end":{"line":58,"column":67}}]},"7":{"line":58,"type":"binary-expr","locations":[{"start":{"line":58,"column":30},"end":{"line":58,"column":43}},{"start":{"line":58,"column":47},"end":{"line":58,"column":49}}]},"8":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":9},"end":{"line":105,"column":24}},{"start":{"line":105,"column":28},"end":{"line":105,"column":29}}]},"9":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":13},"end":{"line":109,"column":26}},{"start":{"line":109,"column":30},"end":{"line":109,"column":32}}]},"10":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":2},"end":{"line":110,"column":2}},{"start":{"line":110,"column":2},"end":{"line":110,"column":2}}]},"11":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":6},"end":{"line":110,"column":17}},{"start":{"line":110,"column":21},"end":{"line":110,"column":36}}]},"12":{"line":120,"type":"if","locations":[{"start":{"line":120,"column":2},"end":{"line":120,"column":2}},{"start":{"line":120,"column":2},"end":{"line":120,"column":2}}]},"13":{"line":120,"type":"binary-expr","locations":[{"start":{"line":120,"column":6},"end":{"line":120,"column":10}},{"start":{"line":120,"column":14},"end":{"line":120,"column":34}},{"start":{"line":120,"column":38},"end":{"line":120,"column":73}}]},"14":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":9},"end":{"line":124,"column":9}},{"start":{"line":124,"column":9},"end":{"line":124,"column":9}}]},"15":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":20},"end":{"line":144,"column":31}},{"start":{"line":144,"column":35},"end":{"line":144,"column":50}},{"start":{"line":144,"column":54},"end":{"line":144,"column":106}},{"start":{"line":144,"column":110},"end":{"line":144,"column":114}}]},"16":{"line":146,"type":"cond-expr","locations":[{"start":{"line":147,"column":6},"end":{"line":147,"column":47}},{"start":{"line":148,"column":6},"end":{"line":148,"column":54}}]},"17":{"line":150,"type":"if","locations":[{"start":{"line":150,"column":2},"end":{"line":150,"column":2}},{"start":{"line":150,"column":2},"end":{"line":150,"column":2}}]},"18":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":6},"end":{"line":150,"column":10}},{"start":{"line":150,"column":14},"end":{"line":150,"column":34}}]},"19":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":6},"end":{"line":152,"column":6}},{"start":{"line":152,"column":6},"end":{"line":152,"column":6}}]},"20":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":2},"end":{"line":177,"column":2}},{"start":{"line":177,"column":2},"end":{"line":177,"column":2}}]},"21":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":6},"end":{"line":177,"column":11}},{"start":{"line":177,"column":15},"end":{"line":177,"column":40}}]},"22":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":4},"end":{"line":178,"column":4}},{"start":{"line":178,"column":4},"end":{"line":178,"column":4}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var svg = require('micro-css/h')(require('virtual-dom/virtual-hyperscript/svg'))","","var QueryParam = require('lib/query-param')","","var IndexParam = require('lib/index-param')","var DragEvent = require('lib/drag-event')","var ValueEvent = require('lib/value-event')","","var read = require('lib/read')","var getValue = require('lib/get-value')","var importSample = require('lib/import-sample')","var cancelEvent = require('lib/cancel-event')","","var WaveHook = require('./wave-hook.js')","","module.exports = function(node){","  var data = read(node) || {}","  var offset = node.offset || QueryParam(node, 'offset')","","  var startOffset = data.offset && data.offset[0] || 0","  var endOffset = (data.offset && data.offset[1] != null) ? data.offset[1] : 1","","  var gainValue = getValue(data.gain, 1)","","  var range = endOffset - startOffset","","  return h('SampleTrimmer', {","    draggable: true,","    'ev-dragstart': DragEvent(dragStart, node),","    'ev-dragover': DragEvent(dragOver, node),","    'ev-dragleave': DragEvent(dragLeave, node),","    'ev-drop': DragEvent(drop, node)","  },[","","    svg('svg WaveView', {","      'viewBox': '0 0 500 400',","      'preserveAspectRatio': 'none'","    }, [","","      svg('path.wave', {","        style: {","          fill: '#AAA'","        },","        'ev-hook': WaveHook(node, 500, 400)","      }),","","","      svg('rect.section', {","        x: startOffset * 500, y: 0,","        width: range * 500,","        height: 400,","        style: {","          fill: 'rgba(142, 255, 126, 0.38)'","        }","      }),","","      node.slices ? slicesSvg(node.slices() || [], 500, 400) : null,","","      svg('path.baseline', {","        d: 'M0,200 L500,200',","        style: {","          strokeWidth:2,","          stroke: '#AAA'","        }","      })","","    ]),","","    h('input.start', {","      draggable: true,","      'ev-dragstart': cancelEvent(),","      type: 'range',","      value: new ValueHook(startOffset),","      min: 0, max: 1,","      step: 0.00125,","      'ev-input': ValueEvent(handleChange, 'value', IndexParam(offset, 0, parseNumber))","    }),","","    h('input.end', {","      draggable: true,","      'ev-dragstart': cancelEvent(),","      type: 'range',","      value: new ValueHook(endOffset),","      min: 0, max: 1,","      step: 0.00125,","      'ev-input': ValueEvent(handleChange, 'value', IndexParam(offset, 1, parseNumber))","    })","","  ])","}","","function slicesSvg (slices, width, height) {","  return slices.map(function (slice) {","    var x = slice[0] * width","    return svg('line', {","      stroke: 'rgba(0,0,0,0.4)',","      'stroke-width': '3px',","      x1: x, x2: x, y1: 0, y2: height","    })","  })","}","","function parseNumber (val) {","  return parseFloat(val) || 0","}","","function dragStart (ev) {","  var data = read(ev.data) || {}","  if (data.buffer && data.buffer.src) {","    ev.dataTransfer.setData('loop-drop/sample-path', ev.data.context.fileObject.resolvePath(data.buffer.src))","    ev.dataTransfer.dropEffect = 'link'","  } else {","    ev.preventDefault()","  }","}","","function dragOver (ev) {","  var item = ev.dataTransfer.items[0]","  if (item && item.kind === 'file' && item.type.match(/^(audio|video)\\//)) {","    ev.currentTarget.classList.add('-dragOver')","    ev.dataTransfer.dropEffect = 'copy'","    ev.preventDefault()","  } else if (ev.dataTransfer.types.includes('loop-drop/sample-path')) {","    ev.currentTarget.classList.add('-dragOver')","    ev.dataTransfer.dropEffect = 'link'","    ev.preventDefault()","  }","}","","function dragLeave (ev) {","  ev.currentTarget.classList.remove('-dragOver')","}","","function drop(ev){","  var node = ev.data","  var data = read(node)","  var context = ev.data.context","  var item = ev.dataTransfer.items[0]","","  ev.preventDefault()","  dragLeave(ev)","","  var currentPath = data.buffer && data.buffer.src && node.context.fileObject.resolvePath(data.buffer.src) || null","","  var path = item.kind === 'file'","    ? ev.dataTransfer.items[0].getAsFile().path","    : ev.dataTransfer.getData('loop-drop/sample-path')","","  if (path && path !== currentPath) {","    importSample(context, path, function (err, descriptor) {","      if (err) throw err","      for (var k in descriptor) {","        QueryParam(node, k).set(descriptor[k])","      }","    })","  }","","}","","function getGainTransform(value){","  var offsetHeight = (((currentHeightScale*height) - height) / 2) / currentHeightScale","  return 'scale(' + currentWidthScale + ' ' + currentHeightScale + ') translate(0 ' + -offsetHeight + ')'","}","","function handleChange(value){","  this.data.set(value)","}","","function noop(){}","","function ValueHook(value){","  this.value = value","}","","ValueHook.prototype.hook = function(node, prop, prev){","  if (!prev || prev.value !== this.value){","    if (prev){","      node[prop] = this.value","    } else {","      node.setAttribute(prop, this.value)","    }","  }","}",""],"l":{"1":2,"2":2,"4":2,"6":2,"7":2,"8":2,"10":2,"11":2,"12":2,"13":2,"15":2,"17":0,"18":0,"19":0,"21":0,"22":0,"24":0,"26":0,"28":0,"93":1,"94":0,"95":0,"96":0,"104":1,"105":0,"108":1,"109":0,"110":0,"111":0,"112":0,"114":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"131":1,"132":0,"135":1,"136":0,"137":0,"138":0,"139":0,"141":0,"142":0,"144":0,"146":0,"150":0,"151":0,"152":0,"153":0,"154":0,"161":1,"162":0,"163":0,"166":1,"167":0,"170":1,"172":1,"173":0,"176":0,"177":0,"178":0,"179":0,"181":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/index-param.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/index-param.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":1,"19":0,"20":0,"21":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"IndexParam","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}}},"2":{"name":"(anonymous_2)","line":13,"loc":{"start":{"line":13,"column":27},"end":{"line":13,"column":42}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":28},"end":{"line":24,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":27}},"3":{"start":{"line":5,"column":0},"end":{"line":11,"column":1}},"4":{"start":{"line":6,"column":2},"end":{"line":6,"column":84}},"5":{"start":{"line":6,"column":37},"end":{"line":6,"column":84}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":22}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"8":{"start":{"line":9,"column":2},"end":{"line":9,"column":28}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":31}},"10":{"start":{"line":13,"column":0},"end":{"line":22,"column":1}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":33}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":49}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":23}},"14":{"start":{"line":17,"column":2},"end":{"line":19,"column":3}},"15":{"start":{"line":18,"column":4},"end":{"line":18,"column":33}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":25}},"17":{"start":{"line":21,"column":2},"end":{"line":21,"column":22}},"18":{"start":{"line":24,"column":0},"end":{"line":28,"column":1}},"19":{"start":{"line":25,"column":2},"end":{"line":25,"column":33}},"20":{"start":{"line":26,"column":2},"end":{"line":26,"column":49}},"21":{"start":{"line":27,"column":2},"end":{"line":27,"column":24}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"2":{"line":15,"type":"cond-expr","locations":[{"start":{"line":15,"column":37},"end":{"line":15,"column":44}},{"start":{"line":15,"column":47},"end":{"line":15,"column":49}}]},"3":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"4":{"line":26,"type":"cond-expr","locations":[{"start":{"line":26,"column":37},"end":{"line":26,"column":44}},{"start":{"line":26,"column":47},"end":{"line":26,"column":49}}]}},"code":["var read = require('lib/read')","","module.exports = IndexParam","","function IndexParam(target, index, formatter){","  if (!(this instanceof IndexParam)) return new IndexParam(target, index, formatter)","  this.target = target","  this.index = index","  this.formatter = formatter","  this.context = target.context","}","","IndexParam.prototype.set = function(value){","  var current = read(this.target)","  var val = Array.isArray(current) ? current : []","  var res = val.slice()","  if (typeof this.formatter === 'function') {","    value = this.formatter(value)","  }","  res[this.index] = value","  this.target.set(res)","}","","IndexParam.prototype.read = function(){","  var current = read(this.target)","  var val = Array.isArray(current) ? current : []","  return val[this.index]","}"],"l":{"1":1,"3":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"21":0,"24":1,"25":0,"26":0,"27":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/wave-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/wave-hook.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":19},"end":{"line":10,"column":32}}},"2":{"name":"WaveHook","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":26},"end":{"line":28,"column":57}}},"4":{"name":"(anonymous_4)","line":37,"loc":{"start":{"line":37,"column":13},"end":{"line":37,"column":25}}},"5":{"name":"(anonymous_5)","line":43,"loc":{"start":{"line":43,"column":28},"end":{"line":43,"column":56}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":28},"end":{"line":55,"column":52}}},"7":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":52},"end":{"line":73,"column":68}}},"8":{"name":"getCache","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":34}}},"9":{"name":"getPathForData","line":93,"loc":{"start":{"line":93,"column":0},"end":{"line":93,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":74}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":18}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":14}},"8":{"start":{"line":10,"column":0},"end":{"line":15,"column":1}},"9":{"start":{"line":11,"column":2},"end":{"line":14,"column":3}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":39}},"11":{"start":{"line":13,"column":4},"end":{"line":13,"column":31}},"12":{"start":{"line":17,"column":0},"end":{"line":17,"column":15}},"13":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}},"14":{"start":{"line":21,"column":0},"end":{"line":26,"column":1}},"15":{"start":{"line":22,"column":2},"end":{"line":22,"column":75}},"16":{"start":{"line":22,"column":35},"end":{"line":22,"column":75}},"17":{"start":{"line":23,"column":2},"end":{"line":23,"column":18}},"18":{"start":{"line":24,"column":2},"end":{"line":24,"column":20}},"19":{"start":{"line":25,"column":2},"end":{"line":25,"column":22}},"20":{"start":{"line":28,"column":0},"end":{"line":41,"column":1}},"21":{"start":{"line":29,"column":2},"end":{"line":29,"column":17}},"22":{"start":{"line":31,"column":2},"end":{"line":34,"column":3}},"23":{"start":{"line":32,"column":4},"end":{"line":32,"column":27}},"24":{"start":{"line":33,"column":4},"end":{"line":33,"column":18}},"25":{"start":{"line":36,"column":2},"end":{"line":40,"column":3}},"26":{"start":{"line":37,"column":4},"end":{"line":39,"column":6}},"27":{"start":{"line":38,"column":6},"end":{"line":38,"column":89}},"28":{"start":{"line":43,"column":0},"end":{"line":53,"column":1}},"29":{"start":{"line":44,"column":2},"end":{"line":52,"column":3}},"30":{"start":{"line":45,"column":4},"end":{"line":45,"column":45}},"31":{"start":{"line":46,"column":4},"end":{"line":46,"column":39}},"32":{"start":{"line":47,"column":9},"end":{"line":52,"column":3}},"33":{"start":{"line":48,"column":4},"end":{"line":48,"column":25}},"34":{"start":{"line":49,"column":4},"end":{"line":49,"column":30}},"35":{"start":{"line":50,"column":4},"end":{"line":50,"column":45}},"36":{"start":{"line":51,"column":4},"end":{"line":51,"column":37}},"37":{"start":{"line":55,"column":0},"end":{"line":83,"column":1}},"38":{"start":{"line":56,"column":2},"end":{"line":56,"column":17}},"39":{"start":{"line":57,"column":2},"end":{"line":57,"column":40}},"40":{"start":{"line":58,"column":2},"end":{"line":58,"column":40}},"41":{"start":{"line":60,"column":2},"end":{"line":82,"column":3}},"42":{"start":{"line":61,"column":4},"end":{"line":61,"column":53}},"43":{"start":{"line":62,"column":4},"end":{"line":62,"column":39}},"44":{"start":{"line":63,"column":4},"end":{"line":63,"column":31}},"45":{"start":{"line":64,"column":4},"end":{"line":64,"column":40}},"46":{"start":{"line":66,"column":4},"end":{"line":66,"column":72}},"47":{"start":{"line":67,"column":4},"end":{"line":67,"column":118}},"48":{"start":{"line":69,"column":4},"end":{"line":69,"column":49}},"49":{"start":{"line":70,"column":4},"end":{"line":70,"column":32}},"50":{"start":{"line":72,"column":4},"end":{"line":81,"column":5}},"51":{"start":{"line":73,"column":6},"end":{"line":77,"column":8}},"52":{"start":{"line":74,"column":8},"end":{"line":74,"column":31}},"53":{"start":{"line":75,"column":8},"end":{"line":75,"column":31}},"54":{"start":{"line":76,"column":8},"end":{"line":76,"column":36}},"55":{"start":{"line":79,"column":6},"end":{"line":79,"column":34}},"56":{"start":{"line":80,"column":6},"end":{"line":80,"column":29}},"57":{"start":{"line":85,"column":0},"end":{"line":91,"column":1}},"58":{"start":{"line":86,"column":2},"end":{"line":86,"column":42}},"59":{"start":{"line":87,"column":2},"end":{"line":89,"column":3}},"60":{"start":{"line":88,"column":4},"end":{"line":88,"column":31}},"61":{"start":{"line":90,"column":2},"end":{"line":90,"column":20}},"62":{"start":{"line":93,"column":0},"end":{"line":102,"column":1}},"63":{"start":{"line":94,"column":2},"end":{"line":94,"column":19}},"64":{"start":{"line":95,"column":2},"end":{"line":95,"column":20}},"65":{"start":{"line":96,"column":2},"end":{"line":101,"column":4}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":11,"column":2}},{"start":{"line":11,"column":2},"end":{"line":11,"column":2}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":2},"end":{"line":31,"column":2}},{"start":{"line":31,"column":2},"end":{"line":31,"column":2}}]},"4":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":13}},{"start":{"line":31,"column":17},"end":{"line":31,"column":43}}]},"5":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"6":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":6},"end":{"line":36,"column":14}},{"start":{"line":36,"column":18},"end":{"line":36,"column":42}}]},"7":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"8":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":9},"end":{"line":47,"column":9}},{"start":{"line":47,"column":9},"end":{"line":47,"column":9}}]},"9":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":19},"end":{"line":57,"column":34}},{"start":{"line":57,"column":38},"end":{"line":57,"column":40}}]},"10":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":2},"end":{"line":60,"column":2}},{"start":{"line":60,"column":2},"end":{"line":60,"column":2}}]},"11":{"line":61,"type":"cond-expr","locations":[{"start":{"line":61,"column":24},"end":{"line":61,"column":48}},{"start":{"line":61,"column":51},"end":{"line":61,"column":53}}]},"12":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":4},"end":{"line":72,"column":4}},{"start":{"line":72,"column":4},"end":{"line":72,"column":4}}]},"13":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":2},"end":{"line":87,"column":2}},{"start":{"line":87,"column":2},"end":{"line":87,"column":2}}]}},"code":["var watch = require('observ/watch')","var nextTick = require('next-tick')","var getValue = require('lib/get-value')","var read = require('lib/read')","","var worker = new Worker('file://' + __dirname + '/../worker/wave-path.js')","var callbacks = {}","var nextId = 0","","worker.onmessage = function (e) {","  if (callbacks[e.data.id]) {","    callbacks[e.data.id](e.data.result)","    delete callbacks[e.data.id]","  }","}","","var caches = {}","","module.exports = WaveHook","","function WaveHook (node, width, height) {","  if (!(this instanceof WaveHook)) return new WaveHook(node, width, height)","  this.node = node","  this.width = width","  this.height = height","}","","WaveHook.prototype.hook = function (node, prop, current) {","  var self = this","","  if (current && self.node !== current.node) {","    self.unhook(node, prop)","    current = null","  }","","  if (!current && self.node.resolvedBuffer) {","    nextTick(function () {","      self.removeListener = watch(self.node.resolvedBuffer, self.update.bind(self, node))","    })","  }","}","","WaveHook.prototype.unhook = function (node, prop, next) {","  if (next) {","    next.removeListener = this.removeListener","    next.currentPath = this.currentPath","  } else if (this.removeListener) {","    this.removeListener()","    this.removeListener = null","    node.setAttribute('d', 'M0,250 L400,250')","    node.removeAttribute('transform')","  }","}","","WaveHook.prototype.update = function (node, buffer) {","  var self = this","  var descriptor = read(this.node) || {}","  var gain = getValue(descriptor.amp, 1)","","  if (buffer) {","    var data = buffer ? buffer.getChannelData(0) : []","    var step = data.length / this.width","    var quant = Math.ceil(step)","    var currentWidthScale = quant / step","","    var offsetHeight = (((gain * this.height) - this.height) / 2) / gain","    node.setAttribute('transform', 'scale(' + currentWidthScale + ' ' + gain + ') translate(0 ' + -offsetHeight + ')')","","    var cache = getCache(this.width, this.height)","    var path = cache.get(buffer)","","    if (!path) {","      getPathForData(data, this.width, this.height, function (path) {","        self.currentPath = path","        cache.set(buffer, path)","        node.setAttribute('d', path)","      })","    } else {","      node.setAttribute('d', path)","      this.currentPath = path","    }","  }","}","","function getCache (width, height) {","  var key = this.width + '/' + this.height","  if (!caches[key]) {","    caches[key] = new WeakMap()","  }","  return caches[key]","}","","function getPathForData (data, width, height, cb) {","  var id = nextId++","  callbacks[id] = cb","  worker.postMessage({","    data: data,","    id: id,","    width: width,","    height: height","  })","}",""],"l":{"1":2,"2":2,"3":2,"4":2,"6":2,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"17":0,"19":0,"21":1,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"31":0,"32":0,"33":0,"36":0,"37":0,"38":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0,"62":0,"63":0,"64":0,"66":0,"67":0,"69":0,"70":0,"72":0,"73":0,"74":0,"75":0,"76":0,"79":0,"80":0,"85":1,"86":0,"87":0,"88":0,"90":0,"93":1,"94":0,"95":0,"96":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/scale-chooser.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/scale-chooser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":1,"41":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"ScaleChooser","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}}},"2":{"name":"handleClick","line":22,"loc":{"start":{"line":22,"column":0},"end":{"line":22,"column":28}}},"3":{"name":"handleDrag","line":37,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":24}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":36},"end":{"line":45,"column":48}}},"5":{"name":"mod","line":57,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":19}}},"6":{"name":"compare","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":21}}},"7":{"name":"getValue","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"5":{"start":{"line":7,"column":0},"end":{"line":20,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":35}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":18}},"8":{"start":{"line":11,"column":2},"end":{"line":18,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":16,"column":6}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":24}},"11":{"start":{"line":19,"column":2},"end":{"line":19,"column":35}},"12":{"start":{"line":22,"column":0},"end":{"line":35,"column":1}},"13":{"start":{"line":23,"column":2},"end":{"line":23,"column":42}},"14":{"start":{"line":24,"column":2},"end":{"line":24,"column":38}},"15":{"start":{"line":25,"column":2},"end":{"line":25,"column":23}},"16":{"start":{"line":27,"column":2},"end":{"line":32,"column":3}},"17":{"start":{"line":28,"column":4},"end":{"line":28,"column":26}},"18":{"start":{"line":30,"column":4},"end":{"line":30,"column":25}},"19":{"start":{"line":31,"column":4},"end":{"line":31,"column":23}},"20":{"start":{"line":34,"column":2},"end":{"line":34,"column":25}},"21":{"start":{"line":37,"column":0},"end":{"line":55,"column":1}},"22":{"start":{"line":38,"column":2},"end":{"line":38,"column":29}},"23":{"start":{"line":39,"column":2},"end":{"line":54,"column":3}},"24":{"start":{"line":40,"column":4},"end":{"line":40,"column":31}},"25":{"start":{"line":41,"column":4},"end":{"line":41,"column":63}},"26":{"start":{"line":42,"column":4},"end":{"line":48,"column":5}},"27":{"start":{"line":43,"column":6},"end":{"line":43,"column":35}},"28":{"start":{"line":44,"column":6},"end":{"line":44,"column":30}},"29":{"start":{"line":45,"column":6},"end":{"line":47,"column":23}},"30":{"start":{"line":46,"column":8},"end":{"line":46,"column":34}},"31":{"start":{"line":49,"column":9},"end":{"line":54,"column":3}},"32":{"start":{"line":50,"column":4},"end":{"line":50,"column":33}},"33":{"start":{"line":51,"column":4},"end":{"line":51,"column":28}},"34":{"start":{"line":52,"column":9},"end":{"line":54,"column":3}},"35":{"start":{"line":53,"column":4},"end":{"line":53,"column":26}},"36":{"start":{"line":57,"column":0},"end":{"line":59,"column":1}},"37":{"start":{"line":58,"column":2},"end":{"line":58,"column":20}},"38":{"start":{"line":61,"column":0},"end":{"line":63,"column":1}},"39":{"start":{"line":62,"column":2},"end":{"line":62,"column":14}},"40":{"start":{"line":65,"column":0},"end":{"line":67,"column":1}},"41":{"start":{"line":66,"column":2},"end":{"line":66,"column":69}}},"branchMap":{"1":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":37},"end":{"line":14,"column":48}},{"start":{"line":14,"column":51},"end":{"line":14,"column":53}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"3":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"4":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":6},"end":{"line":39,"column":29}},{"start":{"line":39,"column":33},"end":{"line":39,"column":48}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"6":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":9},"end":{"line":49,"column":9}},{"start":{"line":49,"column":9},"end":{"line":49,"column":9}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":9},"end":{"line":52,"column":9}},{"start":{"line":52,"column":9},"end":{"line":52,"column":9}}]},"8":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":13},"end":{"line":52,"column":34}},{"start":{"line":52,"column":38},"end":{"line":52,"column":56}}]},"9":{"line":66,"type":"cond-expr","locations":[{"start":{"line":66,"column":33},"end":{"line":66,"column":39}},{"start":{"line":66,"column":42},"end":{"line":66,"column":69}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var read = require('lib/read')","var MouseDragEvent = require('lib/mouse-drag-event')","","module.exports = ScaleChooser","","function ScaleChooser(param){","  var value = getValue(read(param))","  ","  var buttons = []","  for (var i=0;i<12;i++){","    var button = h('div.button', {","      tabIndex: '0', ","      className: ~value.indexOf(i) ? '-selected' : '',","      'ev-mousedown': MouseDragEvent(handleDrag, { param: param, id: i })","    })","    buttons.push(button)","  }","  return h('ScaleChooser', buttons)","}","","function handleClick(target){","  var value = getValue(read(target.param))","  var index = value.indexOf(target.id)","  value = value.slice()","","  if (~index){","    value.splice(index, 1)","  } else {","    value.push(target.id)","    value.sort(compare)","  }","","  target.param.set(value)","}","","function handleDrag(ev) {","  var param = this.data.param","  if (ev.type === 'mousemove' && this.data.start) {","    var start = this.data.start","    var offset = Math.round(ev.offsetX / ev.target.clientWidth)","    if (offset !== this.data.lastOffset) {","      this.data.lastOffset = offset","      this.data.dragged = true","      param.set(this.data.start.map(function(x) {","        return mod(x + offset, 12)","      }).sort(compare))","    }","  } else if (ev.type === 'mousedown') {","    this.data.start = read(param)","    this.data.lastOffset = 0","  } else if (ev.type === 'mouseup' && !this.data.dragged) {","    handleClick(this.data)","  }","}","","function mod(n, m) {","  return ((n%m)+m)%m","}","","function compare(a,b){","  return a - b","}","","function getValue(source){","  return Array.isArray(source) ? source : [0,1,2,3,4,5,6,7,8,9,10,11]","}"],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"10":0,"11":0,"12":0,"17":0,"19":0,"22":1,"23":0,"24":0,"25":0,"27":0,"28":0,"30":0,"31":0,"34":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"49":0,"50":0,"51":0,"52":0,"53":0,"57":1,"58":0,"61":1,"62":0,"65":1,"66":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/select.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/select.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":1,"9":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"SelectParam","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"2":{"name":"set","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":29}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"6":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":5}},"8":{"start":{"line":14,"column":0},"end":{"line":16,"column":1}},"9":{"start":{"line":15,"column":2},"end":{"line":15,"column":22}}},"branchMap":{},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var read = require('lib/read')","var Select = require('lib/widgets/select')","var extend = require('xtend')","","module.exports = SelectParam","","function SelectParam (param, opts) {","  return Select(set, param, extend(opts, {","    selectedValue: read(param)","  }))","}","","function set (value) {","  this.data.set(value)","}"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"14":1,"15":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/select.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/select.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"select","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":31}}},"2":{"name":"optionElement","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":30}}},"3":{"name":"markSelectedOption","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":51}}},"4":{"name":"SelectedValueHandler","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":46}}},"5":{"name":"handleSelectEvent","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":23}},"5":{"start":{"line":7,"column":0},"end":{"line":33,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":32}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":81}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":49}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":49}},"10":{"start":{"line":14,"column":2},"end":{"line":22,"column":3}},"11":{"start":{"line":15,"column":4},"end":{"line":21,"column":5}},"12":{"start":{"line":16,"column":6},"end":{"line":16,"column":33}},"13":{"start":{"line":17,"column":6},"end":{"line":19,"column":7}},"14":{"start":{"line":18,"column":8},"end":{"line":18,"column":37}},"15":{"start":{"line":20,"column":6},"end":{"line":20,"column":85}},"16":{"start":{"line":24,"column":2},"end":{"line":27,"column":3}},"17":{"start":{"line":25,"column":4},"end":{"line":25,"column":73}},"18":{"start":{"line":26,"column":4},"end":{"line":26,"column":66}},"19":{"start":{"line":29,"column":2},"end":{"line":32,"column":20}},"20":{"start":{"line":35,"column":0},"end":{"line":46,"column":1}},"21":{"start":{"line":36,"column":2},"end":{"line":45,"column":3}},"22":{"start":{"line":37,"column":4},"end":{"line":41,"column":5}},"23":{"start":{"line":38,"column":6},"end":{"line":40,"column":38}},"24":{"start":{"line":42,"column":4},"end":{"line":42,"column":56}},"25":{"start":{"line":44,"column":4},"end":{"line":44,"column":50}},"26":{"start":{"line":48,"column":0},"end":{"line":62,"column":1}},"27":{"start":{"line":49,"column":2},"end":{"line":61,"column":3}},"28":{"start":{"line":50,"column":4},"end":{"line":50,"column":27}},"29":{"start":{"line":51,"column":4},"end":{"line":54,"column":5}},"30":{"start":{"line":52,"column":6},"end":{"line":52,"column":39}},"31":{"start":{"line":53,"column":6},"end":{"line":53,"column":17}},"32":{"start":{"line":55,"column":4},"end":{"line":60,"column":5}},"33":{"start":{"line":56,"column":6},"end":{"line":56,"column":66}},"34":{"start":{"line":57,"column":6},"end":{"line":59,"column":7}},"35":{"start":{"line":58,"column":8},"end":{"line":58,"column":19}},"36":{"start":{"line":64,"column":0},"end":{"line":71,"column":1}},"37":{"start":{"line":65,"column":2},"end":{"line":70,"column":3}},"38":{"start":{"line":73,"column":0},"end":{"line":80,"column":1}},"39":{"start":{"line":74,"column":2},"end":{"line":74,"column":55}},"40":{"start":{"line":75,"column":2},"end":{"line":79,"column":3}},"41":{"start":{"line":76,"column":4},"end":{"line":76,"column":28}},"42":{"start":{"line":78,"column":4},"end":{"line":78,"column":17}}},"branchMap":{"1":{"line":10,"type":"cond-expr","locations":[{"start":{"line":10,"column":52},"end":{"line":10,"column":66}},{"start":{"line":10,"column":69},"end":{"line":10,"column":81}}]},"2":{"line":11,"type":"cond-expr","locations":[{"start":{"line":11,"column":37},"end":{"line":11,"column":44}},{"start":{"line":11,"column":47},"end":{"line":11,"column":49}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"4":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"5":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"6":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":2},"end":{"line":24,"column":2}},{"start":{"line":24,"column":2},"end":{"line":24,"column":2}}]},"7":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":47},"end":{"line":25,"column":53}},{"start":{"line":25,"column":56},"end":{"line":25,"column":73}}]},"8":{"line":30,"type":"cond-expr","locations":[{"start":{"line":30,"column":29},"end":{"line":30,"column":36}},{"start":{"line":30,"column":39},"end":{"line":30,"column":41}}]},"9":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":2},"end":{"line":36,"column":2}},{"start":{"line":36,"column":2},"end":{"line":36,"column":2}}]},"10":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":4},"end":{"line":37,"column":4}},{"start":{"line":37,"column":4},"end":{"line":37,"column":4}}]},"11":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"12":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":25}},{"start":{"line":51,"column":29},"end":{"line":51,"column":72}}]},"13":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":4}},{"start":{"line":55,"column":4},"end":{"line":55,"column":4}}]},"14":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":8},"end":{"line":55,"column":23}},{"start":{"line":55,"column":27},"end":{"line":55,"column":49}}]},"15":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":6},"end":{"line":57,"column":6}},{"start":{"line":57,"column":6},"end":{"line":57,"column":6}}]},"16":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":2},"end":{"line":75,"column":2}},{"start":{"line":75,"column":2},"end":{"line":75,"column":2}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var ValueEvent = require('lib/value-event')","var read = require('lib/read')","","module.exports = select","","function select(fn, data, opts){","  var value = opts.selectedValue","","  var options = typeof opts.options == 'function' ? opts.options() : opts.options","  options = Array.isArray(options) ? options : []","  var optionElements = options.map(optionElement)","","  if (value){","    if (!markSelectedOption(optionElements, value)){","      var display = String(value)","      if (opts.missingPrefix){","        display += opts.missingPrefix","      }","      optionElements.unshift(h('option', {rawValue: value, selected: true}, display))","    }","  }","","  if (opts.includeBlank){","    var display = opts.includeBlank === true ? 'None' : opts.includeBlank","    optionElements.unshift(h('option', {rawValue: null}, display))","  }","","  return h('select', {","    'className': opts.flex ? '-flex' : '',","    'name': 'value', 'ev-change': SelectedValueHandler(fn, data, opts)","  }, optionElements)","}","","function optionElement(option){","  if (Array.isArray(option)){","    if (Array.isArray(option[1])){","      return h('optgroup', {","        label: option[0]","      }, option[1].map(optionElement))","    }","    return h('option', {rawValue: option[1]}, option[0])","  } else {","    return h('option', {rawValue: option}, option)","  }","}","","function markSelectedOption(options, selectedValue){","  for (var i=0;i<options.length;i++){","    var option = options[i]","    if (option.properties && option.properties.rawValue == selectedValue){","      option.properties.selected = true","      return true","    }","    if (option.children && option.children.length){","      var res = markSelectedOption(option.children, selectedValue)","      if (res){","        return true","      }","    }","  }","}","","function SelectedValueHandler(fn, data, opts) {","  return {","    fn: fn,","    data: data,","    opts: opts,","    handleEvent: handleSelectEvent","  }","}","","function handleSelectEvent(ev) {","  var option = ev.currentTarget.selectedOptions.item(0)","  if (option) {","    this.fn(option.rawValue)","  } else {","    this.fn(null)","  }","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"10":0,"11":0,"12":0,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"24":0,"25":0,"26":0,"29":0,"35":1,"36":0,"37":0,"38":0,"42":0,"44":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"64":1,"65":0,"73":1,"74":0,"75":0,"76":0,"78":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/text.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/text.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"TextParam","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}}},"2":{"name":"handleValue","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"5":{"start":{"line":7,"column":0},"end":{"line":17,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":25}},"7":{"start":{"line":10,"column":2},"end":{"line":16,"column":4}},"8":{"start":{"line":19,"column":0},"end":{"line":21,"column":1}},"9":{"start":{"line":20,"column":2},"end":{"line":20,"column":22}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":19}},{"start":{"line":8,"column":23},"end":{"line":8,"column":25}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var ValueEvent = require('lib/value-event')","var read = require('lib/read')","","module.exports = TextParam","","function TextParam(param, options) {","  options = options || {}","","  return h('input', {","    'type': 'text',","    'size': options.size,","    'placeholder': options.placeholder,","    'value': read(param), ","    'ev-change': ValueEvent(handleValue, 'value', param)","  })","}","","function handleValue(value) {","  this.data.set(value)","}"],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"10":0,"19":1,"20":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/toggle-button.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/params/toggle-button.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":6,"loc":{"start":{"line":6,"column":17},"end":{"line":6,"column":41}}},"2":{"name":"setValue","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":49}},"5":{"start":{"line":6,"column":0},"end":{"line":39,"column":1}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":25}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":41}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":61}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":65}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":29}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":18}},"13":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"14":{"start":{"line":20,"column":4},"end":{"line":20,"column":32}},"15":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"16":{"start":{"line":24,"column":4},"end":{"line":24,"column":27}},"17":{"start":{"line":27,"column":2},"end":{"line":29,"column":3}},"18":{"start":{"line":28,"column":4},"end":{"line":28,"column":47}},"19":{"start":{"line":31,"column":2},"end":{"line":38,"column":65}},"20":{"start":{"line":41,"column":0},"end":{"line":43,"column":1}},"21":{"start":{"line":42,"column":2},"end":{"line":42,"column":24}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":12},"end":{"line":10,"column":32}},{"start":{"line":10,"column":36},"end":{"line":10,"column":41}}]},"3":{"line":13,"type":"cond-expr","locations":[{"start":{"line":13,"column":39},"end":{"line":13,"column":54}},{"start":{"line":13,"column":57},"end":{"line":13,"column":61}}]},"4":{"line":14,"type":"cond-expr","locations":[{"start":{"line":14,"column":41},"end":{"line":14,"column":57}},{"start":{"line":14,"column":60},"end":{"line":14,"column":65}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":19,"column":2}},{"start":{"line":19,"column":2},"end":{"line":19,"column":2}}]},"6":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":23,"column":2}},{"start":{"line":23,"column":2},"end":{"line":23,"column":2}}]},"7":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":2},"end":{"line":27,"column":2}},{"start":{"line":27,"column":2},"end":{"line":27,"column":2}}]},"8":{"line":36,"type":"cond-expr","locations":[{"start":{"line":36,"column":20},"end":{"line":36,"column":28}},{"start":{"line":36,"column":31},"end":{"line":36,"column":38}}]},"9":{"line":38,"type":"cond-expr","locations":[{"start":{"line":38,"column":12},"end":{"line":38,"column":25}},{"start":{"line":38,"column":29},"end":{"line":38,"column":62}}]},"10":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":29},"end":{"line":38,"column":45}},{"start":{"line":38,"column":49},"end":{"line":38,"column":62}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","var read = require('lib/read')","var AttributeHook = require('lib/attribute-hook')","","module.exports = function(param, options){","  var value = read(param)","","  if (value == null){","    value = options.defaultValue || false","  }","","  var onValue = 'onValue' in options ? options.onValue : true","  var offValue = 'offValue' in options ? options.offValue : false","","  var isOn = value == onValue","  var classes = []","","  if (!options.custom) {","    classes.push('ToggleButton')","  }","","  if (isOn) {","    classes.push('-active')","  }","","  if (options.classList) {","    classes = classes.concat(options.classList)","  }","","  return h('button', {","    className: classes.join(' '),","    title: options.description,","    'ev-click': send(setValue, {","      param: param,","      value: isOn ? offValue : onValue","    })","  }, isOn ? options.title : (options.offTitle || options.title) )","}","","function setValue(ev){","  ev.param.set(ev.value)","}"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":0,"9":0,"10":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"23":0,"24":0,"27":0,"28":0,"31":0,"41":1,"42":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/periodic-waves/convert.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/periodic-waves/convert.js","s":{"1":2,"2":2,"3":0,"4":1,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"writeArray","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":6,"column":0},"end":{"line":10,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":9,"column":3}}},"branchMap":{},"code":["var fs = require('fs')","","writeArray('name.real', input.real)","writeArray('name.imag', input.imag)","","function writeArray (file, array) {","  fs.writeFileSync(","    file, new Buffer(new Uint8Array(new Float32Array(array).buffer))","  )","}"],"l":{"1":2,"3":2,"4":0,"6":1,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/periodic-waves/raw.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/periodic-waves/raw.js","s":{"1":1,"2":1,"3":1,"4":1,"5":39,"6":39,"7":36,"8":36,"9":36,"10":1},"b":{"1":[36,3],"2":[39,21],"3":[36,18]},"f":{"1":39},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":49}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":22}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":26}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":12}},"4":{"start":{"line":5,"column":0},"end":{"line":12,"column":2}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":30}},"6":{"start":{"line":7,"column":2},"end":{"line":11,"column":3}},"7":{"start":{"line":8,"column":4},"end":{"line":8,"column":39}},"8":{"start":{"line":9,"column":4},"end":{"line":9,"column":42}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":68}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":20}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":6},"end":{"line":7,"column":21}},{"start":{"line":7,"column":25},"end":{"line":7,"column":40}}]},"3":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":27},"end":{"line":9,"column":36}},{"start":{"line":9,"column":40},"end":{"line":9,"column":42}}]}},"code":["var fs = require('fs')","var path = require('path')","var raw = {}","","fs.readdirSync(__dirname).forEach(function(file) {","  var ext = path.extname(file)","  if (ext === '.imag' || ext === '.real') {","    var base = path.basename(file, ext)","    var item = raw[base] = raw[base] || {}","    item[ext.slice(1)] = fs.readFileSync(path.join(__dirname, file))","  }","})","","module.exports = raw",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":39,"7":39,"8":36,"9":36,"10":36,"14":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/audio-meter.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/audio-meter.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":1,"39":0,"40":0,"41":0,"42":1,"43":0,"44":0,"45":0,"46":1,"47":0,"48":1,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"AudioMeter","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":32}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":28},"end":{"line":16,"column":38}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":12},"end":{"line":24,"column":22}}},"4":{"name":"updateActive","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":43}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":30},"end":{"line":50,"column":50}}},"6":{"name":"(anonymous_6)","line":59,"loc":{"start":{"line":59,"column":31},"end":{"line":59,"column":41}}},"7":{"name":"bind","line":63,"loc":{"start":{"line":63,"column":0},"end":{"line":63,"column":20}}},"8":{"name":"unbind","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":22}}},"9":{"name":"render","line":77,"loc":{"start":{"line":77,"column":0},"end":{"line":77,"column":21}}},"10":{"name":"abs","line":84,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":28}}},"11":{"name":"getElements","line":88,"loc":{"start":{"line":88,"column":0},"end":{"line":88,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":62}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":27}},"6":{"start":{"line":8,"column":0},"end":{"line":12,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":71}},"8":{"start":{"line":9,"column":37},"end":{"line":9,"column":71}},"9":{"start":{"line":10,"column":2},"end":{"line":10,"column":20}},"10":{"start":{"line":11,"column":2},"end":{"line":11,"column":18}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":36}},"12":{"start":{"line":16,"column":0},"end":{"line":36,"column":1}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":48}},"14":{"start":{"line":19,"column":2},"end":{"line":33,"column":3}},"15":{"start":{"line":25,"column":6},"end":{"line":25,"column":69}},"16":{"start":{"line":26,"column":6},"end":{"line":26,"column":41}},"17":{"start":{"line":27,"column":6},"end":{"line":27,"column":41}},"18":{"start":{"line":28,"column":6},"end":{"line":28,"column":68}},"19":{"start":{"line":29,"column":6},"end":{"line":29,"column":68}},"20":{"start":{"line":30,"column":6},"end":{"line":30,"column":21}},"21":{"start":{"line":31,"column":6},"end":{"line":31,"column":22}},"22":{"start":{"line":34,"column":2},"end":{"line":34,"column":18}},"23":{"start":{"line":35,"column":2},"end":{"line":35,"column":16}},"24":{"start":{"line":38,"column":0},"end":{"line":48,"column":1}},"25":{"start":{"line":39,"column":2},"end":{"line":47,"column":3}},"26":{"start":{"line":40,"column":4},"end":{"line":42,"column":5}},"27":{"start":{"line":41,"column":6},"end":{"line":41,"column":39}},"28":{"start":{"line":44,"column":4},"end":{"line":46,"column":5}},"29":{"start":{"line":45,"column":6},"end":{"line":45,"column":42}},"30":{"start":{"line":50,"column":0},"end":{"line":57,"column":1}},"31":{"start":{"line":51,"column":2},"end":{"line":51,"column":25}},"32":{"start":{"line":52,"column":2},"end":{"line":52,"column":31}},"33":{"start":{"line":53,"column":2},"end":{"line":53,"column":29}},"34":{"start":{"line":54,"column":2},"end":{"line":56,"column":3}},"35":{"start":{"line":55,"column":4},"end":{"line":55,"column":20}},"36":{"start":{"line":59,"column":0},"end":{"line":61,"column":1}},"37":{"start":{"line":60,"column":2},"end":{"line":60,"column":20}},"38":{"start":{"line":63,"column":0},"end":{"line":68,"column":1}},"39":{"start":{"line":64,"column":2},"end":{"line":64,"column":15}},"40":{"start":{"line":65,"column":2},"end":{"line":67,"column":3}},"41":{"start":{"line":66,"column":4},"end":{"line":66,"column":59}},"42":{"start":{"line":70,"column":0},"end":{"line":75,"column":1}},"43":{"start":{"line":71,"column":2},"end":{"line":74,"column":3}},"44":{"start":{"line":72,"column":4},"end":{"line":72,"column":26}},"45":{"start":{"line":73,"column":4},"end":{"line":73,"column":31}},"46":{"start":{"line":77,"column":0},"end":{"line":82,"column":1}},"47":{"start":{"line":78,"column":2},"end":{"line":81,"column":4}},"48":{"start":{"line":84,"column":0},"end":{"line":86,"column":1}},"49":{"start":{"line":85,"column":2},"end":{"line":85,"column":128}},"50":{"start":{"line":88,"column":0},"end":{"line":102,"column":1}},"51":{"start":{"line":89,"column":2},"end":{"line":89,"column":17}},"52":{"start":{"line":90,"column":2},"end":{"line":90,"column":39}},"53":{"start":{"line":91,"column":2},"end":{"line":91,"column":34}},"54":{"start":{"line":92,"column":2},"end":{"line":100,"column":3}},"55":{"start":{"line":93,"column":4},"end":{"line":99,"column":5}},"56":{"start":{"line":94,"column":6},"end":{"line":94,"column":32}},"57":{"start":{"line":95,"column":11},"end":{"line":99,"column":5}},"58":{"start":{"line":96,"column":6},"end":{"line":96,"column":34}},"59":{"start":{"line":98,"column":6},"end":{"line":98,"column":27}},"60":{"start":{"line":101,"column":2},"end":{"line":101,"column":15}}},"branchMap":{"1":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"2":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":20},"end":{"line":25,"column":33}},{"start":{"line":25,"column":37},"end":{"line":25,"column":69}}]},"3":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"4":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"5":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":2},"end":{"line":65,"column":2}},{"start":{"line":65,"column":2},"end":{"line":65,"column":2}}]},"6":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]},"7":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":4},"end":{"line":93,"column":4}},{"start":{"line":93,"column":4},"end":{"line":93,"column":4}}]},"8":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":11},"end":{"line":95,"column":11}},{"start":{"line":95,"column":11},"end":{"line":95,"column":11}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","var createElement = require('virtual-dom/vdom/create-element')","var watch = require('observ/watch')","","module.exports = AudioMeter","","function AudioMeter(value, opts){","  if (!(this instanceof AudioMeter)) return new AudioMeter(value, opts)","  this.value = value","  this.opts = opts","}","","AudioMeter.prototype.type = 'Widget'","","AudioMeter.prototype.init = function(){","  var element = createElement(render(this.opts))","","  var state = this.state = {","    value: this.value,","    opts: this.opts,","    lastL: 0,","    lastR: 0,","    update: function(){","      var current = state.value() || [state.opts.min, state.opts.min]","      var l = abs(current[0], state.opts)","      var r = abs(current[1], state.opts)","      updateActive(element.childNodes[0].childNodes, l, state.lastL)","      updateActive(element.childNodes[1].childNodes, r, state.lastR)","      state.lastL = l","      state.lastR  = r","    }","  }","  bind(this.state)","  return element","}","","function updateActive(nodes, current, last){","  if (current > last){","    for (var i=last;i<=current;i++){","      nodes[i].classList.add('-active')","    }","  } else {","    for (var i=current;i<=last;i++){","      nodes[i].classList.remove('-active')","    }","  }","}","","AudioMeter.prototype.update = function(prev, elem){","  this.state = prev.state","  this.state.value = this.value","  this.state.opts = this.opts","  if (this.value !== prev.value){","    bind(this.state)","  }","}","","AudioMeter.prototype.destroy = function(){","  unbind(this.state)","}","","function bind(state){","  unbind(state)","  if (state.value){","    state.removeListener = watch(state.value, state.update)","  }","}","","function unbind(state){","  if (state.removeListener){","    state.removeListener()","    state.removeListener = null","  }","}","","function render(opts){","  return h('AudioMeter', [","    h('div.left', getElements(opts)),","    h('div.right', getElements(opts))","  ])","}","","function abs(value, options){","  return Math.min(Math.max(Math.floor((value - options.min) * options.steps / (options.max - options.min)), 0), options.steps-1)","}","","function getElements(options){","  var result = []","  var range = options.max - options.min","  var step = range / options.steps","  for (var i=options.min;i<options.max;i+=step){","    if (i>=options.red){","      result.push(h('div -red'))","    } else if (i>=options.amber){","      result.push(h('div -amber'))","    } else {","      result.push(h('div'))","    }","  }","  return result","}"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"10":0,"11":0,"14":1,"16":1,"17":0,"19":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"34":0,"35":0,"38":1,"39":0,"40":0,"41":0,"44":0,"45":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"59":1,"60":0,"63":1,"64":0,"65":0,"66":0,"70":1,"71":0,"72":0,"73":0,"77":1,"78":0,"84":1,"85":0,"88":1,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"98":0,"101":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/chunk.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/chunk.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":1,"50":0,"51":0,"52":0},"b":{"1":[0,0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":37}}},"2":{"name":"(anonymous_2)","line":34,"loc":{"start":{"line":34,"column":54},"end":{"line":34,"column":71}}},"3":{"name":"(anonymous_3)","line":39,"loc":{"start":{"line":39,"column":63},"end":{"line":39,"column":80}}},"4":{"name":"remove","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":24}}},"5":{"name":"editChunk","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":25}}},"6":{"name":"toggleParam","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":27}}},"7":{"name":"color","line":100,"loc":{"start":{"line":100,"column":0},"end":{"line":100,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":39}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":54}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":54}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":43}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":41}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":43}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}},"14":{"start":{"line":18,"column":0},"end":{"line":63,"column":1}},"15":{"start":{"line":19,"column":2},"end":{"line":19,"column":19}},"16":{"start":{"line":20,"column":2},"end":{"line":20,"column":58}},"17":{"start":{"line":22,"column":2},"end":{"line":22,"column":68}},"18":{"start":{"line":23,"column":2},"end":{"line":23,"column":32}},"19":{"start":{"line":24,"column":2},"end":{"line":24,"column":36}},"20":{"start":{"line":26,"column":2},"end":{"line":61,"column":3}},"21":{"start":{"line":27,"column":4},"end":{"line":27,"column":67}},"22":{"start":{"line":28,"column":4},"end":{"line":28,"column":58}},"23":{"start":{"line":30,"column":4},"end":{"line":60,"column":6}},"24":{"start":{"line":35,"column":8},"end":{"line":35,"column":67}},"25":{"start":{"line":40,"column":10},"end":{"line":40,"column":58}},"26":{"start":{"line":62,"column":2},"end":{"line":62,"column":25}},"27":{"start":{"line":65,"column":0},"end":{"line":83,"column":1}},"28":{"start":{"line":66,"column":2},"end":{"line":66,"column":37}},"29":{"start":{"line":67,"column":2},"end":{"line":67,"column":43}},"30":{"start":{"line":68,"column":2},"end":{"line":68,"column":43}},"31":{"start":{"line":69,"column":2},"end":{"line":69,"column":33}},"32":{"start":{"line":70,"column":2},"end":{"line":70,"column":26}},"33":{"start":{"line":72,"column":2},"end":{"line":72,"column":26}},"34":{"start":{"line":73,"column":2},"end":{"line":73,"column":50}},"35":{"start":{"line":76,"column":2},"end":{"line":82,"column":3}},"36":{"start":{"line":77,"column":4},"end":{"line":77,"column":30}},"37":{"start":{"line":78,"column":4},"end":{"line":78,"column":66}},"38":{"start":{"line":79,"column":4},"end":{"line":81,"column":5}},"39":{"start":{"line":80,"column":6},"end":{"line":80,"column":39}},"40":{"start":{"line":85,"column":0},"end":{"line":94,"column":1}},"41":{"start":{"line":86,"column":2},"end":{"line":86,"column":29}},"42":{"start":{"line":87,"column":2},"end":{"line":87,"column":43}},"43":{"start":{"line":89,"column":2},"end":{"line":89,"column":26}},"44":{"start":{"line":90,"column":2},"end":{"line":93,"column":3}},"45":{"start":{"line":91,"column":4},"end":{"line":91,"column":53}},"46":{"start":{"line":92,"column":4},"end":{"line":92,"column":30}},"47":{"start":{"line":96,"column":0},"end":{"line":98,"column":1}},"48":{"start":{"line":97,"column":2},"end":{"line":97,"column":25}},"49":{"start":{"line":100,"column":0},"end":{"line":105,"column":1}},"50":{"start":{"line":101,"column":2},"end":{"line":103,"column":3}},"51":{"start":{"line":102,"column":4},"end":{"line":102,"column":23}},"52":{"start":{"line":104,"column":2},"end":{"line":104,"column":58}}},"branchMap":{"1":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":18},"end":{"line":20,"column":31}},{"start":{"line":20,"column":35},"end":{"line":20,"column":50}},{"start":{"line":20,"column":54},"end":{"line":20,"column":58}}]},"2":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":20},"end":{"line":22,"column":33}},{"start":{"line":22,"column":37},"end":{"line":22,"column":46}},{"start":{"line":22,"column":50},"end":{"line":22,"column":68}}]},"3":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":2},"end":{"line":26,"column":2}},{"start":{"line":26,"column":2},"end":{"line":26,"column":2}}]},"4":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":20},"end":{"line":27,"column":34}},{"start":{"line":27,"column":38},"end":{"line":27,"column":67}}]},"5":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":17},"end":{"line":28,"column":28}},{"start":{"line":28,"column":32},"end":{"line":28,"column":58}}]},"6":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":34},"end":{"line":31,"column":46}},{"start":{"line":31,"column":49},"end":{"line":31,"column":51}}]},"7":{"line":35,"type":"cond-expr","locations":[{"start":{"line":35,"column":61},"end":{"line":35,"column":62}},{"start":{"line":35,"column":65},"end":{"line":35,"column":66}}]},"8":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":48},"end":{"line":40,"column":51}},{"start":{"line":40,"column":54},"end":{"line":40,"column":57}}]},"9":{"line":51,"type":"cond-expr","locations":[{"start":{"line":51,"column":22},"end":{"line":51,"column":106}},{"start":{"line":51,"column":109},"end":{"line":51,"column":113}}]},"10":{"line":52,"type":"cond-expr","locations":[{"start":{"line":52,"column":24},"end":{"line":54,"column":18}},{"start":{"line":54,"column":21},"end":{"line":54,"column":25}}]},"11":{"line":59,"type":"cond-expr","locations":[{"start":{"line":59,"column":23},"end":{"line":59,"column":25}},{"start":{"line":59,"column":28},"end":{"line":59,"column":37}}]},"12":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"13":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":19}},{"start":{"line":76,"column":23},"end":{"line":76,"column":36}}]},"14":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]},"15":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"16":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":6},"end":{"line":90,"column":16}},{"start":{"line":90,"column":20},"end":{"line":90,"column":34}}]},"17":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","var renderRouting = require('./routing.js')","","var Range = require('lib/params/range')","var ModRange = require('lib/params/mod-range')","","var ToggleButton = require('lib/params/toggle-button')","var RenameHook = require('lib/rename-hook')","var ObservStyleHook = require('lib/observ-style-hook')","var ObservClassHook = require('lib/observ-class-hook')","","var QueryParam = require('lib/query-param')","var FlagParam = require('lib/flag-param')","var IndexParam = require('lib/index-param')","var read = require('lib/read')","","module.exports = function(node, opts){","  var data = node()","  var innerData = node.resolved && node.resolved() || data","","  var selectedObs = node.selected || node.node && node.node.selected","  var setup = node.context.setup","  var actions = node.context.actions","","  if (data) {","    var minimised = node.minimised || QueryParam(node, 'minimised')","    var volume = node.volume || QueryParam(node, 'volume')","","    return h('div ExternalNode', {","      className: data.minimised ? '-minimised' : '',","      'ev-class': ObservClassHook(selectedObs, '-selected'),","      'ev-click': send(setup.selectedChunkId.set, data.id),","      'style': ObservStyleHook(selectedObs, 'border', function (value) {","        return '2px solid ' + color(innerData.color, value ? 1 : 0)","      })","    }, [","      h('header', {","        style: ObservStyleHook(selectedObs, 'backgroundColor', function (value) {","          return color(innerData.color, value ? 0.5 : 0.1)","        })","      }, [","        h('button.twirl', {","          'ev-click': send(toggleParam, minimised)","        }),","        h('span', {'ev-rename': RenameHook(node, {","          enabled: selectedObs,","          onChange: actions.updateChunkReferences","        })}),","        opts.extraHeader,","        opts.volume ? Range(volume, {format: 'dB', title: 'vol', defaultValue: 1, width: 150, pull: true}) : null,","        opts.external ? h('button.edit Button -edit', {","          'ev-click': send(editChunk, node)","        }, 'edit') : null,","        h('button.remove Button -warn', {","          'ev-click': send(remove, node),","        }, 'X')","      ]),","      data.minimised ? '' : opts.main","    ])","  }","  return h('UnknownNode')","}","","function remove (chunk) {","  var project = chunk.context.project","  var collection = chunk.context.collection","  var fileObject = chunk.context.fileObject","  var setup = chunk.context.setup","  var descriptor = chunk()","","  collection.remove(chunk)","  setup.updateChunkReferences(descriptor.id, null)","","  // delete file if id matches file name and file is in cwd","  if (descriptor.id && chunk.getPath) {","    var path = chunk.getPath()","    var truePath = fileObject.resolvePath(descriptor.id + '.json')","    if (path === truePath) {","      project.actions.deleteEntry(path)","    }","  }","}","","function editChunk(chunk){","  var context = chunk.context","  var fileObject = chunk.context.fileObject","","  var descriptor = chunk()","  if (descriptor && descriptor.src){","    var path = fileObject.resolvePath(descriptor.src)","    context.actions.open(path)","  }","}","","function toggleParam(param){","  param.set(!read(param))","}","","function color(rgb, a){","  if (!Array.isArray(rgb)){","    rgb = [100,100,100]","  }","  return 'rgba(' + rgb[0] +','+rgb[1]+','+rgb[2]+','+a+')'","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":1,"15":1,"16":1,"18":1,"19":0,"20":0,"22":0,"23":0,"24":0,"26":0,"27":0,"28":0,"30":0,"35":0,"40":0,"62":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"72":0,"73":0,"76":0,"77":0,"78":0,"79":0,"80":0,"85":1,"86":0,"87":0,"89":0,"90":0,"91":0,"92":0,"96":1,"97":0,"100":1,"101":0,"102":0,"104":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/routing.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/routing.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":1,"46":0,"47":0,"48":0,"49":1,"50":0},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":33}}},"2":{"name":"renderRouting","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":46}}},"3":{"name":"handleSelect","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":30}}},"4":{"name":"spawnMeddler","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":29}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":50},"end":{"line":45,"column":72}}},"6":{"name":"spawnMeddler","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":54,"column":29}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":50},"end":{"line":58,"column":72}}},"8":{"name":"rejectMatchingId","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":31}}},"9":{"name":"placeChunkInputs","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":40}}},"10":{"name":"titleWithResolvedId","line":80,"loc":{"start":{"line":80,"column":0},"end":{"line":80,"column":32}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":48}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":43}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":30}},"8":{"start":{"line":9,"column":0},"end":{"line":12,"column":1}},"9":{"start":{"line":14,"column":0},"end":{"line":17,"column":1}},"10":{"start":{"line":15,"column":2},"end":{"line":15,"column":32}},"11":{"start":{"line":16,"column":2},"end":{"line":16,"column":77}},"12":{"start":{"line":19,"column":0},"end":{"line":31,"column":1}},"13":{"start":{"line":20,"column":2},"end":{"line":20,"column":55}},"14":{"start":{"line":21,"column":2},"end":{"line":30,"column":3}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":123}},"16":{"start":{"line":23,"column":4},"end":{"line":29,"column":6}},"17":{"start":{"line":33,"column":0},"end":{"line":40,"column":1}},"18":{"start":{"line":34,"column":2},"end":{"line":39,"column":3}},"19":{"start":{"line":35,"column":4},"end":{"line":35,"column":20}},"20":{"start":{"line":37,"column":4},"end":{"line":37,"column":29}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":39}},"22":{"start":{"line":42,"column":0},"end":{"line":52,"column":1}},"23":{"start":{"line":43,"column":2},"end":{"line":43,"column":37}},"24":{"start":{"line":44,"column":2},"end":{"line":44,"column":62}},"25":{"start":{"line":45,"column":2},"end":{"line":51,"column":4}},"26":{"start":{"line":46,"column":4},"end":{"line":46,"column":92}},"27":{"start":{"line":47,"column":4},"end":{"line":47,"column":53}},"28":{"start":{"line":48,"column":4},"end":{"line":48,"column":22}},"29":{"start":{"line":49,"column":4},"end":{"line":49,"column":36}},"30":{"start":{"line":50,"column":4},"end":{"line":50,"column":50}},"31":{"start":{"line":54,"column":0},"end":{"line":67,"column":1}},"32":{"start":{"line":55,"column":2},"end":{"line":55,"column":37}},"33":{"start":{"line":56,"column":2},"end":{"line":56,"column":41}},"34":{"start":{"line":57,"column":2},"end":{"line":57,"column":62}},"35":{"start":{"line":58,"column":2},"end":{"line":66,"column":4}},"36":{"start":{"line":59,"column":4},"end":{"line":59,"column":92}},"37":{"start":{"line":60,"column":4},"end":{"line":60,"column":53}},"38":{"start":{"line":61,"column":4},"end":{"line":61,"column":34}},"39":{"start":{"line":62,"column":4},"end":{"line":62,"column":22}},"40":{"start":{"line":63,"column":4},"end":{"line":63,"column":59}},"41":{"start":{"line":64,"column":4},"end":{"line":64,"column":36}},"42":{"start":{"line":65,"column":4},"end":{"line":65,"column":50}},"43":{"start":{"line":69,"column":0},"end":{"line":71,"column":1}},"44":{"start":{"line":70,"column":2},"end":{"line":70,"column":36}},"45":{"start":{"line":73,"column":0},"end":{"line":78,"column":1}},"46":{"start":{"line":74,"column":2},"end":{"line":76,"column":3}},"47":{"start":{"line":75,"column":4},"end":{"line":75,"column":73}},"48":{"start":{"line":77,"column":2},"end":{"line":77,"column":15}},"49":{"start":{"line":80,"column":0},"end":{"line":82,"column":1}},"50":{"start":{"line":81,"column":2},"end":{"line":81,"column":51}}},"branchMap":{"1":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":13},"end":{"line":20,"column":26}},{"start":{"line":20,"column":30},"end":{"line":20,"column":45}},{"start":{"line":20,"column":49},"end":{"line":20,"column":55}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":2},"end":{"line":21,"column":2}},{"start":{"line":21,"column":2},"end":{"line":21,"column":2}}]},"3":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":23},"end":{"line":27,"column":34}},{"start":{"line":27,"column":38},"end":{"line":27,"column":59}},{"start":{"line":27,"column":63},"end":{"line":27,"column":73}}]},"4":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":2},"end":{"line":34,"column":2}},{"start":{"line":34,"column":2},"end":{"line":34,"column":2}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":14},"end":{"line":44,"column":49}},{"start":{"line":44,"column":53},"end":{"line":44,"column":62}}]},"6":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":70},"end":{"line":46,"column":77}},{"start":{"line":46,"column":81},"end":{"line":46,"column":90}}]},"7":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":18},"end":{"line":47,"column":26}},{"start":{"line":47,"column":30},"end":{"line":47,"column":53}}]},"8":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":14},"end":{"line":57,"column":49}},{"start":{"line":57,"column":53},"end":{"line":57,"column":62}}]},"9":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":70},"end":{"line":59,"column":77}},{"start":{"line":59,"column":81},"end":{"line":59,"column":90}}]},"10":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":18},"end":{"line":60,"column":26}},{"start":{"line":60,"column":30},"end":{"line":60,"column":53}}]},"11":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":9},"end":{"line":70,"column":13}},{"start":{"line":70,"column":17},"end":{"line":70,"column":36}}]},"12":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"13":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":6},"end":{"line":74,"column":11}},{"start":{"line":74,"column":15},"end":{"line":74,"column":27}},{"start":{"line":74,"column":31},"end":{"line":74,"column":50}}]}},"code":["var h = require('lib/h')","var SelectWidget = require('lib/widgets/select')","var QueryParam = require('lib/query-param')","var spawnNode = require('lib/spawn-node')","var SubLoop = require('lib/sub-loop')","var setRoute = require('lib/set-route')","var read = require('lib/read')","","var defaultOutputs = [","  ['Default', '$default'],","  ['+ Create New Meddler', spawnMeddler]","]","","module.exports = function (node) {","  var setup = node.context.setup","  return SubLoop([node, setup.resolved.chunks, node.resolved], renderRouting)","}","","function renderRouting (node, resolvedChunks) {","  var data = node.resolved && node.resolved() || node()","  if (data) {","    var outputOptions = defaultOutputs.concat(resolvedChunks().filter(rejectMatchingId, data).reduce(placeChunkInputs, []))","    return h('div -block', [","      h('div.extTitle', 'output'),","      h('div', SelectWidget(handleSelect, { node: node, id: 'output' }, {","        options: outputOptions,","        selectedValue: data.routes && data.routes['output'] || '$default'","      }))","    ])","  }","}","","function handleSelect (value) {","  if (typeof value === 'function') {","    value(this.data)","  } else {","    var node = this.data.node","    setRoute(node, this.data.id, value)","  }","}","","function spawnMeddler (data) {","  var setup = data.node.context.setup","  var index = setup.chunks.indexOf(data.node) + 1 || undefined","  spawnNode(setup.chunks, 'chunk/meddler', index, function (err, chunk) {","    var newId = setup.chunks.resolveAvailable(data.node().id + '-' + (data.id || 'meddler'))","    var idParam = chunk.id || QueryParam(chunk, 'id')","    idParam.set(newId)","    setup.selectedChunkId.set(newId)","    setRoute(data.node, data.id, newId + '#input')","  })","}","","function spawnMeddler (data) {","  var setup = data.node.context.setup","  var actions = data.node.context.actions","  var index = setup.chunks.indexOf(data.node) + 1 || undefined","  spawnNode(setup.chunks, 'chunk/meddler', index, function (err, chunk) {","    var newId = setup.chunks.resolveAvailable(data.node().id + '-' + (data.id || 'meddler'))","    var idParam = chunk.id || QueryParam(chunk, 'id')","    var originalId = read(idParam)","    idParam.set(newId)","    actions.updateChunkReferences(originalId, newId, chunk)","    setup.selectedChunkId.set(newId)","    setRoute(data.node, data.id, newId + '#input')","  })","}","","function rejectMatchingId(item){","  return item && this.id !== item.id","}","","function placeChunkInputs(result, chunk){","  if (chunk && chunk.inputs && chunk.inputs.length){","    result.push([chunk.id, chunk.inputs.map(titleWithResolvedId, chunk)])","  }","  return result","}","","function titleWithResolvedId(id){","  return [this.id + ' > ' + id, this.id + '#' + id]","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"9":1,"14":1,"15":0,"16":0,"19":1,"20":0,"21":0,"22":0,"23":0,"33":1,"34":0,"35":0,"37":0,"38":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"69":1,"70":0,"73":1,"74":0,"75":0,"77":0,"80":1,"81":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/collection.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/collection.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"renderCollection","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}}},"2":{"name":"(anonymous_2)","line":8,"loc":{"start":{"line":8,"column":26},"end":{"line":8,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":33}},"4":{"start":{"line":6,"column":0},"end":{"line":12,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":11,"column":3}},"6":{"start":{"line":8,"column":4},"end":{"line":10,"column":6}},"7":{"start":{"line":9,"column":6},"end":{"line":9,"column":46}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]}},"code":["var Orderable = require('./orderable.js')","var renderNode = require('lib/render-node')","","module.exports = renderCollection","","function renderCollection(collection){","  if (collection){","    return collection.map(function(node, i){","      return Orderable(node, renderNode(node))","    })","  }","}"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"9":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/orderable.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/orderable.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"Orderable","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":34}}},"2":{"name":"dragOver","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":23}}},"3":{"name":"dragStart","line":30,"loc":{"start":{"line":30,"column":0},"end":{"line":30,"column":24}}},"4":{"name":"dragEnd","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":26}},"4":{"start":{"line":6,"column":0},"end":{"line":13,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":12,"column":14}},"6":{"start":{"line":15,"column":0},"end":{"line":28,"column":1}},"7":{"start":{"line":16,"column":2},"end":{"line":16,"column":40}},"8":{"start":{"line":17,"column":2},"end":{"line":27,"column":3}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":62}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":49}},"11":{"start":{"line":21,"column":4},"end":{"line":26,"column":5}},"12":{"start":{"line":22,"column":6},"end":{"line":22,"column":47}},"13":{"start":{"line":23,"column":6},"end":{"line":25,"column":7}},"14":{"start":{"line":24,"column":8},"end":{"line":24,"column":52}},"15":{"start":{"line":30,"column":0},"end":{"line":34,"column":1}},"16":{"start":{"line":31,"column":2},"end":{"line":31,"column":44}},"17":{"start":{"line":32,"column":2},"end":{"line":32,"column":87}},"18":{"start":{"line":33,"column":2},"end":{"line":33,"column":25}},"19":{"start":{"line":36,"column":0},"end":{"line":41,"column":1}},"20":{"start":{"line":37,"column":2},"end":{"line":39,"column":3}},"21":{"start":{"line":38,"column":4},"end":{"line":38,"column":46}},"22":{"start":{"line":40,"column":2},"end":{"line":40,"column":27}}},"branchMap":{"1":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":2},"end":{"line":17,"column":2}},{"start":{"line":17,"column":2},"end":{"line":17,"column":2}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":19}},{"start":{"line":17,"column":23},"end":{"line":17,"column":41}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":39}},{"start":{"line":21,"column":43},"end":{"line":21,"column":73}}]},"5":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"6":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":14},"end":{"line":31,"column":30}},{"start":{"line":31,"column":34},"end":{"line":31,"column":41}}]},"7":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":2},"end":{"line":37,"column":2}},{"start":{"line":37,"column":2},"end":{"line":37,"column":2}}]}},"code":["var h = require('lib/h')","var MPE = require('lib/mouse-position-event')","","module.exports = Orderable","","function Orderable(node, children){","  return h('Orderable', {","    draggable: true,","    'ev-dragstart': MPE(dragStart, node),","    'ev-dragend': MPE(dragEnd, node),","    'ev-dragover': MPE(dragOver, node)","  }, children)","}","","function dragOver (ev) {","  var currentTarget = window.currentDrag","  if (currentTarget && currentTarget.data){","    var fromCollection = currentTarget.data.context.collection","    var toCollection = ev.data.context.collection","","    if (fromCollection === toCollection && ev.data !== currentTarget.data){","      var index = toCollection.indexOf(ev.data)","      if (~index){","        toCollection.move(currentTarget.data, index)","      }","    }","  }","}","","function dragStart (ev) {","  var node = (ev.data.resolved || ev.data)()","  ev.dataTransfer.setData('loop-drop/' + node.node.split('/')[0], JSON.stringify(node))","  window.currentDrag = ev","}","","function dragEnd (ev) {","  if (ev.dataTransfer.dropEffect === 'move') {","    ev.data.context.collection.remove(ev.data)","  }","  window.currentDrag = null","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"15":1,"16":0,"17":0,"18":0,"19":0,"21":0,"22":0,"23":0,"24":0,"30":1,"31":0,"32":0,"33":0,"36":1,"37":0,"38":0,"40":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/header.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/header.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":49}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":13,"column":1}},"4":{"start":{"line":5,"column":2},"end":{"line":5,"column":42}},"5":{"start":{"line":7,"column":2},"end":{"line":12,"column":4}}},"branchMap":{},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","module.exports = function(node, display, options){","  var collection = node.context.collection","","  return h('header', options, [","    display,","    h('button.remove Button -warn', {","      'ev-click': send(collection.remove, node),","    }, 'X')","  ])","}"],"l":{"1":1,"2":1,"4":1,"5":0,"7":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/param-editor.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/param-editor.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"ParamEditor","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":27}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":24},"end":{"line":14,"column":40}}},"3":{"name":"onRename","line":37,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":44}}},"4":{"name":"spawnParam","line":41,"loc":{"start":{"line":41,"column":0},"end":{"line":41,"column":27}}},"5":{"name":"(anonymous_5)","line":49,"loc":{"start":{"line":49,"column":13},"end":{"line":49,"column":24}}},"6":{"name":"removeParam","line":54,"loc":{"start":{"line":54,"column":0},"end":{"line":54,"column":29}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":47}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":43}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":66}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":28}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":27}},"8":{"start":{"line":12,"column":0},"end":{"line":35,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":27}},"10":{"start":{"line":14,"column":2},"end":{"line":26,"column":4}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":57}},"12":{"start":{"line":16,"column":4},"end":{"line":25,"column":6}},"13":{"start":{"line":28,"column":2},"end":{"line":34,"column":3}},"14":{"start":{"line":37,"column":0},"end":{"line":39,"column":1}},"15":{"start":{"line":38,"column":2},"end":{"line":38,"column":62}},"16":{"start":{"line":41,"column":0},"end":{"line":52,"column":1}},"17":{"start":{"line":42,"column":2},"end":{"line":42,"column":52}},"18":{"start":{"line":43,"column":2},"end":{"line":43,"column":37}},"19":{"start":{"line":44,"column":2},"end":{"line":44,"column":18}},"20":{"start":{"line":45,"column":2},"end":{"line":45,"column":26}},"21":{"start":{"line":48,"column":2},"end":{"line":48,"column":24}},"22":{"start":{"line":49,"column":2},"end":{"line":51,"column":8}},"23":{"start":{"line":50,"column":4},"end":{"line":50,"column":27}},"24":{"start":{"line":54,"column":0},"end":{"line":62,"column":1}},"25":{"start":{"line":55,"column":2},"end":{"line":55,"column":44}},"26":{"start":{"line":56,"column":2},"end":{"line":56,"column":40}},"27":{"start":{"line":57,"column":2},"end":{"line":59,"column":3}},"28":{"start":{"line":58,"column":4},"end":{"line":58,"column":27}},"29":{"start":{"line":60,"column":2},"end":{"line":60,"column":33}},"30":{"start":{"line":61,"column":2},"end":{"line":61,"column":55}}},"branchMap":{"1":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":19},"end":{"line":15,"column":34}},{"start":{"line":15,"column":38},"end":{"line":15,"column":57}}]},"2":{"line":57,"type":"if","locations":[{"start":{"line":57,"column":2},"end":{"line":57,"column":2}},{"start":{"line":57,"column":2},"end":{"line":57,"column":2}}]}},"code":["var h = require('lib/h')","var send = require('value-event/event')","","var EditableHook = require('lib/editable-hook')","var IndexParam = require('lib/index-param')","var updateParamReferences = require('lib/update-param-references')","","module.exports = ParamEditor","","var renameLastParam = false","","function ParamEditor(chunk){","  var keys = chunk.params()","  var params = keys.map(function(key, i){","    var selected = renameLastParam && i === keys.length-1","    return h('ExternalNode', [","      h('header', [","        h('span.name', {","          'ev-hook': EditableHook(IndexParam(chunk.params, i), selected, onRename)","        }),","        h('button.remove Button -warn', {","          'ev-click': send(removeParam, {chunk: chunk, key: key}),","        }, 'X')","      ])","    ])","  })","","  return [","    params,","","    h('NodeSpawner', h('button Button -main -spawn', {","      'ev-click': send(spawnParam, chunk)","    }, '+ param'))","  ]","}","","function onRename (lastValue, value, param) {","  updateParamReferences(param.context.chunk, lastValue, value)","}","","function spawnParam(chunk) {","  var key = chunk.resolveAvailableParam('New Param')","  var params = chunk.params().slice()","  params.push(key)","  chunk.params.set(params)","","  // wow such hacks!","  renameLastParam = true","  setTimeout(function() {","    renameLastParam = false","  }, 16)","}","","function removeParam(target) {","  var params = target.chunk.params().slice()","  var index = params.indexOf(target.key)","  if (~index) {","    params.splice(index, 1)","  }","  target.chunk.params.set(params)","  updateParamReferences(target.chunk, target.key, null)","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"8":1,"10":1,"12":1,"13":0,"14":0,"15":0,"16":0,"28":0,"37":1,"38":0,"41":1,"42":0,"43":0,"44":0,"45":0,"48":0,"49":0,"50":0,"54":1,"55":0,"56":0,"57":0,"58":0,"60":0,"61":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/params.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/params.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"renderParams","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":28}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":46}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":29}},"5":{"start":{"line":7,"column":0},"end":{"line":23,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":55}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":48}},"8":{"start":{"line":10,"column":2},"end":{"line":22,"column":3}},"9":{"start":{"line":11,"column":4},"end":{"line":21,"column":6}},"10":{"start":{"line":12,"column":6},"end":{"line":20,"column":8}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":2},"end":{"line":10,"column":2}},{"start":{"line":10,"column":2},"end":{"line":10,"column":2}}]}},"code":["var h = require('lib/h')","var QueryParam = require('lib/query-param')","var ModRange = require('lib/params/mod-range')","","module.exports = renderParams","","function renderParams(node) {","  var paramValues = QueryParam(node, 'paramValues', {})","  var params = QueryParam(node, 'params').read()","  if (params instanceof Array) {","    return params.map(function(key) {","      return h('ParamList', [","        ModRange(QueryParam(paramValues, key), {","          title: key,","          format: 'ratio1',","          flex: true,","          allowSpawnModulator: true,","          node: node","        })","      ])","    })","  }","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/spawner.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/widgets/spawner.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"Spawner","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":37}}},"2":{"name":"spawn","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":22}}},"3":{"name":"(anonymous_3)","line":29,"loc":{"start":{"line":29,"column":51},"end":{"line":29,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":41}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}},"6":{"start":{"line":8,"column":0},"end":{"line":26,"column":1}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"8":{"start":{"line":11,"column":2},"end":{"line":23,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":37}},"10":{"start":{"line":13,"column":4},"end":{"line":22,"column":5}},"11":{"start":{"line":14,"column":6},"end":{"line":21,"column":33}},"12":{"start":{"line":25,"column":2},"end":{"line":25,"column":34}},"13":{"start":{"line":28,"column":0},"end":{"line":32,"column":1}},"14":{"start":{"line":29,"column":2},"end":{"line":31,"column":4}},"15":{"start":{"line":30,"column":4},"end":{"line":30,"column":38}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":18}},{"start":{"line":13,"column":22},"end":{"line":13,"column":48}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":17},"end":{"line":15,"column":39}},{"start":{"line":15,"column":43},"end":{"line":15,"column":45}}]},"4":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":16}},{"start":{"line":30,"column":20},"end":{"line":30,"column":38}}]}},"code":["var h = require('lib/h')","var send = require('value-event/event')","var extend = require('xtend')","var spawnNode = require('lib/spawn-node')","","module.exports = Spawner","","function Spawner(collection, options){","  var buttons = []","","  for (var i=0;i<options.nodes.length;i++) {","    var descriptor = options.nodes[i]","    if (descriptor && descriptor.spawn !== false) {","      buttons.push(h('button Button -main -spawn', {","        'title': descriptor.description || '',","        'ev-click': send(spawn, {","          descriptor: descriptor,","          collection: collection,","          onSpawn: options.onSpawn","        })","      }, '+ ' + descriptor.name))","    }","  }","","  return h('NodeSpawner', buttons)","}","","function spawn (opts) {","  spawnNode(opts.collection, opts.descriptor.node, function (err, node) {","    opts.onSpawn && opts.onSpawn(node)","  })","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"8":1,"9":0,"11":0,"12":0,"13":0,"14":0,"25":0,"28":1,"29":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/worker/peaks.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/worker/peaks.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0]},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":30}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":34,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":17}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":22}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":25}},"5":{"start":{"line":5,"column":2},"end":{"line":5,"column":19}},"6":{"start":{"line":6,"column":2},"end":{"line":6,"column":20}},"7":{"start":{"line":7,"column":2},"end":{"line":7,"column":24}},"8":{"start":{"line":8,"column":2},"end":{"line":8,"column":36}},"9":{"start":{"line":9,"column":2},"end":{"line":9,"column":39}},"10":{"start":{"line":10,"column":2},"end":{"line":10,"column":45}},"11":{"start":{"line":11,"column":2},"end":{"line":11,"column":45}},"12":{"start":{"line":13,"column":2},"end":{"line":28,"column":3}},"13":{"start":{"line":14,"column":4},"end":{"line":25,"column":5}},"14":{"start":{"line":15,"column":6},"end":{"line":15,"column":27}},"15":{"start":{"line":17,"column":6},"end":{"line":19,"column":7}},"16":{"start":{"line":18,"column":8},"end":{"line":18,"column":23}},"17":{"start":{"line":21,"column":6},"end":{"line":24,"column":7}},"18":{"start":{"line":22,"column":8},"end":{"line":22,"column":28}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":29}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":48}},"21":{"start":{"line":27,"column":4},"end":{"line":27,"column":20}},"22":{"start":{"line":30,"column":2},"end":{"line":33,"column":4}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":13},"end":{"line":10,"column":24}},{"start":{"line":10,"column":28},"end":{"line":10,"column":45}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":10},"end":{"line":17,"column":21}},{"start":{"line":17,"column":26},"end":{"line":17,"column":47}},{"start":{"line":17,"column":51},"end":{"line":17,"column":63}}]},"4":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":6},"end":{"line":21,"column":6}},{"start":{"line":21,"column":6},"end":{"line":21,"column":6}}]}},"code":["self.onmessage = function (e) {","  var result = []","  var highestValue = 0","  var highestValuePos = 0","  var lastCross = 0","  var id = e.data.id","  var data = e.data.data","  var windowSize = e.data.windowSize","  var start = Math.max(0, e.data.start)","  var step = e.data.step || e.data.windowSize","  var end = Math.min(e.data.end, data.length)","","  for (var i = start; i < end; i += step) {","    for (var pos = i; pos < windowSize + i; pos++) {","      var value = data[pos]","","      if (value === 0 || (pos - lastCross > 128 && value < 0.01)) {","        lastCross = pos","      }","","      if (value > highestValue) {","        highestValue = value","        highestValuePos = pos","      }","    }","    result.push([highestValuePos, highestValue])","    highestValue = 0","  }","","  self.postMessage({","    id: id,","    result: result","  })","}",""],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"13":0,"14":0,"15":0,"17":0,"18":0,"21":0,"22":0,"23":0,"26":0,"27":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/worker/wave-path.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/worker/wave-path.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":17},"end":{"line":1,"column":30}}},"2":{"name":"(anonymous_2)","line":39,"loc":{"start":{"line":39,"column":20},"end":{"line":39,"column":38}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":55,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":24}},"3":{"start":{"line":3,"column":2},"end":{"line":3,"column":26}},"4":{"start":{"line":4,"column":2},"end":{"line":4,"column":28}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":24}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":20}},"8":{"start":{"line":10,"column":2},"end":{"line":10,"column":20}},"9":{"start":{"line":12,"column":2},"end":{"line":35,"column":3}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":17}},"11":{"start":{"line":14,"column":4},"end":{"line":14,"column":18}},"12":{"start":{"line":15,"column":4},"end":{"line":15,"column":23}},"13":{"start":{"line":16,"column":4},"end":{"line":26,"column":5}},"14":{"start":{"line":17,"column":6},"end":{"line":17,"column":38}},"15":{"start":{"line":18,"column":6},"end":{"line":21,"column":7}},"16":{"start":{"line":19,"column":8},"end":{"line":19,"column":19}},"17":{"start":{"line":20,"column":8},"end":{"line":20,"column":22}},"18":{"start":{"line":22,"column":6},"end":{"line":25,"column":7}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":19}},"20":{"start":{"line":24,"column":8},"end":{"line":24,"column":22}},"21":{"start":{"line":28,"column":4},"end":{"line":34,"column":5}},"22":{"start":{"line":29,"column":6},"end":{"line":29,"column":24}},"23":{"start":{"line":30,"column":6},"end":{"line":30,"column":24}},"24":{"start":{"line":32,"column":6},"end":{"line":32,"column":22}},"25":{"start":{"line":33,"column":6},"end":{"line":33,"column":22}},"26":{"start":{"line":38,"column":2},"end":{"line":38,"column":35}},"27":{"start":{"line":39,"column":2},"end":{"line":41,"column":4}},"28":{"start":{"line":40,"column":4},"end":{"line":40,"column":60}},"29":{"start":{"line":44,"column":2},"end":{"line":44,"column":45}},"30":{"start":{"line":47,"column":2},"end":{"line":49,"column":4}},"31":{"start":{"line":48,"column":4},"end":{"line":48,"column":74}},"32":{"start":{"line":51,"column":2},"end":{"line":54,"column":4}}},"branchMap":{"1":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":6},"end":{"line":18,"column":6}},{"start":{"line":18,"column":6},"end":{"line":18,"column":6}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":6},"end":{"line":22,"column":6}},{"start":{"line":22,"column":6},"end":{"line":22,"column":6}}]},"3":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]}},"code":["self.onmessage = function (e) {","  var data = e.data.data","  var width = e.data.width","  var height = e.data.height","","  var step = Math.ceil(data.length / width)","  var amp = (height / 2)","","  var maxValues = []","  var minValues = []","","  for (var i = 0; i < width; i++) {","    var min = 1.0","    var max = -1.0","    var defined = false","    for (var j = 0; j < step; j++) {","      var datum = data[(i * step) + j]","      if (datum < min) {","        min = datum","        defined = true","      }","      if (datum > max) {","        max = datum","        defined = true","      }","    }","","    if (defined) {","      maxValues[i] = max","      minValues[i] = min","    } else {","      maxValues[i] = 0","      minValues[i] = 0","    }","  }","","  // top","  var result = 'M0,' + (height / 2)","  maxValues.forEach(function (val, i) {","    result += ' L' + i + ',' + Math.round(amp + (val * amp))","  })","","  // end point","  result += ' L' + width + ',' + (height / 2)","","  // bottom","  minValues.reverse().forEach(function (val, i) {","    result += ' L' + (width - i - 1) + ',' + Math.round(amp + (val * amp))","  })","","  self.postMessage({","    id: e.data.id,","    result: result + ' Z'","  })","}",""],"l":{"1":2,"2":0,"3":0,"4":0,"6":0,"7":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"28":0,"29":0,"30":0,"32":0,"33":0,"38":0,"39":0,"40":0,"44":0,"47":0,"48":0,"51":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/bitcrusher/view.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/bitcrusher/view.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"renderBitcrusher","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":50}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"4":{"start":{"line":5,"column":0},"end":{"line":23,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":22,"column":4}}},"branchMap":{},"code":["var h = require('lib/h')","var Header = require('lib/widgets/header')","var Range = require('lib/params/range')","","module.exports = function renderBitcrusher (node) {","  return h('ProcessorNode -bitcrusher', [","    Header(node, h('span', 'Bitcrusher')),","    h('ParamList', [","      Range(node.bitDepth, {","        title: 'bit depth',","        defaultValue: 8,","        format: 'bit',","        flex: true","      }),","      Range(node.frequency, {","        title: 'freq',","        defaultValue: 1,","        format: 'sampleRatio',","        flex: true","      })","    ])","  ])","}"],"l":{"1":1,"2":1,"3":1,"5":1,"6":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/chromatic-chunk/object.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/chromatic-chunk/object.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":1,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":1,"102":0,"103":0,"104":0,"105":0,"106":1,"107":0,"108":1,"109":0,"110":1,"111":0,"112":0,"113":0,"114":0,"115":1,"116":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"ChromaticChunk","line":24,"loc":{"start":{"line":24,"column":0},"end":{"line":24,"column":40}}},"2":{"name":"(anonymous_2)","line":68,"loc":{"start":{"line":68,"column":69},"end":{"line":68,"column":95}}},"3":{"name":"(anonymous_3)","line":80,"loc":{"start":{"line":80,"column":49},"end":{"line":80,"column":77}}},"4":{"name":"(anonymous_4)","line":94,"loc":{"start":{"line":94,"column":13},"end":{"line":94,"column":28}}},"5":{"name":"(anonymous_5)","line":103,"loc":{"start":{"line":103,"column":69},"end":{"line":103,"column":101}}},"6":{"name":"(anonymous_6)","line":124,"loc":{"start":{"line":124,"column":18},"end":{"line":124,"column":34}}},"7":{"name":"(anonymous_7)","line":128,"loc":{"start":{"line":128,"column":25},"end":{"line":128,"column":39}}},"8":{"name":"(anonymous_8)","line":138,"loc":{"start":{"line":138,"column":19},"end":{"line":138,"column":35}}},"9":{"name":"(anonymous_9)","line":145,"loc":{"start":{"line":145,"column":16},"end":{"line":145,"column":28}}},"10":{"name":"(anonymous_10)","line":149,"loc":{"start":{"line":149,"column":47},"end":{"line":149,"column":66}}},"11":{"name":"(anonymous_11)","line":164,"loc":{"start":{"line":164,"column":57},"end":{"line":164,"column":82}}},"12":{"name":"(anonymous_12)","line":168,"loc":{"start":{"line":168,"column":16},"end":{"line":168,"column":28}}},"13":{"name":"getGlobalId","line":181,"loc":{"start":{"line":181,"column":2},"end":{"line":181,"column":28}}},"14":{"name":"getNewValue","line":188,"loc":{"start":{"line":188,"column":0},"end":{"line":188,"column":37}}},"15":{"name":"getValue","line":198,"loc":{"start":{"line":198,"column":0},"end":{"line":198,"column":41}}},"16":{"name":"obtainWithParams","line":206,"loc":{"start":{"line":206,"column":0},"end":{"line":206,"column":40}}},"17":{"name":"(anonymous_17)","line":207,"loc":{"start":{"line":207,"column":40},"end":{"line":207,"column":53}}},"18":{"name":"obtain","line":216,"loc":{"start":{"line":216,"column":0},"end":{"line":216,"column":22}}},"19":{"name":"mod","line":220,"loc":{"start":{"line":220,"column":0},"end":{"line":220,"column":20}}},"20":{"name":"getNote","line":224,"loc":{"start":{"line":224,"column":0},"end":{"line":224,"column":33}}},"21":{"name":"multiply","line":231,"loc":{"start":{"line":231,"column":0},"end":{"line":231,"column":25}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":43}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":45}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":44}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":54}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":52}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"9":{"start":{"line":12,"column":0},"end":{"line":12,"column":41}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":48}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":46}},"12":{"start":{"line":15,"column":0},"end":{"line":15,"column":35}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":51}},"14":{"start":{"line":18,"column":0},"end":{"line":18,"column":39}},"15":{"start":{"line":19,"column":0},"end":{"line":19,"column":45}},"16":{"start":{"line":20,"column":0},"end":{"line":20,"column":43}},"17":{"start":{"line":22,"column":0},"end":{"line":22,"column":31}},"18":{"start":{"line":24,"column":0},"end":{"line":186,"column":1}},"19":{"start":{"line":25,"column":2},"end":{"line":25,"column":44}},"20":{"start":{"line":27,"column":2},"end":{"line":27,"column":58}},"21":{"start":{"line":28,"column":2},"end":{"line":28,"column":46}},"22":{"start":{"line":30,"column":2},"end":{"line":30,"column":37}},"23":{"start":{"line":32,"column":2},"end":{"line":35,"column":3}},"24":{"start":{"line":37,"column":2},"end":{"line":37,"column":26}},"25":{"start":{"line":38,"column":2},"end":{"line":38,"column":34}},"26":{"start":{"line":40,"column":2},"end":{"line":62,"column":4}},"27":{"start":{"line":64,"column":2},"end":{"line":64,"column":37}},"28":{"start":{"line":65,"column":2},"end":{"line":65,"column":30}},"29":{"start":{"line":67,"column":2},"end":{"line":71,"column":3}},"30":{"start":{"line":68,"column":4},"end":{"line":70,"column":6}},"31":{"start":{"line":69,"column":6},"end":{"line":69,"column":30}},"32":{"start":{"line":73,"column":2},"end":{"line":73,"column":29}},"33":{"start":{"line":75,"column":2},"end":{"line":75,"column":42}},"34":{"start":{"line":76,"column":2},"end":{"line":78,"column":3}},"35":{"start":{"line":77,"column":4},"end":{"line":77,"column":72}},"36":{"start":{"line":80,"column":2},"end":{"line":88,"column":4}},"37":{"start":{"line":81,"column":4},"end":{"line":87,"column":5}},"38":{"start":{"line":82,"column":6},"end":{"line":82,"column":24}},"39":{"start":{"line":83,"column":11},"end":{"line":87,"column":5}},"40":{"start":{"line":84,"column":6},"end":{"line":84,"column":18}},"41":{"start":{"line":86,"column":6},"end":{"line":86,"column":25}},"42":{"start":{"line":90,"column":2},"end":{"line":90,"column":29}},"43":{"start":{"line":91,"column":2},"end":{"line":91,"column":23}},"44":{"start":{"line":92,"column":2},"end":{"line":92,"column":21}},"45":{"start":{"line":94,"column":2},"end":{"line":96,"column":4}},"46":{"start":{"line":95,"column":4},"end":{"line":95,"column":29}},"47":{"start":{"line":98,"column":2},"end":{"line":101,"column":4}},"48":{"start":{"line":103,"column":2},"end":{"line":119,"column":4}},"49":{"start":{"line":104,"column":4},"end":{"line":104,"column":39}},"50":{"start":{"line":105,"column":4},"end":{"line":105,"column":19}},"51":{"start":{"line":106,"column":4},"end":{"line":117,"column":5}},"52":{"start":{"line":107,"column":6},"end":{"line":116,"column":7}},"53":{"start":{"line":108,"column":8},"end":{"line":112,"column":10}},"54":{"start":{"line":113,"column":8},"end":{"line":115,"column":9}},"55":{"start":{"line":114,"column":10},"end":{"line":114,"column":27}},"56":{"start":{"line":118,"column":4},"end":{"line":118,"column":17}},"57":{"start":{"line":121,"column":2},"end":{"line":121,"column":31}},"58":{"start":{"line":124,"column":2},"end":{"line":136,"column":3}},"59":{"start":{"line":125,"column":4},"end":{"line":125,"column":41}},"60":{"start":{"line":127,"column":4},"end":{"line":131,"column":5}},"61":{"start":{"line":128,"column":6},"end":{"line":130,"column":8}},"62":{"start":{"line":129,"column":8},"end":{"line":129,"column":22}},"63":{"start":{"line":133,"column":4},"end":{"line":135,"column":5}},"64":{"start":{"line":134,"column":6},"end":{"line":134,"column":24}},"65":{"start":{"line":138,"column":2},"end":{"line":143,"column":3}},"66":{"start":{"line":139,"column":4},"end":{"line":139,"column":41}},"67":{"start":{"line":140,"column":4},"end":{"line":142,"column":5}},"68":{"start":{"line":141,"column":6},"end":{"line":141,"column":25}},"69":{"start":{"line":145,"column":2},"end":{"line":147,"column":3}},"70":{"start":{"line":146,"column":4},"end":{"line":146,"column":37}},"71":{"start":{"line":149,"column":2},"end":{"line":156,"column":4}},"72":{"start":{"line":150,"column":4},"end":{"line":150,"column":65}},"73":{"start":{"line":151,"column":4},"end":{"line":151,"column":19}},"74":{"start":{"line":152,"column":4},"end":{"line":154,"column":5}},"75":{"start":{"line":153,"column":6},"end":{"line":153,"column":28}},"76":{"start":{"line":155,"column":4},"end":{"line":155,"column":17}},"77":{"start":{"line":158,"column":2},"end":{"line":160,"column":4}},"78":{"start":{"line":162,"column":2},"end":{"line":162,"column":59}},"79":{"start":{"line":164,"column":2},"end":{"line":166,"column":4}},"80":{"start":{"line":165,"column":4},"end":{"line":165,"column":54}},"81":{"start":{"line":168,"column":2},"end":{"line":173,"column":3}},"82":{"start":{"line":169,"column":4},"end":{"line":169,"column":24}},"83":{"start":{"line":170,"column":4},"end":{"line":170,"column":19}},"84":{"start":{"line":171,"column":4},"end":{"line":171,"column":46}},"85":{"start":{"line":172,"column":4},"end":{"line":172,"column":29}},"86":{"start":{"line":175,"column":2},"end":{"line":175,"column":18}},"87":{"start":{"line":177,"column":2},"end":{"line":177,"column":12}},"88":{"start":{"line":181,"column":2},"end":{"line":185,"column":3}},"89":{"start":{"line":182,"column":4},"end":{"line":184,"column":5}},"90":{"start":{"line":183,"column":6},"end":{"line":183,"column":32}},"91":{"start":{"line":188,"column":0},"end":{"line":196,"column":1}},"92":{"start":{"line":189,"column":2},"end":{"line":195,"column":3}},"93":{"start":{"line":190,"column":4},"end":{"line":190,"column":26}},"94":{"start":{"line":191,"column":4},"end":{"line":191,"column":41}},"95":{"start":{"line":192,"column":4},"end":{"line":192,"column":12}},"96":{"start":{"line":194,"column":4},"end":{"line":194,"column":16}},"97":{"start":{"line":198,"column":0},"end":{"line":204,"column":1}},"98":{"start":{"line":199,"column":2},"end":{"line":203,"column":3}},"99":{"start":{"line":200,"column":4},"end":{"line":200,"column":47}},"100":{"start":{"line":202,"column":4},"end":{"line":202,"column":49}},"101":{"start":{"line":206,"column":0},"end":{"line":214,"column":1}},"102":{"start":{"line":207,"column":2},"end":{"line":213,"column":5}},"103":{"start":{"line":208,"column":4},"end":{"line":212,"column":5}},"104":{"start":{"line":209,"column":6},"end":{"line":209,"column":29}},"105":{"start":{"line":211,"column":6},"end":{"line":211,"column":14}},"106":{"start":{"line":216,"column":0},"end":{"line":218,"column":1}},"107":{"start":{"line":217,"column":2},"end":{"line":217,"column":40}},"108":{"start":{"line":220,"column":0},"end":{"line":222,"column":1}},"109":{"start":{"line":221,"column":2},"end":{"line":221,"column":20}},"110":{"start":{"line":224,"column":0},"end":{"line":229,"column":1}},"111":{"start":{"line":225,"column":2},"end":{"line":225,"column":68}},"112":{"start":{"line":226,"column":2},"end":{"line":226,"column":42}},"113":{"start":{"line":227,"column":2},"end":{"line":227,"column":50}},"114":{"start":{"line":228,"column":2},"end":{"line":228,"column":42}},"115":{"start":{"line":231,"column":0},"end":{"line":233,"column":1}},"116":{"start":{"line":232,"column":2},"end":{"line":232,"column":14}}},"branchMap":{"1":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":2},"end":{"line":67,"column":2}},{"start":{"line":67,"column":2},"end":{"line":67,"column":2}}]},"2":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"3":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":4},"end":{"line":81,"column":4}},{"start":{"line":81,"column":4},"end":{"line":81,"column":4}}]},"4":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":11},"end":{"line":83,"column":11}},{"start":{"line":83,"column":11},"end":{"line":83,"column":11}}]},"5":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":18},"end":{"line":104,"column":35}},{"start":{"line":104,"column":38},"end":{"line":104,"column":39}}]},"6":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":6},"end":{"line":107,"column":6}},{"start":{"line":107,"column":6},"end":{"line":107,"column":6}}]},"7":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"8":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":4}},{"start":{"line":127,"column":4},"end":{"line":127,"column":4}}]},"9":{"line":133,"type":"if","locations":[{"start":{"line":133,"column":4},"end":{"line":133,"column":4}},{"start":{"line":133,"column":4},"end":{"line":133,"column":4}}]},"10":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":4},"end":{"line":140,"column":4}},{"start":{"line":140,"column":4},"end":{"line":140,"column":4}}]},"11":{"line":150,"type":"binary-expr","locations":[{"start":{"line":150,"column":17},"end":{"line":150,"column":37}},{"start":{"line":150,"column":41},"end":{"line":150,"column":60}},{"start":{"line":150,"column":64},"end":{"line":150,"column":65}}]},"12":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":22}},{"start":{"line":171,"column":26},"end":{"line":171,"column":46}}]},"13":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":4},"end":{"line":182,"column":4}},{"start":{"line":182,"column":4},"end":{"line":182,"column":4}}]},"14":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":2},"end":{"line":189,"column":2}},{"start":{"line":189,"column":2},"end":{"line":189,"column":2}}]},"15":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":6},"end":{"line":189,"column":30}},{"start":{"line":189,"column":34},"end":{"line":189,"column":56}}]},"16":{"line":199,"type":"if","locations":[{"start":{"line":199,"column":2},"end":{"line":199,"column":2}},{"start":{"line":199,"column":2},"end":{"line":199,"column":2}}]},"17":{"line":199,"type":"binary-expr","locations":[{"start":{"line":199,"column":6},"end":{"line":199,"column":30}},{"start":{"line":199,"column":34},"end":{"line":199,"column":56}}]},"18":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":28},"end":{"line":202,"column":34}},{"start":{"line":202,"column":37},"end":{"line":202,"column":49}}]},"19":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":4},"end":{"line":208,"column":4}},{"start":{"line":208,"column":4},"end":{"line":208,"column":4}}]},"20":{"line":208,"type":"binary-expr","locations":[{"start":{"line":208,"column":8},"end":{"line":208,"column":9}},{"start":{"line":208,"column":13},"end":{"line":208,"column":21}}]},"21":{"line":225,"type":"cond-expr","locations":[{"start":{"line":225,"column":33},"end":{"line":225,"column":38}},{"start":{"line":225,"column":41},"end":{"line":225,"column":68}}]}},"code":["","var ObservStruct = require('observ-struct')","var Observ = require('observ')","var Property = require('observ-default')","var ObservVarhash = require('observ-varhash')","var NodeArray = require('observ-node-array')","var NodeVarhash = require('observ-node-array/varhash')","var SingleNode = require('observ-node-array/single')","","var ArrayGrid = require('array-grid')","","var computed = require('observ/computed')","var lookup = require('observ-node-array/lookup')","var merge = require('observ-node-array/merge')","var watch = require('observ/watch')","var ExternalRouter = require('lib/external-router')","","var Param = require('audio-slot-param')","var applyParams = require('lib/apply-params')","var destroyAll = require('lib/destroy-all')","","module.exports = ChromaticChunk","","function ChromaticChunk (parentContext) {","  var context = Object.create(parentContext)","","  var output = context.output = context.audio.createGain()","  context.output.connect(parentContext.output)","","  var scaleSlots = NodeArray(context)","","  var defaultScale = {","    offset: 0,","    notes: [0,2,4,5,7,9,11]","  }","","  var volume = Property(1)","  var overrideVolume = Property(1)","","  var obs = ObservStruct({","    id: Observ(),","    shape: Property([1,4]),","","    templateSlot: SingleNode(context),","","    scale: Property(defaultScale),","    offset: Param(parentContext, 0),","","    slots: NodeArray(context),","    inputs: Property([]),","    outputs: Property(['output']),","    volume: volume,","","    params: Property([]),","    paramValues: NodeVarhash(parentContext),","","    routes: ExternalRouter(context, {output: '$default'}, computed([volume, overrideVolume], multiply)),","    flags: Property([]),","    chokeAll: Property(false),","    color: Property([255,255,255]),","    selectedSlotId: Observ()","  })","","  obs.overrideVolume = overrideVolume","  obs.params.context = context","","  if (context.setup) {","    obs.selected = computed([obs.id, context.setup.selectedChunkId], function (id, selectedId) {","      return id === selectedId","    })","  }","","  context.offset = obs.offset","","  var globalScale = Property(defaultScale)","  if (context.globalScale){","    var releaseGlobalScale = watch(context.globalScale, globalScale.set)","  }","","  var scale = computed([obs.scale, globalScale], function(scale, globalScale){","    if (scale === '$global'){","      return globalScale","    } else if (scale instanceof Object) {","      return scale","    } else {","      return defaultScale","    }","  })","","  obs.output = context.output","  obs.context = context","  context.chunk = obs","","  obs.volume(function(value){","    output.gain.value = value","  })","","  context.slotLookup = merge([","    lookup(scaleSlots, 'id'),","    lookup(obs.slots, 'id')","  ])","","  var computedSlots = computed([obs.templateSlot, scale, obs.shape], function(template, scale, shape){","    var length = (shape[0]*shape[1])||0","    var result = []","    for (var i=0;i<length;i++){","      if (template){","        var slot = obtainWithParams(template, {","          id: String(i),","          value: i,","          scale: scale","        })","        if (slot){","          result.push(slot)","        }","      }","    }","    return result","  })","","  computedSlots(scaleSlots.set)","","","  obs.triggerOn = function(id, at){","    var slot = context.slotLookup.get(id)","","    if (obs.chokeAll()){","      scaleSlots.forEach(function(slot){","        slot.choke(at)","      })","    }","","    if (slot){","      slot.triggerOn(at)","    }","  }","","  obs.triggerOff = function(id, at){","    var slot = context.slotLookup.get(id)","    if (slot){","      slot.triggerOff(at)","    }","  }","","  obs.getSlot = function(id){","    return context.slotLookup.get(id)","  }","","  obs.triggers = computed([obs.id, obs.shape], function(id, shape){","    var length = Array.isArray(shape) && shape[0] * shape[1] || 0","    var result = []","    for (var i=0;i<length;i++){","      result.push(String(i))","    }","    return result","  })","","  obs.resolved = ObservStruct({","    slotLookup: context.slotLookup","  })","","  obs.grid = computed([obs.triggers, obs.shape], ArrayGrid)","","  obs.resolvedGrid = computed([obs.triggers, obs.shape], function(triggers, shape){","    return ArrayGrid(triggers.map(getGlobalId), shape)","  })","","  obs.destroy = function () {","    scaleSlots.destroy()","    destroyAll(obs)","    releaseGlobalScale && releaseGlobalScale()","    releaseGlobalScale = null","  }","","  applyParams(obs)","","  return obs","","  // scoped","","  function getGlobalId (id) {","    if (id) {","      return obs.id() + '/' + id","    }","  }","}","","function getNewValue (object, value) {","  if (object instanceof Object && !Array.isArray(object)){","    var v = obtain(object)","    v.value = getNewValue(v.value, value)","    return v","  } else {","    return value","  }","}","","function getValue (object, defaultValue) {","  if (object instanceof Object && !Array.isArray(object)){","    return getValue(object.value, defaultValue)","  } else {","    return object != null ? object : defaultValue","  }","}","","function obtainWithParams (obj, params) {","  return JSON.parse(JSON.stringify(obj, function(k,v){","    if (v && v.$param){","      return params[v.$param]","    } else {","      return v","    }","  }))","}","","function obtain (obj) {","  return JSON.parse(JSON.stringify(obj))","}","","function mod (n, m) {","  return ((n%m)+m)%m","}","","function getNote (scale, offset) {","  scale = Array.isArray(scale) ? scale : [0,1,2,3,4,5,6,7,8,9,10,11]","  var position = mod(offset, scale.length)","  var multiplier = Math.floor(offset/scale.length)","  return scale[position] + multiplier * 12","}","","function multiply (a, b) {","  return a * b","}",""],"l":{"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"10":1,"12":1,"13":1,"14":1,"15":1,"16":1,"18":1,"19":1,"20":1,"22":1,"24":1,"25":0,"27":0,"28":0,"30":0,"32":0,"37":0,"38":0,"40":0,"64":0,"65":0,"67":0,"68":0,"69":0,"73":0,"75":0,"76":0,"77":0,"80":0,"81":0,"82":0,"83":0,"84":0,"86":0,"90":0,"91":0,"92":0,"94":0,"95":0,"98":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"113":0,"114":0,"118":0,"121":0,"124":0,"125":0,"127":0,"128":0,"129":0,"133":0,"134":0,"138":0,"139":0,"140":0,"141":0,"145":0,"146":0,"149":0,"150":0,"151":0,"152":0,"153":0,"155":0,"158":0,"162":0,"164":0,"165":0,"168":0,"169":0,"170":0,"171":0,"172":0,"175":0,"177":0,"181":1,"182":0,"183":0,"188":1,"189":0,"190":0,"191":0,"192":0,"194":0,"198":1,"199":0,"200":0,"202":0,"206":1,"207":0,"208":0,"209":0,"211":0,"216":1,"217":0,"220":1,"221":0,"224":1,"225":0,"226":0,"227":0,"228":0,"231":1,"232":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/external-router.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/lib/external-router.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"ExternalRouter","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":56}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":12},"end":{"line":18,"column":25}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":11},"end":{"line":23,"column":28}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":33},"end":{"line":24,"column":48}}},"5":{"name":"(anonymous_5)","line":32,"loc":{"start":{"line":32,"column":16},"end":{"line":32,"column":28}}},"6":{"name":"(anonymous_6)","line":41,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":26}}},"7":{"name":"(anonymous_7)","line":42,"loc":{"start":{"line":42,"column":31},"end":{"line":42,"column":46}}},"8":{"name":"refresh","line":55,"loc":{"start":{"line":55,"column":2},"end":{"line":55,"column":22}}},"9":{"name":"(anonymous_9)","line":58,"loc":{"start":{"line":58,"column":32},"end":{"line":58,"column":48}}},"10":{"name":"(anonymous_10)","line":79,"loc":{"start":{"line":79,"column":38},"end":{"line":79,"column":52}}},"11":{"name":"(anonymous_11)","line":94,"loc":{"start":{"line":94,"column":29},"end":{"line":94,"column":47}}},"12":{"name":"(anonymous_12)","line":101,"loc":{"start":{"line":101,"column":53},"end":{"line":101,"column":71}}},"13":{"name":"(anonymous_13)","line":112,"loc":{"start":{"line":112,"column":31},"end":{"line":112,"column":46}}},"14":{"name":"present","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":121,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":45}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":52}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"5":{"start":{"line":7,"column":0},"end":{"line":119,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":27}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":23}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":30}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":24}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":22}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":16}},"12":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"13":{"start":{"line":18,"column":2},"end":{"line":20,"column":3}},"14":{"start":{"line":19,"column":4},"end":{"line":19,"column":37}},"15":{"start":{"line":22,"column":2},"end":{"line":28,"column":3}},"16":{"start":{"line":23,"column":4},"end":{"line":27,"column":6}},"17":{"start":{"line":24,"column":6},"end":{"line":26,"column":8}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":37}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":18}},"20":{"start":{"line":32,"column":2},"end":{"line":37,"column":3}},"21":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"22":{"start":{"line":34,"column":6},"end":{"line":34,"column":23}},"23":{"start":{"line":35,"column":6},"end":{"line":35,"column":23}},"24":{"start":{"line":39,"column":2},"end":{"line":39,"column":104}},"25":{"start":{"line":41,"column":2},"end":{"line":49,"column":3}},"26":{"start":{"line":42,"column":4},"end":{"line":45,"column":6}},"27":{"start":{"line":43,"column":6},"end":{"line":43,"column":29}},"28":{"start":{"line":44,"column":6},"end":{"line":44,"column":23}},"29":{"start":{"line":46,"column":4},"end":{"line":46,"column":38}},"30":{"start":{"line":47,"column":4},"end":{"line":47,"column":25}},"31":{"start":{"line":51,"column":2},"end":{"line":51,"column":12}},"32":{"start":{"line":55,"column":2},"end":{"line":118,"column":3}},"33":{"start":{"line":56,"column":4},"end":{"line":56,"column":22}},"34":{"start":{"line":57,"column":4},"end":{"line":57,"column":28}},"35":{"start":{"line":58,"column":4},"end":{"line":110,"column":6}},"36":{"start":{"line":59,"column":6},"end":{"line":59,"column":31}},"37":{"start":{"line":60,"column":6},"end":{"line":60,"column":47}},"38":{"start":{"line":62,"column":6},"end":{"line":64,"column":7}},"39":{"start":{"line":63,"column":8},"end":{"line":63,"column":25}},"40":{"start":{"line":66,"column":6},"end":{"line":109,"column":7}},"41":{"start":{"line":67,"column":8},"end":{"line":67,"column":26}},"42":{"start":{"line":69,"column":8},"end":{"line":73,"column":9}},"43":{"start":{"line":70,"column":10},"end":{"line":70,"column":50}},"44":{"start":{"line":71,"column":10},"end":{"line":71,"column":58}},"45":{"start":{"line":72,"column":10},"end":{"line":72,"column":37}},"46":{"start":{"line":75,"column":8},"end":{"line":77,"column":9}},"47":{"start":{"line":76,"column":10},"end":{"line":76,"column":32}},"48":{"start":{"line":79,"column":8},"end":{"line":92,"column":26}},"49":{"start":{"line":80,"column":10},"end":{"line":91,"column":11}},"50":{"start":{"line":81,"column":12},"end":{"line":90,"column":13}},"51":{"start":{"line":82,"column":14},"end":{"line":82,"column":35}},"52":{"start":{"line":84,"column":14},"end":{"line":84,"column":32}},"53":{"start":{"line":85,"column":14},"end":{"line":85,"column":67}},"54":{"start":{"line":86,"column":14},"end":{"line":86,"column":87}},"55":{"start":{"line":87,"column":14},"end":{"line":89,"column":15}},"56":{"start":{"line":88,"column":16},"end":{"line":88,"column":44}},"57":{"start":{"line":94,"column":8},"end":{"line":99,"column":10}},"58":{"start":{"line":95,"column":10},"end":{"line":98,"column":11}},"59":{"start":{"line":96,"column":12},"end":{"line":96,"column":39}},"60":{"start":{"line":97,"column":12},"end":{"line":97,"column":42}},"61":{"start":{"line":101,"column":8},"end":{"line":108,"column":10}},"62":{"start":{"line":102,"column":10},"end":{"line":107,"column":11}},"63":{"start":{"line":103,"column":12},"end":{"line":103,"column":42}},"64":{"start":{"line":104,"column":12},"end":{"line":104,"column":24}},"65":{"start":{"line":106,"column":12},"end":{"line":106,"column":23}},"66":{"start":{"line":112,"column":4},"end":{"line":117,"column":6}},"67":{"start":{"line":113,"column":6},"end":{"line":116,"column":7}},"68":{"start":{"line":114,"column":8},"end":{"line":114,"column":31}},"69":{"start":{"line":115,"column":8},"end":{"line":115,"column":25}},"70":{"start":{"line":121,"column":0},"end":{"line":123,"column":1}},"71":{"start":{"line":122,"column":2},"end":{"line":122,"column":14}}},"branchMap":{"1":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":20},"end":{"line":19,"column":32}},{"start":{"line":19,"column":35},"end":{"line":19,"column":36}}]},"2":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":2},"end":{"line":22,"column":2}},{"start":{"line":22,"column":2},"end":{"line":22,"column":2}}]},"3":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"4":{"line":39,"type":"cond-expr","locations":[{"start":{"line":39,"column":45},"end":{"line":39,"column":97}},{"start":{"line":39,"column":100},"end":{"line":39,"column":104}}]},"5":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":18}},{"start":{"line":46,"column":22},"end":{"line":46,"column":38}}]},"6":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":17},"end":{"line":57,"column":22}},{"start":{"line":57,"column":26},"end":{"line":57,"column":28}}]},"7":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":6},"end":{"line":62,"column":6}},{"start":{"line":62,"column":6},"end":{"line":62,"column":6}}]},"8":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":6},"end":{"line":66,"column":6}},{"start":{"line":66,"column":6},"end":{"line":66,"column":6}}]},"9":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":10},"end":{"line":66,"column":16}},{"start":{"line":66,"column":20},"end":{"line":66,"column":41}}]},"10":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":8},"end":{"line":69,"column":8}},{"start":{"line":69,"column":8},"end":{"line":69,"column":8}}]},"11":{"line":71,"type":"binary-expr","locations":[{"start":{"line":71,"column":35},"end":{"line":71,"column":41}},{"start":{"line":71,"column":45},"end":{"line":71,"column":53}},{"start":{"line":71,"column":57},"end":{"line":71,"column":58}}]},"12":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"13":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":10},"end":{"line":80,"column":10}},{"start":{"line":80,"column":10},"end":{"line":80,"column":10}}]},"14":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":14},"end":{"line":80,"column":16}},{"start":{"line":80,"column":20},"end":{"line":80,"column":42}}]},"15":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":12},"end":{"line":81,"column":12}},{"start":{"line":81,"column":12},"end":{"line":81,"column":12}}]},"16":{"line":86,"type":"binary-expr","locations":[{"start":{"line":86,"column":36},"end":{"line":86,"column":52}},{"start":{"line":86,"column":56},"end":{"line":86,"column":87}}]},"17":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":14},"end":{"line":87,"column":14}},{"start":{"line":87,"column":14},"end":{"line":87,"column":14}}]},"18":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":18},"end":{"line":87,"column":33}},{"start":{"line":87,"column":37},"end":{"line":87,"column":58}}]},"19":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":10},"end":{"line":95,"column":10}},{"start":{"line":95,"column":10},"end":{"line":95,"column":10}}]},"20":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":10},"end":{"line":102,"column":10}},{"start":{"line":102,"column":10},"end":{"line":102,"column":10}}]},"21":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":6},"end":{"line":113,"column":6}},{"start":{"line":113,"column":6},"end":{"line":113,"column":6}}]}},"code":["var ObservVarhash = require('observ-varhash')","var nextTick = require('next-tick')","var watchThrottle = require('throttle-observ/watch')","","module.exports = ExternalRouter","","function ExternalRouter (context, defaultValue, volume) {","  var obs = ObservVarhash()","  obs.context = context","","  var externalConnections = []","  var refreshing = false","","  var connections = {}","  var gains = {}","","  var set = obs.set","  obs.set = function (v) {","    set(v == null ? defaultValue : v)","  }","","  if (typeof volume === 'function') {","    volume(function (value) {","      Object.keys(gains).forEach(function (key) {","        gains[key].gain.value = value","      })","    })","  }","","  obs(obs.refresh)","","  obs.refresh = function () {","    if (!refreshing) {","      refreshing = true","      nextTick(refresh)","    }","  }","","  var releaseWatcher = context.chunkLookup ? watchThrottle(context.chunkLookup, 500, obs.refresh) : null","","  obs.destroy = function(){","    Object.keys(gains).forEach(function (key) {","      gains[key].disconnect()","      delete gains[key]","    })","    releaseWatcher && releaseWatcher()","    releaseWatcher = null","    // destroy all the child nodes","  }","","  return obs","","  // scoped","","  function refresh () {","    refreshing = false","    var routes = obs() || {}","    Object.keys(routes).forEach(function (from) {","      var target = routes[from]","      var source = context.slotLookup.get(from)","","      if (typeof target === 'string'){","        target = [target]","      }","","      if (source && Array.isArray(target)){","        var routed = false","","        if (!gains[from]) {","          gains[from] = context.audio.createGain()","          gains[from].gain.value = volume && volume() || 1","          source.connect(gains[from])","        }","","        if (!connections[from]) {","          connections[from] = []","        }","","        var destinations = target.map(function (to) {","          if (to && typeof to === 'string') {","            if (to === '$default') {","              return context.output","            } else {","              to = to.split('#')","              var destinationChunk = context.chunkLookup.get(to[0])","              var destinationSlot = destinationChunk && destinationChunk.getSlot(to[1])","              if (destinationSlot && destinationSlot.input) {","                return destinationSlot.input","              }","            }","          }","        }).filter(present)","","        destinations.forEach(function (output) {","          if (!~connections[from].indexOf(output)) {","            gains[from].connect(output)","            connections[from].push(output)","          }","        })","","        connections[from] = connections[from].filter(function (output) {","          if (!~destinations.indexOf(output)) {","            gains[from].disconnect(output)","            return false","          } else {","            return true","          }","        })","      }","    })","","    Object.keys(gains).forEach(function (key) {","      if (!routes[key]) {","        gains[key].disconnect()","        delete gains[key]","      }","    })","  }","}","","function present (value) {","  return value","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"19":0,"22":0,"23":0,"24":0,"25":0,"30":0,"32":0,"33":0,"34":0,"35":0,"39":0,"41":0,"42":0,"43":0,"44":0,"46":0,"47":0,"51":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"62":0,"63":0,"66":0,"67":0,"69":0,"70":0,"71":0,"72":0,"75":0,"76":0,"79":0,"80":0,"81":0,"82":0,"84":0,"85":0,"86":0,"87":0,"88":0,"94":0,"95":0,"96":0,"97":0,"101":0,"102":0,"103":0,"104":0,"106":0,"112":0,"113":0,"114":0,"115":0,"121":1,"122":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/grid.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/grid.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":1,"56":0,"57":1,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":0,"69":1,"70":0,"71":1,"72":0,"73":0,"74":0,"75":1,"76":0,"77":1,"78":1,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":1,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":1,"153":0,"154":0,"155":1,"156":0,"157":1,"158":0,"159":0,"160":0,"161":1,"162":0,"163":0,"164":0,"165":1,"166":0,"167":0,"168":1,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"fnMap":{"1":{"name":"renderGrid","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":50}}},"2":{"name":"(anonymous_2)","line":29,"loc":{"start":{"line":29,"column":31},"end":{"line":29,"column":48}}},"3":{"name":"renderRows","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":45}}},"4":{"name":"renderChunkBlock","line":50,"loc":{"start":{"line":50,"column":0},"end":{"line":50,"column":44}}},"5":{"name":"resize","line":97,"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":19}}},"6":{"name":"clamp1","line":124,"loc":{"start":{"line":124,"column":0},"end":{"line":124,"column":20}}},"7":{"name":"getChunks","line":128,"loc":{"start":{"line":128,"column":0},"end":{"line":128,"column":30}}},"8":{"name":"enterButton","line":154,"loc":{"start":{"line":154,"column":0},"end":{"line":154,"column":25}}},"9":{"name":"leaveButton","line":158,"loc":{"start":{"line":158,"column":0},"end":{"line":158,"column":25}}},"10":{"name":"startDrag","line":162,"loc":{"start":{"line":162,"column":0},"end":{"line":162,"column":24}}},"11":{"name":"endDrag","line":168,"loc":{"start":{"line":168,"column":0},"end":{"line":168,"column":20}}},"12":{"name":"dragLeave","line":174,"loc":{"start":{"line":174,"column":0},"end":{"line":174,"column":22}}},"13":{"name":"dragEnter","line":183,"loc":{"start":{"line":183,"column":0},"end":{"line":183,"column":22}}},"14":{"name":"(anonymous_14)","line":186,"loc":{"start":{"line":186,"column":13},"end":{"line":186,"column":23}}},"15":{"name":"getId","line":191,"loc":{"start":{"line":191,"column":0},"end":{"line":191,"column":21}}},"16":{"name":"dragOver","line":201,"loc":{"start":{"line":201,"column":0},"end":{"line":201,"column":21}}},"17":{"name":"drop","line":248,"loc":{"start":{"line":248,"column":0},"end":{"line":248,"column":17}}},"18":{"name":"(anonymous_18)","line":284,"loc":{"start":{"line":284,"column":49},"end":{"line":284,"column":72}}},"19":{"name":"getElementMouseOffset","line":303,"loc":{"start":{"line":303,"column":0},"end":{"line":303,"column":66}}},"20":{"name":"getOffset","line":307,"loc":{"start":{"line":307,"column":0},"end":{"line":307,"column":36}}},"21":{"name":"percent","line":312,"loc":{"start":{"line":312,"column":0},"end":{"line":312,"column":25}}},"22":{"name":"color","line":316,"loc":{"start":{"line":316,"column":0},"end":{"line":316,"column":22}}},"23":{"name":"mixColor","line":323,"loc":{"start":{"line":323,"column":0},"end":{"line":323,"column":23}}},"24":{"name":"toggleChunk","line":334,"loc":{"start":{"line":334,"column":0},"end":{"line":334,"column":27}}},"25":{"name":"selectChunk","line":339,"loc":{"start":{"line":339,"column":0},"end":{"line":339,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":45}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":52}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":51}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":30}},"9":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}},"10":{"start":{"line":10,"column":0},"end":{"line":10,"column":33}},"11":{"start":{"line":12,"column":0},"end":{"line":12,"column":43}},"12":{"start":{"line":14,"column":0},"end":{"line":33,"column":1}},"13":{"start":{"line":15,"column":2},"end":{"line":15,"column":34}},"14":{"start":{"line":16,"column":2},"end":{"line":16,"column":27}},"15":{"start":{"line":17,"column":2},"end":{"line":17,"column":36}},"16":{"start":{"line":18,"column":2},"end":{"line":18,"column":36}},"17":{"start":{"line":19,"column":2},"end":{"line":19,"column":30}},"18":{"start":{"line":21,"column":2},"end":{"line":32,"column":4}},"19":{"start":{"line":30,"column":6},"end":{"line":30,"column":48}},"20":{"start":{"line":35,"column":0},"end":{"line":48,"column":1}},"21":{"start":{"line":36,"column":2},"end":{"line":36,"column":19}},"22":{"start":{"line":37,"column":2},"end":{"line":46,"column":3}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":20}},"24":{"start":{"line":39,"column":4},"end":{"line":44,"column":5}},"25":{"start":{"line":40,"column":6},"end":{"line":43,"column":9}},"26":{"start":{"line":45,"column":4},"end":{"line":45,"column":40}},"27":{"start":{"line":47,"column":2},"end":{"line":47,"column":83}},"28":{"start":{"line":50,"column":0},"end":{"line":95,"column":1}},"29":{"start":{"line":51,"column":2},"end":{"line":51,"column":38}},"30":{"start":{"line":52,"column":2},"end":{"line":52,"column":41}},"31":{"start":{"line":54,"column":2},"end":{"line":54,"column":47}},"32":{"start":{"line":55,"column":2},"end":{"line":60,"column":3}},"33":{"start":{"line":62,"column":2},"end":{"line":70,"column":3}},"34":{"start":{"line":72,"column":2},"end":{"line":72,"column":46}},"35":{"start":{"line":74,"column":2},"end":{"line":94,"column":4}},"36":{"start":{"line":97,"column":0},"end":{"line":122,"column":1}},"37":{"start":{"line":98,"column":2},"end":{"line":98,"column":27}},"38":{"start":{"line":99,"column":2},"end":{"line":99,"column":27}},"39":{"start":{"line":100,"column":2},"end":{"line":100,"column":29}},"40":{"start":{"line":102,"column":2},"end":{"line":120,"column":3}},"41":{"start":{"line":103,"column":4},"end":{"line":103,"column":23}},"42":{"start":{"line":104,"column":4},"end":{"line":104,"column":54}},"43":{"start":{"line":105,"column":4},"end":{"line":105,"column":19}},"44":{"start":{"line":106,"column":9},"end":{"line":120,"column":3}},"45":{"start":{"line":107,"column":4},"end":{"line":119,"column":5}},"46":{"start":{"line":108,"column":6},"end":{"line":108,"column":57}},"47":{"start":{"line":109,"column":6},"end":{"line":112,"column":7}},"48":{"start":{"line":110,"column":8},"end":{"line":110,"column":96}},"49":{"start":{"line":111,"column":8},"end":{"line":111,"column":32}},"50":{"start":{"line":113,"column":11},"end":{"line":119,"column":5}},"51":{"start":{"line":114,"column":6},"end":{"line":114,"column":71}},"52":{"start":{"line":115,"column":6},"end":{"line":118,"column":7}},"53":{"start":{"line":116,"column":8},"end":{"line":116,"column":96}},"54":{"start":{"line":117,"column":8},"end":{"line":117,"column":32}},"55":{"start":{"line":124,"column":0},"end":{"line":126,"column":1}},"56":{"start":{"line":125,"column":2},"end":{"line":125,"column":25}},"57":{"start":{"line":128,"column":0},"end":{"line":152,"column":1}},"58":{"start":{"line":129,"column":2},"end":{"line":129,"column":34}},"59":{"start":{"line":130,"column":2},"end":{"line":130,"column":83}},"60":{"start":{"line":131,"column":2},"end":{"line":131,"column":17}},"61":{"start":{"line":132,"column":2},"end":{"line":150,"column":3}},"62":{"start":{"line":134,"column":4},"end":{"line":134,"column":42}},"63":{"start":{"line":136,"column":4},"end":{"line":148,"column":5}},"64":{"start":{"line":137,"column":6},"end":{"line":137,"column":24}},"65":{"start":{"line":138,"column":6},"end":{"line":147,"column":8}},"66":{"start":{"line":151,"column":2},"end":{"line":151,"column":15}},"67":{"start":{"line":154,"column":0},"end":{"line":156,"column":1}},"68":{"start":{"line":155,"column":2},"end":{"line":155,"column":45}},"69":{"start":{"line":158,"column":0},"end":{"line":160,"column":1}},"70":{"start":{"line":159,"column":2},"end":{"line":159,"column":48}},"71":{"start":{"line":162,"column":0},"end":{"line":166,"column":1}},"72":{"start":{"line":163,"column":2},"end":{"line":163,"column":44}},"73":{"start":{"line":164,"column":2},"end":{"line":164,"column":87}},"74":{"start":{"line":165,"column":2},"end":{"line":165,"column":25}},"75":{"start":{"line":168,"column":0},"end":{"line":170,"column":1}},"76":{"start":{"line":169,"column":2},"end":{"line":169,"column":27}},"77":{"start":{"line":172,"column":0},"end":{"line":172,"column":20}},"78":{"start":{"line":173,"column":0},"end":{"line":173,"column":19}},"79":{"start":{"line":174,"column":0},"end":{"line":182,"column":1}},"80":{"start":{"line":175,"column":2},"end":{"line":175,"column":26}},"81":{"start":{"line":176,"column":2},"end":{"line":181,"column":3}},"82":{"start":{"line":177,"column":4},"end":{"line":177,"column":41}},"83":{"start":{"line":178,"column":4},"end":{"line":180,"column":5}},"84":{"start":{"line":179,"column":6},"end":{"line":179,"column":47}},"85":{"start":{"line":183,"column":0},"end":{"line":189,"column":1}},"86":{"start":{"line":184,"column":2},"end":{"line":184,"column":20}},"87":{"start":{"line":186,"column":2},"end":{"line":188,"column":7}},"88":{"start":{"line":187,"column":4},"end":{"line":187,"column":19}},"89":{"start":{"line":191,"column":0},"end":{"line":199,"column":1}},"90":{"start":{"line":192,"column":2},"end":{"line":194,"column":3}},"91":{"start":{"line":193,"column":4},"end":{"line":193,"column":19}},"92":{"start":{"line":196,"column":2},"end":{"line":198,"column":3}},"93":{"start":{"line":197,"column":4},"end":{"line":197,"column":19}},"94":{"start":{"line":201,"column":0},"end":{"line":246,"column":1}},"95":{"start":{"line":202,"column":2},"end":{"line":202,"column":26}},"96":{"start":{"line":203,"column":2},"end":{"line":203,"column":38}},"97":{"start":{"line":205,"column":2},"end":{"line":245,"column":3}},"98":{"start":{"line":207,"column":4},"end":{"line":239,"column":5}},"99":{"start":{"line":208,"column":6},"end":{"line":208,"column":29}},"100":{"start":{"line":209,"column":6},"end":{"line":209,"column":41}},"101":{"start":{"line":211,"column":6},"end":{"line":211,"column":43}},"102":{"start":{"line":213,"column":6},"end":{"line":229,"column":7}},"103":{"start":{"line":214,"column":8},"end":{"line":214,"column":47}},"104":{"start":{"line":215,"column":8},"end":{"line":215,"column":47}},"105":{"start":{"line":216,"column":8},"end":{"line":216,"column":45}},"106":{"start":{"line":218,"column":8},"end":{"line":218,"column":48}},"107":{"start":{"line":219,"column":8},"end":{"line":219,"column":48}},"108":{"start":{"line":221,"column":8},"end":{"line":221,"column":35}},"109":{"start":{"line":222,"column":8},"end":{"line":222,"column":35}},"110":{"start":{"line":224,"column":8},"end":{"line":224,"column":65}},"111":{"start":{"line":226,"column":8},"end":{"line":228,"column":9}},"112":{"start":{"line":227,"column":10},"end":{"line":227,"column":55}},"113":{"start":{"line":231,"column":6},"end":{"line":237,"column":7}},"114":{"start":{"line":234,"column":8},"end":{"line":234,"column":43}},"115":{"start":{"line":236,"column":8},"end":{"line":236,"column":43}},"116":{"start":{"line":238,"column":6},"end":{"line":238,"column":22}},"117":{"start":{"line":241,"column":4},"end":{"line":241,"column":29}},"118":{"start":{"line":242,"column":9},"end":{"line":245,"column":3}},"119":{"start":{"line":243,"column":4},"end":{"line":243,"column":39}},"120":{"start":{"line":244,"column":4},"end":{"line":244,"column":29}},"121":{"start":{"line":248,"column":0},"end":{"line":301,"column":1}},"122":{"start":{"line":249,"column":2},"end":{"line":249,"column":48}},"123":{"start":{"line":250,"column":2},"end":{"line":250,"column":26}},"124":{"start":{"line":251,"column":2},"end":{"line":251,"column":42}},"125":{"start":{"line":252,"column":2},"end":{"line":252,"column":38}},"126":{"start":{"line":253,"column":2},"end":{"line":253,"column":43}},"127":{"start":{"line":255,"column":2},"end":{"line":255,"column":41}},"128":{"start":{"line":256,"column":2},"end":{"line":256,"column":41}},"129":{"start":{"line":257,"column":2},"end":{"line":257,"column":39}},"130":{"start":{"line":258,"column":2},"end":{"line":258,"column":39}},"131":{"start":{"line":259,"column":2},"end":{"line":259,"column":38}},"132":{"start":{"line":261,"column":2},"end":{"line":261,"column":29}},"133":{"start":{"line":262,"column":2},"end":{"line":262,"column":18}},"134":{"start":{"line":264,"column":2},"end":{"line":280,"column":3}},"135":{"start":{"line":265,"column":4},"end":{"line":265,"column":33}},"136":{"start":{"line":266,"column":4},"end":{"line":279,"column":5}},"137":{"start":{"line":267,"column":6},"end":{"line":278,"column":7}},"138":{"start":{"line":269,"column":8},"end":{"line":269,"column":47}},"139":{"start":{"line":272,"column":8},"end":{"line":272,"column":55}},"140":{"start":{"line":273,"column":8},"end":{"line":275,"column":11}},"141":{"start":{"line":276,"column":8},"end":{"line":276,"column":48}},"142":{"start":{"line":277,"column":8},"end":{"line":277,"column":14}},"143":{"start":{"line":282,"column":2},"end":{"line":300,"column":3}},"144":{"start":{"line":284,"column":4},"end":{"line":298,"column":6}},"145":{"start":{"line":285,"column":6},"end":{"line":285,"column":24}},"146":{"start":{"line":285,"column":15},"end":{"line":285,"column":24}},"147":{"start":{"line":287,"column":6},"end":{"line":287,"column":44}},"148":{"start":{"line":288,"column":6},"end":{"line":295,"column":8}},"149":{"start":{"line":297,"column":6},"end":{"line":297,"column":46}},"150":{"start":{"line":303,"column":0},"end":{"line":305,"column":1}},"151":{"start":{"line":304,"column":2},"end":{"line":304,"column":47}},"152":{"start":{"line":307,"column":0},"end":{"line":310,"column":1}},"153":{"start":{"line":308,"column":2},"end":{"line":308,"column":39}},"154":{"start":{"line":309,"column":2},"end":{"line":309,"column":31}},"155":{"start":{"line":312,"column":0},"end":{"line":314,"column":1}},"156":{"start":{"line":313,"column":2},"end":{"line":313,"column":30}},"157":{"start":{"line":316,"column":0},"end":{"line":321,"column":1}},"158":{"start":{"line":317,"column":2},"end":{"line":319,"column":3}},"159":{"start":{"line":318,"column":4},"end":{"line":318,"column":23}},"160":{"start":{"line":320,"column":2},"end":{"line":320,"column":58}},"161":{"start":{"line":323,"column":0},"end":{"line":332,"column":1}},"162":{"start":{"line":324,"column":2},"end":{"line":326,"column":3}},"163":{"start":{"line":325,"column":4},"end":{"line":325,"column":12}},"164":{"start":{"line":327,"column":2},"end":{"line":331,"column":3}},"165":{"start":{"line":334,"column":0},"end":{"line":337,"column":1}},"166":{"start":{"line":335,"column":2},"end":{"line":335,"column":67}},"167":{"start":{"line":336,"column":2},"end":{"line":336,"column":33}},"168":{"start":{"line":339,"column":0},"end":{"line":346,"column":1}},"169":{"start":{"line":340,"column":2},"end":{"line":340,"column":36}},"170":{"start":{"line":341,"column":2},"end":{"line":341,"column":38}},"171":{"start":{"line":342,"column":2},"end":{"line":342,"column":42}},"172":{"start":{"line":343,"column":2},"end":{"line":343,"column":48}},"173":{"start":{"line":344,"column":2},"end":{"line":344,"column":43}},"174":{"start":{"line":345,"column":2},"end":{"line":345,"column":33}}},"branchMap":{"1":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":31},"end":{"line":22,"column":37}},{"start":{"line":22,"column":40},"end":{"line":22,"column":42}}]},"2":{"line":75,"type":"cond-expr","locations":[{"start":{"line":75,"column":45},"end":{"line":75,"column":56}},{"start":{"line":75,"column":59},"end":{"line":75,"column":63}}]},"3":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":22},"end":{"line":93,"column":5}},{"start":{"line":93,"column":8},"end":{"line":93,"column":12}}]},"4":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":2},"end":{"line":102,"column":2}},{"start":{"line":102,"column":2},"end":{"line":102,"column":2}}]},"5":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":9},"end":{"line":106,"column":9}},{"start":{"line":106,"column":9},"end":{"line":106,"column":9}}]},"6":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":4},"end":{"line":107,"column":4}},{"start":{"line":107,"column":4},"end":{"line":107,"column":4}}]},"7":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":6},"end":{"line":109,"column":6}},{"start":{"line":109,"column":6},"end":{"line":109,"column":6}}]},"8":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":11},"end":{"line":113,"column":11}},{"start":{"line":113,"column":11},"end":{"line":113,"column":11}}]},"9":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":6},"end":{"line":115,"column":6}},{"start":{"line":115,"column":6},"end":{"line":115,"column":6}}]},"10":{"line":130,"type":"cond-expr","locations":[{"start":{"line":130,"column":51},"end":{"line":130,"column":78}},{"start":{"line":130,"column":81},"end":{"line":130,"column":83}}]},"11":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":136,"column":4}},{"start":{"line":136,"column":4},"end":{"line":136,"column":4}}]},"12":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":19},"end":{"line":145,"column":39}},{"start":{"line":145,"column":43},"end":{"line":145,"column":55}}]},"13":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":14},"end":{"line":163,"column":30}},{"start":{"line":163,"column":34},"end":{"line":163,"column":41}}]},"14":{"line":176,"type":"if","locations":[{"start":{"line":176,"column":2},"end":{"line":176,"column":2}},{"start":{"line":176,"column":2},"end":{"line":176,"column":2}}]},"15":{"line":176,"type":"binary-expr","locations":[{"start":{"line":176,"column":6},"end":{"line":176,"column":24}},{"start":{"line":176,"column":29},"end":{"line":176,"column":38}},{"start":{"line":176,"column":42},"end":{"line":176,"column":65}}]},"16":{"line":178,"type":"if","locations":[{"start":{"line":178,"column":4},"end":{"line":178,"column":4}},{"start":{"line":178,"column":4},"end":{"line":178,"column":4}}]},"17":{"line":178,"type":"binary-expr","locations":[{"start":{"line":178,"column":8},"end":{"line":178,"column":15}},{"start":{"line":178,"column":19},"end":{"line":178,"column":29}},{"start":{"line":178,"column":33},"end":{"line":178,"column":45}}]},"18":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":2},"end":{"line":192,"column":2}},{"start":{"line":192,"column":2},"end":{"line":192,"column":2}}]},"19":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":2},"end":{"line":196,"column":2}},{"start":{"line":196,"column":2},"end":{"line":196,"column":2}}]},"20":{"line":205,"type":"if","locations":[{"start":{"line":205,"column":2},"end":{"line":205,"column":2}},{"start":{"line":205,"column":2},"end":{"line":205,"column":2}}]},"21":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":4},"end":{"line":207,"column":4}},{"start":{"line":207,"column":4},"end":{"line":207,"column":4}}]},"22":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":8},"end":{"line":207,"column":17}},{"start":{"line":207,"column":21},"end":{"line":207,"column":32}}]},"23":{"line":213,"type":"if","locations":[{"start":{"line":213,"column":6},"end":{"line":213,"column":6}},{"start":{"line":213,"column":6},"end":{"line":213,"column":6}}]},"24":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":8},"end":{"line":226,"column":8}},{"start":{"line":226,"column":8},"end":{"line":226,"column":8}}]},"25":{"line":226,"type":"binary-expr","locations":[{"start":{"line":226,"column":12},"end":{"line":226,"column":25}},{"start":{"line":226,"column":29},"end":{"line":226,"column":50}},{"start":{"line":226,"column":54},"end":{"line":226,"column":75}}]},"26":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":6},"end":{"line":231,"column":6}},{"start":{"line":231,"column":6},"end":{"line":231,"column":6}}]},"27":{"line":242,"type":"if","locations":[{"start":{"line":242,"column":9},"end":{"line":242,"column":9}},{"start":{"line":242,"column":9},"end":{"line":242,"column":9}}]},"28":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":2},"end":{"line":264,"column":2}},{"start":{"line":264,"column":2},"end":{"line":264,"column":2}}]},"29":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":6},"end":{"line":264,"column":15}},{"start":{"line":264,"column":19},"end":{"line":264,"column":24}},{"start":{"line":264,"column":28},"end":{"line":264,"column":39}}]},"30":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":4},"end":{"line":266,"column":4}},{"start":{"line":266,"column":4},"end":{"line":266,"column":4}}]},"31":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":6},"end":{"line":267,"column":6}},{"start":{"line":267,"column":6},"end":{"line":267,"column":6}}]},"32":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":2},"end":{"line":282,"column":2}},{"start":{"line":282,"column":2},"end":{"line":282,"column":2}}]},"33":{"line":282,"type":"binary-expr","locations":[{"start":{"line":282,"column":6},"end":{"line":282,"column":10}},{"start":{"line":282,"column":14},"end":{"line":282,"column":19}},{"start":{"line":282,"column":23},"end":{"line":282,"column":35}}]},"34":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":6},"end":{"line":285,"column":6}},{"start":{"line":285,"column":6},"end":{"line":285,"column":6}}]},"35":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":2},"end":{"line":317,"column":2}},{"start":{"line":317,"column":2},"end":{"line":317,"column":2}}]},"36":{"line":324,"type":"if","locations":[{"start":{"line":324,"column":2},"end":{"line":324,"column":2}},{"start":{"line":324,"column":2},"end":{"line":324,"column":2}}]},"37":{"line":335,"type":"binary-expr","locations":[{"start":{"line":335,"column":18},"end":{"line":335,"column":33}},{"start":{"line":335,"column":37},"end":{"line":335,"column":67}}]},"38":{"line":343,"type":"binary-expr","locations":[{"start":{"line":343,"column":2},"end":{"line":343,"column":22}},{"start":{"line":343,"column":26},"end":{"line":343,"column":48}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","var MPE = require('lib/mouse-position-event')","var MouseDragEvent = require('lib/mouse-drag-event')","var nextTick = require('next-tick')","var getBaseName = require('path').basename","var GridStateHook = require('./grid-state-hook.js')","var read = require('lib/read')","var extend = require('xtend')","var Thunk = require('vdom-thunk')","","var QueryParam = require('lib/query-param')","","module.exports = function renderGrid (controller) {","  var context = controller.context","  var setup = context.setup","  var chunks = getChunks(controller)","  var playback = controller.playback","  var shape = playback.shape()","","  return h('LoopGrid', {","    className: shape[1] > 16 ? '-min' : '',","    'ev-dragover': MPE(dragOver, controller),","    'ev-drop': MPE(drop, controller),","    'ev-dragleave': MPE(dragLeave, controller),","    'ev-dragenter': MPE(dragEnter, controller)","  }, [","    Thunk(renderRows, controller, shape[0], shape[1]),","    h('div.chunks', chunks.map(function (chunk) {","      return renderChunkBlock(chunk, controller)","    }))","  ])","}","","function renderRows (controller, rows, cols) {","  var children = []","  for (var r = 0; r < rows; r++) {","    var buttons = []","    for (var c = 0; c < cols; c++) {","      buttons.push(h('div.button', {","        'ev-dragenter': MPE(enterButton, controller),","        'ev-dragleave': MPE(leaveButton, controller)","      }))","    }","    children.push(h('div.row', buttons))","  }","  return h('div.rows', {'ev-state': GridStateHook(controller.gridState)}, children)","}","","function renderChunkBlock(chunk, controller){","  var setup = controller.context.setup","  var shape = controller.playback.shape()","","  var selectedChunkId = setup.selectedChunkId()","  var box = {","    top: chunk.origin[0] / shape[0],","    bottom: (chunk.origin[0] + chunk.shape[0]) / shape[0],","    left: chunk.origin[1] / shape[1],","    right: (chunk.origin[1] + chunk.shape[1]) / shape[1]","  }","","  var style = {","    'top': percent(box.top),","    'height': percent(box.bottom - box.top),","    'left': percent(box.left),","    'width': percent(box.right - box.left),","    'border-color': color(chunk.color, 1),","    'background-color': color(chunk.color, 0.1),","    'color': color(mixColor(chunk.color, [255,255,255]),1)","  }","","  var node = setup.chunks.lookup.get(chunk.id)","","  return h('div.chunk', {","    className: selectedChunkId == chunk.id ? '-selected' : null,","    style: style,","    draggable: true,","    'ev-click': send(selectChunk, { chunkId: chunk.id, controller: controller }),","    'ev-dblclick': send(toggleChunk, node),","    'ev-dragstart': MPE(startDrag, node),","    'ev-dragend': MPE(endDrag, node)","  },[","    h('span.label', chunk.id),","    chunk.resizable ? [","      h('div.handle -bottom', {","        draggable: true,","        'ev-mousedown': MouseDragEvent(resize, { edge: 'bottom', node: node, shape: shape })","      }),","      h('div.handle -right', {","        draggable: true,","        'ev-mousedown': MouseDragEvent(resize, { edge: 'right', node: node, shape: shape })","      })","    ] : null","  ])","}","","function resize(ev){","  var edge = this.data.edge","  var node = this.data.node","  var shape = this.data.shape","","  if (ev.type === 'mousedown'){","    this.lastOffset = 0","    this.startValue = QueryParam(node, 'shape').read()","    this.start = ev","  } else if (this.start) {","    if (edge === 'bottom'){","      var offset = Math.round((ev.y - this.start.y) / 30)","      if (this.lastOffset !== offset){","        QueryParam(node, 'shape').set([ clamp1(this.startValue[0]+offset), this.startValue[1] ])","        this.lastOffset = offset","      }","    } else if (edge === 'right'){","      var offset = Math.round((ev.x - this.start.x) / (248 / shape[1]))","      if (this.lastOffset !== offset){","        QueryParam(node, 'shape').set([ this.startValue[0], clamp1(this.startValue[1]+offset) ])","        this.lastOffset = offset","      }","    }","  }","","}","","function clamp1(val){","  return Math.max(val, 1)","}","","function getChunks(controller){","  var context = controller.context","  var chunkPositions = controller.chunkPositions ? controller.chunkPositions() : {}","  var chunks = []","  for (var k in chunkPositions){","","    var chunk = context.chunkLookup.get(k)","","    if (chunk){","      var data = chunk()","      chunks.push({","        id: data.id,","        color: data.color,","        shape: data.shape,","        origin: chunkPositions[k],","","        // HACK: find a better way to detect/set this","        resizable: !!chunk.templateSlot || !chunk.slots","","      })","    }","","  }","  return chunks","}","","function enterButton(ev) {","  ev.currentTarget.classList.add('-dragOver')","}","","function leaveButton(ev) {","  ev.currentTarget.classList.remove('-dragOver')","}","","function startDrag (ev) {","  var node = (ev.data.resolved || ev.data)()","  ev.dataTransfer.setData('loop-drop/' + node.node.split('/')[0], JSON.stringify(node))","  window.currentDrag = ev","}","","function endDrag(ev){","  window.currentDrag = null","}","","var cloneDrag = null","var entering = null","function dragLeave(ev){","  var controller = ev.data","  if (window.currentDrag && (!entering || entering !== controller)){","    var chunkId = getId(currentDrag.data)","    if (chunkId && !ev.altKey && !ev.shiftKey){","      controller.chunkPositions.delete(chunkId)","    }","  }","}","function dragEnter(ev){","  entering = ev.data","","  setTimeout(function(){","    entering = null","  }, 1)","}","","function getId(chunk){","  if (typeof chunk== 'function'){","    chunk = chunk()","  }","","  if (chunk){","    return chunk.id","  }","}","","function dragOver(ev){","  var controller = ev.data","  var currentDrag = window.currentDrag","","  if (currentDrag){","","    if (ev.altKey || ev.shiftKey) {","      cloneDrag = currentDrag","      ev.dataTransfer.dropEffect = 'copy'","    } else {","      var chunkId = getId(currentDrag.data)","","      if (chunkId){","        var shape = controller.playback.shape()","        var height = ev.offsetHeight / shape[0]","        var width = ev.offsetWidth / shape[1]","","        var x = ev.offsetX - currentDrag.offsetX","        var y = ev.offsetY - currentDrag.offsetY","","        var r = Math.round(y/width)","        var c = Math.round(x/width)","","        var currentValue = controller.chunkPositions.get(chunkId)","","        if (!currentValue || currentValue[0] !== r || currentValue[1] !== c){","          controller.chunkPositions.put(chunkId, [r,c])","        }","      }","","      if (ev.dataTransfer.types.length) {","        // HACK: detect when dragging from chunks - prevent remove","        // need to rewrite all the drag and drop to be native, without currentDrag hacks","        ev.dataTransfer.dropEffect = 'link'","      } else {","        ev.dataTransfer.dropEffect = 'move'","      }","      cloneDrag = null","    }","","    ev.event.preventDefault()","  } else if (~ev.dataTransfer.types.indexOf('filepath')){","    ev.dataTransfer.dropEffect = 'copy'","    ev.event.preventDefault()","  }","}","","function drop(ev){","  var path = ev.dataTransfer.getData('filepath')","  var controller = ev.data","  var actions = controller.context.actions","  var setup = controller.context.setup","  var fileObject = setup.context.fileObject","","  var shape = controller.playback.shape()","  var height = ev.offsetHeight / shape[0]","  var width = ev.offsetWidth / shape[1]","  var r = Math.floor(ev.offsetY/height)","  var c = Math.floor(ev.offsetX/width)","","  var currentDrag = cloneDrag","  cloneDrag = null","","  if (ev.altKey && !path && currentDrag) {","    var data = currentDrag.data()","    if (data) {","      if (data.node === 'external') {","        // duplicate external file","        path = fileObject.resolvePath(data.src)","      } else {","        // duplicate local chunk","        var id = setup.chunks.resolveAvailable(data.id)","        var chunk = setup.chunks.push(extend(data, {","          id: id","        }))","        controller.chunkPositions.put(id, [r,c])","        return","      }","    }","  }","","  if (path && setup && setup.chunks){","","    actions.importChunk(path, setup.context.cwd, function(err, newPath) {","      if (err) throw err","","      var id = getBaseName(newPath, '.json')","      setup.chunks.push({","        'node': 'external',","        'id': id,","        'src': fileObject.relative(newPath),","        'minimised': true,","        'routes': {output: '$default'},","        'scale': '$global'","      })","","      controller.chunkPositions.put(id, [r,c])","    })","","  }","}","","function getElementMouseOffset(offsetX, offsetY, clientX, clientY){","  return [clientX - offsetX, clientY - offsetY]","}","","function getOffset(start, end, size){","  var difference = (end - start) / size","  return Math.round(difference)","}","","function percent(decimal){","  return (decimal * 100) + '%'","}","","function color(rgb, a){","  if (!Array.isArray(rgb)){","    rgb = [100,100,100]","  }","  return 'rgba(' + rgb[0] +','+rgb[1]+','+rgb[2]+','+a+')'","}","","function mixColor(a, b){","  if (!Array.isArray(a)){","    return b","  }","  return [","    (a[0] + a[0] + b[0]) / 3,","    (a[1] + a[0] + b[1]) / 3,","    (a[2] + a[0] + b[2]) / 3","  ]","}","","function toggleChunk(chunk){","  var minimised = chunk.minimised || QueryParam(chunk, 'minimised')","  minimised.set(!read(minimised))","}","","function selectChunk(target){","  var controller = target.controller","  var setup = controller.context.setup","  var actions = controller.context.actions","  controller.grabInput && controller.grabInput()","  setup.selectedChunkId.set(target.chunkId)","  actions.scrollToSelectedChunk()","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"12":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"30":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"45":0,"47":0,"50":1,"51":0,"52":0,"54":0,"55":0,"62":0,"72":0,"74":0,"97":1,"98":0,"99":0,"100":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"113":0,"114":0,"115":0,"116":0,"117":0,"124":1,"125":0,"128":1,"129":0,"130":0,"131":0,"132":0,"134":0,"136":0,"137":0,"138":0,"151":0,"154":1,"155":0,"158":1,"159":0,"162":1,"163":0,"164":0,"165":0,"168":1,"169":0,"172":1,"173":1,"174":1,"175":0,"176":0,"177":0,"178":0,"179":0,"183":1,"184":0,"186":0,"187":0,"191":1,"192":0,"193":0,"196":0,"197":0,"201":1,"202":0,"203":0,"205":0,"207":0,"208":0,"209":0,"211":0,"213":0,"214":0,"215":0,"216":0,"218":0,"219":0,"221":0,"222":0,"224":0,"226":0,"227":0,"231":0,"234":0,"236":0,"238":0,"241":0,"242":0,"243":0,"244":0,"248":1,"249":0,"250":0,"251":0,"252":0,"253":0,"255":0,"256":0,"257":0,"258":0,"259":0,"261":0,"262":0,"264":0,"265":0,"266":0,"267":0,"269":0,"272":0,"273":0,"276":0,"277":0,"282":0,"284":0,"285":0,"287":0,"288":0,"297":0,"303":1,"304":0,"307":1,"308":0,"309":0,"312":1,"313":0,"316":1,"317":0,"318":0,"320":0,"323":1,"324":0,"325":0,"327":0,"334":1,"335":0,"336":0,"339":1,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/grid-state-hook.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/grid-state-hook.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"GridStateHook","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":33}}},"2":{"name":"updateRows","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":25}}},"3":{"name":"(anonymous_3)","line":36,"loc":{"start":{"line":36,"column":31},"end":{"line":36,"column":57}}},"4":{"name":"(anonymous_4)","line":41,"loc":{"start":{"line":41,"column":15},"end":{"line":41,"column":25}}},"5":{"name":"(anonymous_5)","line":48,"loc":{"start":{"line":48,"column":33},"end":{"line":48,"column":59}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":30}},"4":{"start":{"line":6,"column":0},"end":{"line":9,"column":1}},"5":{"start":{"line":7,"column":2},"end":{"line":7,"column":75}},"6":{"start":{"line":7,"column":40},"end":{"line":7,"column":75}},"7":{"start":{"line":8,"column":2},"end":{"line":8,"column":28}},"8":{"start":{"line":11,"column":0},"end":{"line":34,"column":1}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":17}},"10":{"start":{"line":13,"column":2},"end":{"line":13,"column":28}},"11":{"start":{"line":14,"column":2},"end":{"line":14,"column":26}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":30}},"13":{"start":{"line":16,"column":2},"end":{"line":16,"column":32}},"14":{"start":{"line":18,"column":2},"end":{"line":33,"column":3}},"15":{"start":{"line":19,"column":4},"end":{"line":32,"column":5}},"16":{"start":{"line":20,"column":6},"end":{"line":20,"column":51}},"17":{"start":{"line":21,"column":6},"end":{"line":21,"column":29}},"18":{"start":{"line":23,"column":6},"end":{"line":23,"column":51}},"19":{"start":{"line":23,"column":29},"end":{"line":23,"column":51}},"20":{"start":{"line":24,"column":6},"end":{"line":24,"column":50}},"21":{"start":{"line":24,"column":28},"end":{"line":24,"column":50}},"22":{"start":{"line":25,"column":6},"end":{"line":25,"column":54}},"23":{"start":{"line":25,"column":30},"end":{"line":25,"column":54}},"24":{"start":{"line":26,"column":6},"end":{"line":26,"column":48}},"25":{"start":{"line":26,"column":27},"end":{"line":26,"column":48}},"26":{"start":{"line":29,"column":6},"end":{"line":31,"column":7}},"27":{"start":{"line":30,"column":8},"end":{"line":30,"column":34}},"28":{"start":{"line":36,"column":0},"end":{"line":46,"column":1}},"29":{"start":{"line":37,"column":2},"end":{"line":37,"column":17}},"30":{"start":{"line":38,"column":2},"end":{"line":45,"column":3}},"31":{"start":{"line":39,"column":4},"end":{"line":39,"column":48}},"32":{"start":{"line":40,"column":4},"end":{"line":44,"column":5}},"33":{"start":{"line":41,"column":6},"end":{"line":43,"column":8}},"34":{"start":{"line":42,"column":8},"end":{"line":42,"column":74}},"35":{"start":{"line":48,"column":0},"end":{"line":54,"column":1}},"36":{"start":{"line":49,"column":2},"end":{"line":53,"column":3}},"37":{"start":{"line":50,"column":4},"end":{"line":50,"column":45}},"38":{"start":{"line":52,"column":4},"end":{"line":52,"column":48}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":6},"end":{"line":25,"column":6}},{"start":{"line":25,"column":6},"end":{"line":25,"column":6}}]},"5":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":6},"end":{"line":26,"column":6}},{"start":{"line":26,"column":6},"end":{"line":26,"column":6}}]},"6":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":6},"end":{"line":29,"column":6}},{"start":{"line":29,"column":6},"end":{"line":29,"column":6}}]},"7":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]},"8":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":6},"end":{"line":38,"column":11}},{"start":{"line":38,"column":15},"end":{"line":38,"column":48}}]},"9":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":4},"end":{"line":39,"column":23}},{"start":{"line":39,"column":27},"end":{"line":39,"column":48}}]},"10":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":4},"end":{"line":40,"column":4}},{"start":{"line":40,"column":4},"end":{"line":40,"column":4}}]},"11":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":2},"end":{"line":49,"column":2}},{"start":{"line":49,"column":2},"end":{"line":49,"column":2}}]},"12":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":23}},{"start":{"line":52,"column":27},"end":{"line":52,"column":48}}]}},"code":["var watch = require('observ/watch')","var nextTick = require('next-tick')","","module.exports = GridStateHook","","function GridStateHook(gridState){","  if (!(this instanceof GridStateHook)) return new GridStateHook(gridState)","  this.gridState = gridState","}","","function updateRows(data){","  var node = this","  var playing = data.playing","  var active = data.active","  var triggers = data.triggers","  var recording = data.recording","","  for (var r=0;r<triggers.shape[0];r++){","    for (var c=0;c<triggers.shape[1];c++){","      var button = node.childNodes[r].childNodes[c]","      var classes = '.button'","","      if (triggers.get(r,c)) classes += ' -present'","      if (playing.get(r,c)) classes += ' -playing'","      if (recording.get(r,c)) classes += ' -recording'","      if (active.get(r,c)) classes += ' -active'","      //if (buttonState.noRepeat) classes += ' -noRepeat'","    ","      if (button.className !== classes){","        button.className = classes","      }","    }","  }","}","","GridStateHook.prototype.hook = function(node, prop, prev){","  var self = this","  if (!prev || prev.gridState !== self.gridState){","    self.removeListener && self.removeListener()","    if (self.gridState){","      nextTick(function(){","        self.removeListener = watch(self.gridState, updateRows.bind(node))","      })","    }","  }","}","","GridStateHook.prototype.unhook = function(node, prop, next){","  if (next){","    next.removeListener = this.removeListener","  } else {","    this.removeListener && this.removeListener()","  }","}"],"l":{"1":1,"2":1,"4":1,"6":1,"7":0,"8":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"26":0,"29":0,"30":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"48":1,"49":0,"50":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/apply-color-filter.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/apply-color-filter.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"applyColorFilter","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}}},"2":{"name":"computeMapGridValues","line":12,"loc":{"start":{"line":12,"column":35},"end":{"line":12,"column":81}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":36},"end":{"line":13,"column":56}}},"4":{"name":"multiply","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":31}}},"5":{"name":"clamp","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":23}}},"6":{"name":"add","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":26}}},"7":{"name":"saturate","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":31}}},"8":{"name":"getLum","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":22}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":33}},"5":{"start":{"line":7,"column":0},"end":{"line":30,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":40}},"7":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"8":{"start":{"line":10,"column":4},"end":{"line":10,"column":25}},"9":{"start":{"line":12,"column":2},"end":{"line":29,"column":4}},"10":{"start":{"line":13,"column":4},"end":{"line":28,"column":20}},"11":{"start":{"line":14,"column":6},"end":{"line":27,"column":7}},"12":{"start":{"line":15,"column":8},"end":{"line":17,"column":9}},"13":{"start":{"line":16,"column":10},"end":{"line":16,"column":51}},"14":{"start":{"line":18,"column":8},"end":{"line":20,"column":9}},"15":{"start":{"line":19,"column":10},"end":{"line":19,"column":41}},"16":{"start":{"line":21,"column":8},"end":{"line":23,"column":9}},"17":{"start":{"line":22,"column":10},"end":{"line":22,"column":51}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":68}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":19}},"20":{"start":{"line":32,"column":0},"end":{"line":41,"column":1}},"21":{"start":{"line":33,"column":2},"end":{"line":35,"column":3}},"22":{"start":{"line":34,"column":4},"end":{"line":34,"column":33}},"23":{"start":{"line":36,"column":2},"end":{"line":40,"column":3}},"24":{"start":{"line":43,"column":0},"end":{"line":47,"column":1}},"25":{"start":{"line":44,"column":2},"end":{"line":44,"column":29}},"26":{"start":{"line":44,"column":19},"end":{"line":44,"column":29}},"27":{"start":{"line":45,"column":2},"end":{"line":45,"column":25}},"28":{"start":{"line":45,"column":17},"end":{"line":45,"column":25}},"29":{"start":{"line":46,"column":2},"end":{"line":46,"column":14}},"30":{"start":{"line":49,"column":0},"end":{"line":58,"column":1}},"31":{"start":{"line":50,"column":2},"end":{"line":52,"column":3}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":33}},"33":{"start":{"line":53,"column":2},"end":{"line":57,"column":3}},"34":{"start":{"line":60,"column":0},"end":{"line":67,"column":1}},"35":{"start":{"line":61,"column":2},"end":{"line":61,"column":24}},"36":{"start":{"line":62,"column":2},"end":{"line":66,"column":3}},"37":{"start":{"line":69,"column":0},"end":{"line":71,"column":1}},"38":{"start":{"line":70,"column":2},"end":{"line":70,"column":60}}},"branchMap":{"1":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":15},"end":{"line":8,"column":22}},{"start":{"line":8,"column":26},"end":{"line":8,"column":40}}]},"2":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":9,"column":2}},{"start":{"line":9,"column":2},"end":{"line":9,"column":2}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":6},"end":{"line":14,"column":6}},{"start":{"line":14,"column":6},"end":{"line":14,"column":6}}]},"4":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":10},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":43},"end":{"line":14,"column":58}}]},"5":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]},"6":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"7":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"8":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":33,"column":2}},{"start":{"line":33,"column":2},"end":{"line":33,"column":2}}]},"9":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":2},"end":{"line":44,"column":2}},{"start":{"line":44,"column":2},"end":{"line":44,"column":2}}]},"10":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":2},"end":{"line":45,"column":2}},{"start":{"line":45,"column":2},"end":{"line":45,"column":2}}]},"11":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":2},"end":{"line":50,"column":2}},{"start":{"line":50,"column":2},"end":{"line":50,"column":2}}]}},"code":["var computed = require('observ/computed')","var ArrayGrid = require('array-grid')","var Observ = require('observ-default')","","module.exports = applyColorFilter","","function applyColorFilter (input, options) {","  var active = options && options.active","  if (typeof active !== 'function') {","    active = Observ(true)","  }","  return computed([input, active], function computeMapGridValues (input, active) {","    return ArrayGrid(input.data.map(function (value, i) {","      if (active.data && active.data[i] || active === true) {","        if (options.saturate != null) {","          value = saturate(value, options.saturate)","        }","        if (options.add != null) {","          value = add(value, options.add)","        }","        if (options.multiply != null) {","          value = multiply(value, options.multiply)","        }","        return [ clamp(value[0]), clamp(value[1]), clamp(value[2]) ]","      } else {","        return null","      }","    }), input.shape)","  })","}","","function multiply (rgb, value) {","  if (typeof value === 'number') {","    value = [value, value, value]","  }","  return [","    rgb[0] * value[0],","    rgb[1] * value[1],","    rgb[2] * value[2]","  ]","}","","function clamp (value) {","  if (value > 255) return 255","  if (value < 0) return 0","  return value","}","","function add (rgb, value) {","  if (typeof value === 'number') {","    value = [value, value, value]","  }","  return [","    rgb[0] + value[0],","    rgb[1] + value[1],","    rgb[2] + value[2]","  ]","}","","function saturate (rgb, value) {","  var gray = getLum(rgb)","  return [","    -gray * (value - 1) + rgb[0] * value,","    -gray * (value - 1) + rgb[1] * value,","    -gray * (value - 1) + rgb[2] * value","  ]","}","","function getLum (rgb) {","  return 0.2989 * rgb[0] + 0.5870 * rgb[1] + 0.1140 * rgb[2]","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"10":0,"12":0,"13":0,"14":0,"15":0,"16":0,"18":0,"19":0,"21":0,"22":0,"24":0,"26":0,"32":1,"33":0,"34":0,"36":0,"43":1,"44":0,"45":0,"46":0,"49":1,"50":0,"51":0,"53":0,"60":1,"61":0,"62":0,"69":1,"70":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/chunk-colors.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/chunk-colors.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":1,"35":0,"36":0,"37":1,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":0,"48":0,"49":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"ChunkColors","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":61}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":22},"end":{"line":11,"column":34}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":11},"end":{"line":15,"column":25}}},"4":{"name":"computeMapGridValues","line":21,"loc":{"start":{"line":21,"column":62},"end":{"line":21,"column":135}}},"5":{"name":"getChunkId","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":25}}},"6":{"name":"getLum","line":48,"loc":{"start":{"line":48,"column":0},"end":{"line":48,"column":22}}},"7":{"name":"multiply","line":51,"loc":{"start":{"line":51,"column":0},"end":{"line":51,"column":31}}},"8":{"name":"normalize","line":55,"loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":32}}},"9":{"name":"saturate","line":60,"loc":{"start":{"line":60,"column":0},"end":{"line":60,"column":31}}},"10":{"name":"clamp","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":23}}},"11":{"name":"notBlack","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":36}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":41}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":30}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}},"5":{"start":{"line":7,"column":0},"end":{"line":40,"column":1}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":28}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":18}},"8":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":25}},"10":{"start":{"line":15,"column":2},"end":{"line":19,"column":4}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":23}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":23}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":46}},"14":{"start":{"line":21,"column":2},"end":{"line":39,"column":4}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":37}},"16":{"start":{"line":23,"column":4},"end":{"line":37,"column":5}},"17":{"start":{"line":24,"column":6},"end":{"line":36,"column":7}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":56}},"19":{"start":{"line":26,"column":8},"end":{"line":26,"column":35}},"20":{"start":{"line":27,"column":8},"end":{"line":35,"column":9}},"21":{"start":{"line":28,"column":10},"end":{"line":28,"column":67}},"22":{"start":{"line":29,"column":10},"end":{"line":33,"column":11}},"23":{"start":{"line":30,"column":12},"end":{"line":30,"column":39}},"24":{"start":{"line":32,"column":12},"end":{"line":32,"column":41}},"25":{"start":{"line":34,"column":10},"end":{"line":34,"column":33}},"26":{"start":{"line":38,"column":4},"end":{"line":38,"column":17}},"27":{"start":{"line":42,"column":0},"end":{"line":46,"column":1}},"28":{"start":{"line":43,"column":2},"end":{"line":45,"column":3}},"29":{"start":{"line":44,"column":4},"end":{"line":44,"column":27}},"30":{"start":{"line":48,"column":0},"end":{"line":50,"column":1}},"31":{"start":{"line":49,"column":2},"end":{"line":49,"column":60}},"32":{"start":{"line":51,"column":0},"end":{"line":53,"column":1}},"33":{"start":{"line":52,"column":2},"end":{"line":52,"column":57}},"34":{"start":{"line":55,"column":0},"end":{"line":58,"column":1}},"35":{"start":{"line":56,"column":2},"end":{"line":56,"column":44}},"36":{"start":{"line":57,"column":2},"end":{"line":57,"column":42}},"37":{"start":{"line":60,"column":0},"end":{"line":67,"column":1}},"38":{"start":{"line":61,"column":2},"end":{"line":61,"column":24}},"39":{"start":{"line":62,"column":2},"end":{"line":66,"column":3}},"40":{"start":{"line":69,"column":0},"end":{"line":73,"column":1}},"41":{"start":{"line":70,"column":2},"end":{"line":70,"column":29}},"42":{"start":{"line":70,"column":19},"end":{"line":70,"column":29}},"43":{"start":{"line":71,"column":2},"end":{"line":71,"column":25}},"44":{"start":{"line":71,"column":17},"end":{"line":71,"column":25}},"45":{"start":{"line":72,"column":2},"end":{"line":72,"column":14}},"46":{"start":{"line":75,"column":0},"end":{"line":81,"column":1}},"47":{"start":{"line":76,"column":2},"end":{"line":80,"column":3}},"48":{"start":{"line":77,"column":4},"end":{"line":77,"column":19}},"49":{"start":{"line":79,"column":4},"end":{"line":79,"column":16}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"2":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":10},"end":{"line":29,"column":10}},{"start":{"line":29,"column":10},"end":{"line":29,"column":10}}]},"3":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":2},"end":{"line":43,"column":2}},{"start":{"line":43,"column":2},"end":{"line":43,"column":2}}]},"4":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":6},"end":{"line":43,"column":8}},{"start":{"line":43,"column":12},"end":{"line":43,"column":20}}]},"5":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":2},"end":{"line":70,"column":2}},{"start":{"line":70,"column":2},"end":{"line":70,"column":2}}]},"6":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":2},"end":{"line":71,"column":2}},{"start":{"line":71,"column":2},"end":{"line":71,"column":2}}]},"7":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"8":{"line":76,"type":"binary-expr","locations":[{"start":{"line":76,"column":6},"end":{"line":76,"column":12}},{"start":{"line":76,"column":17},"end":{"line":76,"column":31}},{"start":{"line":76,"column":35},"end":{"line":76,"column":49}},{"start":{"line":76,"column":53},"end":{"line":76,"column":67}}]}},"code":["var computed = require('observ/computed')","var ArrayGrid = require('array-grid')","var Observ = require('observ')","","module.exports = ChunkColors","","function ChunkColors (chunkLookup, selected, targets, shape) {","  var highlighted = Observ()","  var timer = null","","  highlighted.clear = function () {","    highlighted.set(null)","  }","","  selected(function (id) {","    clearTimeout(timer)","    highlighted.set(id)","    timer = setTimeout(highlighted.clear, 400)","  })","","  return computed([chunkLookup, targets, shape, highlighted], function computeMapGridValues (chunkLookup, targets, shape, highlighted) {","    var result = ArrayGrid([], shape)","    for (var r = 0; r < shape[0]; r++) {","      for (var c = 0; c < shape[1]; c++) {","        var id = getChunkId(targets[result.index(r, c)])","        var chunk = chunkLookup[id]","        if (chunk) {","          var color = saturate(notBlack(chunk.color, [5, 5, 5]), 2)","          if (highlighted === id) {","            color = normalize(color, 1)","          } else {","            color = normalize(color, 0.2)","          }","          result.set(r, c, color)","        }","      }","    }","    return result","  })","}","","function getChunkId (id) {","  if (id && id.split) {","    return id.split('/')[0]","  }","}","","function getLum (rgb) {","  return 0.2989 * rgb[0] + 0.5870 * rgb[1] + 0.1140 * rgb[2]","}","function multiply (rgb, value) {","  return [rgb[0] * value, rgb[1] * value, rgb[2] * value]","}","","function normalize (rgb, value) {","  var multiplier = (255 - getLum(rgb)) / 256","  return multiply(rgb, multiplier * value)","}","","function saturate (rgb, value) {","  var gray = getLum(rgb)","  return [","    clamp(-gray * (value - 1) + rgb[0] * value),","    clamp(-gray * (value - 1) + rgb[1] * value),","    clamp(-gray * (value - 1) + rgb[2] * value)","  ]","}","","function clamp (value) {","  if (value > 255) return 255","  if (value < 0) return 0","  return value","}","","function notBlack (color, fallback) {","  if (!color || (color[0] === 0 && color[1] === 0 && color[2] === 0)) {","    return fallback","  } else {","    return color","  }","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"7":1,"8":0,"9":0,"11":0,"12":0,"15":0,"16":0,"17":0,"18":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"34":0,"38":0,"42":1,"43":0,"44":0,"48":1,"49":0,"51":1,"52":0,"55":1,"56":0,"57":0,"60":1,"61":0,"62":0,"69":1,"70":0,"71":0,"72":0,"75":1,"76":0,"77":0,"79":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/set-lights.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad-mk2/set-lights.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":1,"41":0,"42":0,"43":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0,0,0,0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"setLights","line":8,"loc":{"start":{"line":8,"column":0},"end":{"line":8,"column":35}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":9},"end":{"line":10,"column":25}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":55}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":15},"end":{"line":35,"column":32}}},"5":{"name":"format","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":24}}},"6":{"name":"same","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":26}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":19}},"5":{"start":{"line":8,"column":0},"end":{"line":59,"column":1}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":23}},"7":{"start":{"line":10,"column":2},"end":{"line":34,"column":4}},"8":{"start":{"line":11,"column":4},"end":{"line":33,"column":5}},"9":{"start":{"line":12,"column":6},"end":{"line":12,"column":23}},"10":{"start":{"line":13,"column":6},"end":{"line":13,"column":22}},"11":{"start":{"line":15,"column":6},"end":{"line":23,"column":8}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":34}},"13":{"start":{"line":17,"column":8},"end":{"line":17,"column":42}},"14":{"start":{"line":18,"column":8},"end":{"line":22,"column":9}},"15":{"start":{"line":19,"column":10},"end":{"line":19,"column":75}},"16":{"start":{"line":21,"column":10},"end":{"line":21,"column":34}},"17":{"start":{"line":24,"column":6},"end":{"line":29,"column":7}},"18":{"start":{"line":25,"column":8},"end":{"line":25,"column":63}},"19":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"20":{"start":{"line":27,"column":10},"end":{"line":27,"column":62}},"21":{"start":{"line":30,"column":6},"end":{"line":32,"column":7}},"22":{"start":{"line":31,"column":8},"end":{"line":31,"column":49}},"23":{"start":{"line":35,"column":2},"end":{"line":58,"column":4}},"24":{"start":{"line":36,"column":4},"end":{"line":36,"column":21}},"25":{"start":{"line":37,"column":4},"end":{"line":37,"column":20}},"26":{"start":{"line":39,"column":4},"end":{"line":51,"column":5}},"27":{"start":{"line":40,"column":6},"end":{"line":50,"column":7}},"28":{"start":{"line":41,"column":8},"end":{"line":41,"column":41}},"29":{"start":{"line":42,"column":8},"end":{"line":49,"column":9}},"30":{"start":{"line":43,"column":10},"end":{"line":43,"column":61}},"31":{"start":{"line":44,"column":10},"end":{"line":48,"column":11}},"32":{"start":{"line":45,"column":12},"end":{"line":45,"column":77}},"33":{"start":{"line":47,"column":12},"end":{"line":47,"column":36}},"34":{"start":{"line":52,"column":4},"end":{"line":54,"column":5}},"35":{"start":{"line":53,"column":6},"end":{"line":53,"column":48}},"36":{"start":{"line":55,"column":4},"end":{"line":57,"column":5}},"37":{"start":{"line":56,"column":6},"end":{"line":56,"column":49}},"38":{"start":{"line":61,"column":0},"end":{"line":63,"column":1}},"39":{"start":{"line":62,"column":2},"end":{"line":62,"column":30}},"40":{"start":{"line":65,"column":0},"end":{"line":71,"column":1}},"41":{"start":{"line":66,"column":2},"end":{"line":70,"column":3}},"42":{"start":{"line":67,"column":4},"end":{"line":67,"column":15}},"43":{"start":{"line":69,"column":4},"end":{"line":69,"column":108}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":18},"end":{"line":17,"column":35}},{"start":{"line":17,"column":39},"end":{"line":17,"column":42}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":8},"end":{"line":18,"column":8}},{"start":{"line":18,"column":8},"end":{"line":18,"column":8}}]},"4":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"5":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"6":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":6},"end":{"line":30,"column":6}},{"start":{"line":30,"column":6},"end":{"line":30,"column":6}}]},"7":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":8},"end":{"line":42,"column":8}},{"start":{"line":42,"column":8},"end":{"line":42,"column":8}}]},"8":{"line":43,"type":"binary-expr","locations":[{"start":{"line":43,"column":39},"end":{"line":43,"column":54}},{"start":{"line":43,"column":58},"end":{"line":43,"column":61}}]},"9":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":10},"end":{"line":44,"column":10}},{"start":{"line":44,"column":10},"end":{"line":44,"column":10}}]},"10":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"11":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":4},"end":{"line":55,"column":4}},{"start":{"line":55,"column":4},"end":{"line":55,"column":4}}]},"12":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":2},"end":{"line":66,"column":2}},{"start":{"line":66,"column":2},"end":{"line":66,"column":2}}]},"13":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":6},"end":{"line":66,"column":15}},{"start":{"line":66,"column":19},"end":{"line":66,"column":28}}]},"14":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":19}},{"start":{"line":69,"column":25},"end":{"line":69,"column":46}},{"start":{"line":69,"column":50},"end":{"line":69,"column":51}},{"start":{"line":69,"column":55},"end":{"line":69,"column":56}},{"start":{"line":69,"column":60},"end":{"line":69,"column":73}},{"start":{"line":69,"column":77},"end":{"line":69,"column":90}},{"start":{"line":69,"column":94},"end":{"line":69,"column":107}}]}},"code":["module.exports = setLights","","var setRgb = [240, 0, 32, 41, 2, 24, 11]","var setPulse = [240, 0, 32, 41, 2, 24, 40]","","var off = [0, 0, 0]","","function setLights (state, stream) {","  var currentState = {}","  stream(function (port) {","    if (port) {","      var toUpdate = []","      var toPulse = []","","      Object.keys(currentState).forEach(function (key) {","        var id = parseInt(key, 10)","        var rgb = currentState[key] || off","        if (Array.isArray(rgb)) {","          toUpdate.push(id, format(rgb[0]), format(rgb[1]), format(rgb[2]))","        } else {","          toPulse.push(0, id, rgb)","        }","      })","      if (toUpdate.length) {","        stream.write(setRgb.concat(toUpdate.slice(0, 64), 247))","        if (toUpdate.length > 64) {","          stream.write(setRgb.concat(toUpdate.slice(64), 247))","        }","      }","      if (toPulse.length) {","        stream.write(setRgb.concat(toPulse, 247))","      }","    }","  })","  return state(function (value) {","    var toUpdate = []","    var toPulse = []","","    for (var r = 0; r < value.shape[0]; r++) {","      for (var c = 0; c < value.shape[1]; c++) {","        var id = ((8 - r) * 10) + (c + 1)","        if (!same(currentState[id], value.get(r, c))) {","          var rgb = currentState[id] = value.get(r, c) || off","          if (Array.isArray(rgb)) {","            toUpdate.push(id, format(rgb[0]), format(rgb[1]), format(rgb[2]))","          } else {","            toPulse.push(0, id, rgb)","          }","        }","      }","    }","    if (toUpdate.length) {","      stream.write(setRgb.concat(toUpdate, 247))","    }","    if (toPulse.length) {","      stream.write(setPulse.concat(toPulse, 247))","    }","  })","}","","function format (value) {","  return Math.floor(value / 4)","}","","function same (a, b) {","  if (a == null && b == null) {","    return true","  } else {","    return (a === b) || (typeof a !== 'number' && a && b && a[0] === b[0] && a[1] === b[1] && a[2] === b[2])","  }","}",""],"l":{"1":1,"3":1,"4":1,"6":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"19":0,"21":0,"24":0,"25":0,"26":0,"27":0,"30":0,"31":0,"35":0,"36":0,"37":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"47":0,"52":0,"53":0,"55":0,"56":0,"61":1,"62":0,"65":1,"66":0,"67":0,"69":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad/state-lights.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-launchpad/state-lights.js","s":{"1":1,"2":10,"3":4,"4":10,"5":0,"6":10,"7":3,"8":10,"9":0,"10":10,"11":1,"12":9,"13":0,"14":9,"15":10,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1},"b":{"1":[4,6],"2":[10,6],"3":[0,10],"4":[3,7],"5":[10,7],"6":[0,10],"7":[1,9],"8":[0,9]},"f":{"1":10},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":48}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":15,"column":1}},"2":{"start":{"line":2,"column":2},"end":{"line":2,"column":25}},"3":{"start":{"line":2,"column":20},"end":{"line":2,"column":25}},"4":{"start":{"line":3,"column":2},"end":{"line":3,"column":25}},"5":{"start":{"line":3,"column":20},"end":{"line":3,"column":25}},"6":{"start":{"line":4,"column":2},"end":{"line":4,"column":25}},"7":{"start":{"line":4,"column":20},"end":{"line":4,"column":25}},"8":{"start":{"line":5,"column":2},"end":{"line":5,"column":25}},"9":{"start":{"line":5,"column":20},"end":{"line":5,"column":25}},"10":{"start":{"line":6,"column":2},"end":{"line":12,"column":3}},"11":{"start":{"line":7,"column":4},"end":{"line":7,"column":12}},"12":{"start":{"line":8,"column":9},"end":{"line":12,"column":3}},"13":{"start":{"line":9,"column":4},"end":{"line":9,"column":12}},"14":{"start":{"line":11,"column":4},"end":{"line":11,"column":13}},"15":{"start":{"line":14,"column":2},"end":{"line":14,"column":30}},"16":{"start":{"line":17,"column":0},"end":{"line":17,"column":12}},"17":{"start":{"line":18,"column":0},"end":{"line":18,"column":25}},"18":{"start":{"line":19,"column":0},"end":{"line":19,"column":25}},"19":{"start":{"line":20,"column":0},"end":{"line":20,"column":22}},"20":{"start":{"line":21,"column":0},"end":{"line":21,"column":36}},"21":{"start":{"line":22,"column":0},"end":{"line":22,"column":23}},"22":{"start":{"line":23,"column":0},"end":{"line":23,"column":23}},"23":{"start":{"line":24,"column":0},"end":{"line":24,"column":20}},"24":{"start":{"line":25,"column":0},"end":{"line":25,"column":25}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":22}},"26":{"start":{"line":27,"column":0},"end":{"line":27,"column":23}}},"branchMap":{"1":{"line":2,"type":"if","locations":[{"start":{"line":2,"column":2},"end":{"line":2,"column":2}},{"start":{"line":2,"column":2},"end":{"line":2,"column":2}}]},"2":{"line":2,"type":"binary-expr","locations":[{"start":{"line":2,"column":6},"end":{"line":2,"column":8}},{"start":{"line":2,"column":12},"end":{"line":2,"column":17}}]},"3":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":2},"end":{"line":3,"column":2}},{"start":{"line":3,"column":2},"end":{"line":3,"column":2}}]},"4":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":2},"end":{"line":4,"column":2}},{"start":{"line":4,"column":2},"end":{"line":4,"column":2}}]},"5":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":6},"end":{"line":4,"column":8}},{"start":{"line":4,"column":12},"end":{"line":4,"column":17}}]},"6":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":2},"end":{"line":5,"column":2}},{"start":{"line":5,"column":2},"end":{"line":5,"column":2}}]},"7":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":2},"end":{"line":6,"column":2}},{"start":{"line":6,"column":2},"end":{"line":6,"column":2}}]},"8":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":9},"end":{"line":8,"column":9}},{"start":{"line":8,"column":9},"end":{"line":8,"column":9}}]}},"code":["var self = module.exports = function(r, g, flag){","  if (!r || r < 0)  r = 0","  if (r > 3)        r = 3","  if (!g || g < 0)  g = 0","  if (g > 3)        g = 3","  if (flag == 'flash') {","    flag = 8","  } else if (flag == 'buffer') {","    flag = 0","  } else {","    flag = 12","  }","  ","  return ((16 * g) + r) + flag","}","","self.off = 0","self.greenLow = self(0,1)","self.greenMed = self(0,2)","self.green = self(0,3)","self.greenFlash = self(0,3, 'flash')","self.redLow = self(1,0)","self.redMed = self(2,0)","self.red = self(3,0)","self.amberLow = self(1,1)","self.amber = self(3,3)","self.yellow = self(1,3)"],"l":{"1":1,"2":10,"3":10,"4":10,"5":10,"6":10,"7":1,"8":9,"9":0,"11":9,"14":10,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":1,"25":1,"26":1,"27":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-push/push-colors.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-push/push-colors.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":38,"column":2}},"2":{"start":{"line":41,"column":0},"end":{"line":102,"column":2}}},"branchMap":{},"code":["// Ableton Push colors","// Written by Fabio Neves - fzero.ca / nostep.ca / github.com/fzero","//","// Adapted from Push4Bitwig","// https://github.com/git-moss/Push4Bitwig","// Written by Jrgen Mograber - mossgrabers.de","//            Michael Schmalle - teotigraphix.com","// (c) 2014-2015","// Licensed under LGPLv3 - http://www.gnu.org/licenses/lgpl-3.0.txt","","// Buttons including row below the display","module.exports.buttons = {","  off: 0,","  redLow: 1,","  redLowSlowBlink: 2,","  redLowFastBlink: 3,","  redHi: 4,","  redHiSlowBlink: 5,","  redHiFastBlink: 6,","  amberLow: 7,","  amberLowSlowBlink: 8,","  amberLowFastBlink: 9,","  amberHi: 10,","  amberHiSlowBlink: 11,","  amberHiFastBlink: 12,","  yellowLow: 13,","  yellowLowSlowBlink: 14,","  yellowLowFastBlink: 15,","  yellowHi: 16,","  yellowHiSlowBlink: 17,","  yellowHiFastBlink: 18,","  greenLow: 19,","  greenLowSlowBlink: 20,","  greenLowFastBlink: 21,","  greenHi: 22,","  greenHiSlowBlink: 23,","  greenHiFastBlink: 24","};","","// Pads including row above the pads","module.exports.pads = {","  off: 0,","  greyLow: 1,","  grey: 2,","  white: 3,","  rose: 4,","  redHi: 5,","  red: 6,","  redLow: 7,","  redAmber: 8,","  amberHi: 9,","  amber: 10,","  amberLow: 11,","  amberYellow: 12,","  yellowHi: 13,","  yellow: 14,","  yellowLow: 15,","  yellowLime: 16,","  limeHi: 17,","  lime: 18,","  limeLow: 19,","  limeGreen: 20,","  greenHi: 21,","  green: 22,","  greenLow: 23,","  greenSpring: 24,","  springHi: 25,","  spring: 26,","  springLow: 27,","  springTurquoise: 28,","  turquoiseLow: 29,","  turquoise: 30,","  turquoiseHi: 31,","  turquoiseCyan: 32,","  cyanHi: 33,","  cyan: 34,","  cyanLow: 35,","  cyanSky: 36,","  skyHi: 37,","  sky: 38,","  skyLow: 39,","  skyOcean: 40,","  oceanHi: 41,","  ocean: 42,","  oceanLow: 43,","  oceanBlue: 44,","  blueHi: 45,","  blue: 46,","  blueLow: 47,","  blueOrchid: 48,","  orchidHi: 49,","  orchid: 50,","  orchidLow: 51,","  orchidMagenta: 52,","  magentaHi: 53,","  magenta: 54,","  magentaLow: 55,","  magentaPink: 56,","  pinkHi: 57,","  pink: 58,","  pinkLow: 59","};",""],"l":{"12":1,"41":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-push/push-display.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-push/push-display.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":17},"end":{"line":4,"column":38}}},"2":{"name":"(anonymous_2)","line":23,"loc":{"start":{"line":23,"column":14},"end":{"line":23,"column":25}}},"3":{"name":"(anonymous_3)","line":32,"loc":{"start":{"line":32,"column":15},"end":{"line":32,"column":26}}},"4":{"name":"(anonymous_4)","line":52,"loc":{"start":{"line":52,"column":17},"end":{"line":52,"column":44}}},"5":{"name":"(anonymous_5)","line":66,"loc":{"start":{"line":66,"column":16},"end":{"line":66,"column":31}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":107,"column":1}},"2":{"start":{"line":7,"column":2},"end":{"line":10,"column":3}},"3":{"start":{"line":8,"column":4},"end":{"line":8,"column":54}},"4":{"start":{"line":9,"column":4},"end":{"line":9,"column":16}},"5":{"start":{"line":11,"column":2},"end":{"line":11,"column":31}},"6":{"start":{"line":23,"column":2},"end":{"line":26,"column":3}},"7":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"8":{"start":{"line":25,"column":4},"end":{"line":25,"column":16}},"9":{"start":{"line":32,"column":2},"end":{"line":45,"column":3}},"10":{"start":{"line":37,"column":4},"end":{"line":37,"column":27}},"11":{"start":{"line":38,"column":4},"end":{"line":43,"column":6}},"12":{"start":{"line":44,"column":4},"end":{"line":44,"column":16}},"13":{"start":{"line":52,"column":2},"end":{"line":59,"column":3}},"14":{"start":{"line":54,"column":4},"end":{"line":54,"column":67}},"15":{"start":{"line":54,"column":27},"end":{"line":54,"column":67}},"16":{"start":{"line":55,"column":4},"end":{"line":55,"column":33}},"17":{"start":{"line":57,"column":4},"end":{"line":57,"column":34}},"18":{"start":{"line":58,"column":4},"end":{"line":58,"column":16}},"19":{"start":{"line":66,"column":2},"end":{"line":102,"column":3}},"20":{"start":{"line":67,"column":4},"end":{"line":72,"column":6}},"21":{"start":{"line":73,"column":4},"end":{"line":73,"column":26}},"22":{"start":{"line":76,"column":4},"end":{"line":85,"column":5}},"23":{"start":{"line":77,"column":6},"end":{"line":77,"column":20}},"24":{"start":{"line":78,"column":6},"end":{"line":84,"column":7}},"25":{"start":{"line":79,"column":8},"end":{"line":79,"column":26}},"26":{"start":{"line":80,"column":8},"end":{"line":82,"column":9}},"27":{"start":{"line":81,"column":10},"end":{"line":81,"column":76}},"28":{"start":{"line":83,"column":8},"end":{"line":83,"column":28}},"29":{"start":{"line":88,"column":4},"end":{"line":91,"column":5}},"30":{"start":{"line":89,"column":6},"end":{"line":89,"column":75}},"31":{"start":{"line":90,"column":6},"end":{"line":90,"column":18}},"32":{"start":{"line":93,"column":4},"end":{"line":99,"column":5}},"33":{"start":{"line":94,"column":6},"end":{"line":96,"column":7}},"34":{"start":{"line":95,"column":8},"end":{"line":95,"column":53}},"35":{"start":{"line":97,"column":6},"end":{"line":97,"column":37}},"36":{"start":{"line":98,"column":6},"end":{"line":98,"column":43}},"37":{"start":{"line":101,"column":4},"end":{"line":101,"column":16}},"38":{"start":{"line":106,"column":2},"end":{"line":106,"column":14}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":2},"end":{"line":7,"column":2}},{"start":{"line":7,"column":2},"end":{"line":7,"column":2}}]},"2":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"3":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":4},"end":{"line":76,"column":4}},{"start":{"line":76,"column":4},"end":{"line":76,"column":4}}]},"4":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]}},"code":["// Ableton Push controller support","// Written by Fabio Neves - fzero.ca / nostep.ca / github.com/fzero","","module.exports = function(duplexPort) {","","  // We need a MIDI duplexPort, or else nothing happens!","  if (!duplexPort) {","    console.error(\"PushDisplay: invalid MIDI output\");","    return null;","  }","  this.duplexPort = duplexPort;","","","  /////////////////////////////////////////////////////////////////","  // Instance methods:","  // They should all return `this` to allow chaining, as in:","  // display.setCell(0, 0, \"OHAI\").setCell(0, 1, \"THERE\").update();","  /////////////////////////////////////////////////////////////////","","  // init()","  //","  // Initialize display state","  this.init = function() {","    this.clear().update();","    return this;","  }","","","  // clear()","  //","  // Reset display state","  this.clear = function() {","    // This stores the curent display state. For all intents","    // and purposes we'll use it as a 4 row containing 8 columns","    // of 8 characters. This ensures displayed data lines up with","    // pads, buttons and knobs.","    var EMPTY = '        '; // 8 spaces","    this.cells = [","      [EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY],","      [EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY],","      [EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY],","      [EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY, EMPTY]","    ];","    return this;","  }","","","  // setCell(Number row, Number col, String string)","  //","  // Self-explanatory, except for the fact it DOESN'T update","  // the display right away.","  this.setCell = function(row, col, string) {","    // Each column must have exactly 8 chars","    if (string.length < 8) string += ' '.repeat(8 - string.length);","    string = string.substr(0, 8);","","    this.cells[row][col] = string;","    return this;","  }","","","  // update([Array rows]])","  //","  // Updates the display with the content of `this.cells`.","  // Uses `rows` when provided.","  this.update = function(rows) {","    var sysExOut = [","      [0xF0, 0x47, 0x7F, 0x15, 0x18, 0x00, 0x45, 0x00],","      [0xF0, 0x47, 0x7F, 0x15, 0x19, 0x00, 0x45, 0x00],","      [0xF0, 0x47, 0x7F, 0x15, 0x1A, 0x00, 0x45, 0x00],","      [0xF0, 0x47, 0x7F, 0x15, 0x1B, 0x00, 0x45, 0x00]","    ];","    var TERMINATOR = 0xF7;","","    // Build display rows, unless provided.","    if (!rows) {","      var rows = [];","      for (var row = 0; row < 4; row++) {","        var row_data = '';","        for (var col = 0; col < this.cells[row].length; col += 2) { // Note the increment","          row_data += this.cells[row][col] + ' ' + this.cells[row][col + 1];","        }","        rows.push(row_data);","      }","    }","","    // We need exactly 4 rows.","    if (rows.length !== 4) {","      console.error(\"PushDisplay.update: you must provide exactly 4 rows\");","      return null;","    }","","    for (var row = 0; row < 4; row++) {","      for (var ch = 0; ch < rows[row].length; ch++) {","        sysExOut[row].push(rows[row].charCodeAt(ch));","      }","      sysExOut[row].push(TERMINATOR);","      this.duplexPort.write(sysExOut[row]);","    }","","    return this;","  }","","","  // First init","  this.init();","}",""],"l":{"4":1,"7":0,"8":0,"9":0,"11":0,"23":0,"24":0,"25":0,"32":0,"37":0,"38":0,"44":0,"52":0,"54":0,"55":0,"57":0,"58":0,"66":0,"67":0,"73":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"83":0,"88":0,"89":0,"90":0,"93":0,"94":0,"95":0,"97":0,"98":0,"101":0,"106":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-qwerty/input-stack.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid-qwerty/input-stack.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":1,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":1,"75":0,"76":1,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0,0],"20":[0,0],"21":[0,0],"22":[0,0,0,0],"23":[0,0],"24":[0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"InputStack","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":21}}},"2":{"name":"grab","line":12,"loc":{"start":{"line":12,"column":2},"end":{"line":12,"column":17}}},"3":{"name":"close","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":18}}},"4":{"name":"activate","line":46,"loc":{"start":{"line":46,"column":2},"end":{"line":46,"column":27}}},"5":{"name":"(anonymous_5)","line":51,"loc":{"start":{"line":51,"column":13},"end":{"line":51,"column":24}}},"6":{"name":"next","line":58,"loc":{"start":{"line":58,"column":2},"end":{"line":58,"column":17}}},"7":{"name":"swap","line":70,"loc":{"start":{"line":70,"column":2},"end":{"line":70,"column":17}}},"8":{"name":"getKeysDown","line":81,"loc":{"start":{"line":81,"column":2},"end":{"line":81,"column":24}}},"9":{"name":"handleKey","line":85,"loc":{"start":{"line":85,"column":2},"end":{"line":85,"column":24}}},"10":{"name":"(anonymous_10)","line":103,"loc":{"start":{"line":103,"column":9},"end":{"line":103,"column":19}}},"11":{"name":"shouldIgnore","line":115,"loc":{"start":{"line":115,"column":0},"end":{"line":115,"column":25}}},"12":{"name":"KeysDown","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":21}}},"13":{"name":"handleEvent","line":124,"loc":{"start":{"line":124,"column":2},"end":{"line":124,"column":27}}},"14":{"name":"(anonymous_14)","line":148,"loc":{"start":{"line":148,"column":16},"end":{"line":148,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":30}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}},"4":{"start":{"line":6,"column":0},"end":{"line":112,"column":1}},"5":{"start":{"line":8,"column":2},"end":{"line":8,"column":21}},"6":{"start":{"line":9,"column":2},"end":{"line":9,"column":16}},"7":{"start":{"line":10,"column":2},"end":{"line":10,"column":20}},"8":{"start":{"line":12,"column":2},"end":{"line":29,"column":3}},"9":{"start":{"line":13,"column":4},"end":{"line":13,"column":20}},"10":{"start":{"line":14,"column":4},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":4},"end":{"line":28,"column":5}},"12":{"start":{"line":17,"column":6},"end":{"line":17,"column":24}},"13":{"start":{"line":19,"column":6},"end":{"line":21,"column":7}},"14":{"start":{"line":20,"column":8},"end":{"line":20,"column":37}},"15":{"start":{"line":23,"column":6},"end":{"line":25,"column":7}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":30}},"17":{"start":{"line":26,"column":6},"end":{"line":26,"column":23}},"18":{"start":{"line":27,"column":6},"end":{"line":27,"column":31}},"19":{"start":{"line":31,"column":2},"end":{"line":44,"column":3}},"20":{"start":{"line":32,"column":4},"end":{"line":32,"column":20}},"21":{"start":{"line":34,"column":4},"end":{"line":41,"column":5}},"22":{"start":{"line":35,"column":6},"end":{"line":35,"column":38}},"23":{"start":{"line":36,"column":6},"end":{"line":40,"column":7}},"24":{"start":{"line":37,"column":8},"end":{"line":37,"column":26}},"25":{"start":{"line":38,"column":8},"end":{"line":38,"column":19}},"26":{"start":{"line":39,"column":8},"end":{"line":39,"column":49}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":17}},"28":{"start":{"line":46,"column":2},"end":{"line":56,"column":3}},"29":{"start":{"line":47,"column":4},"end":{"line":55,"column":5}},"30":{"start":{"line":48,"column":6},"end":{"line":48,"column":56}},"31":{"start":{"line":49,"column":6},"end":{"line":49,"column":28}},"32":{"start":{"line":51,"column":6},"end":{"line":54,"column":7}},"33":{"start":{"line":52,"column":8},"end":{"line":52,"column":22}},"34":{"start":{"line":53,"column":8},"end":{"line":53,"column":31}},"35":{"start":{"line":58,"column":2},"end":{"line":68,"column":3}},"36":{"start":{"line":59,"column":4},"end":{"line":67,"column":5}},"37":{"start":{"line":60,"column":6},"end":{"line":60,"column":29}},"38":{"start":{"line":61,"column":6},"end":{"line":61,"column":24}},"39":{"start":{"line":62,"column":6},"end":{"line":62,"column":19}},"40":{"start":{"line":63,"column":6},"end":{"line":63,"column":29}},"41":{"start":{"line":65,"column":6},"end":{"line":65,"column":26}},"42":{"start":{"line":66,"column":6},"end":{"line":66,"column":47}},"43":{"start":{"line":70,"column":2},"end":{"line":79,"column":3}},"44":{"start":{"line":71,"column":4},"end":{"line":78,"column":5}},"45":{"start":{"line":72,"column":6},"end":{"line":72,"column":29}},"46":{"start":{"line":73,"column":6},"end":{"line":73,"column":24}},"47":{"start":{"line":74,"column":6},"end":{"line":74,"column":19}},"48":{"start":{"line":75,"column":6},"end":{"line":75,"column":29}},"49":{"start":{"line":76,"column":6},"end":{"line":76,"column":32}},"50":{"start":{"line":77,"column":6},"end":{"line":77,"column":47}},"51":{"start":{"line":81,"column":2},"end":{"line":83,"column":3}},"52":{"start":{"line":82,"column":4},"end":{"line":82,"column":44}},"53":{"start":{"line":85,"column":2},"end":{"line":98,"column":3}},"54":{"start":{"line":86,"column":4},"end":{"line":86,"column":35}},"55":{"start":{"line":87,"column":4},"end":{"line":97,"column":5}},"56":{"start":{"line":88,"column":6},"end":{"line":96,"column":7}},"57":{"start":{"line":89,"column":8},"end":{"line":95,"column":9}},"58":{"start":{"line":90,"column":10},"end":{"line":90,"column":28}},"59":{"start":{"line":91,"column":10},"end":{"line":91,"column":16}},"60":{"start":{"line":92,"column":15},"end":{"line":95,"column":9}},"61":{"start":{"line":93,"column":10},"end":{"line":93,"column":28}},"62":{"start":{"line":94,"column":10},"end":{"line":94,"column":16}},"63":{"start":{"line":100,"column":2},"end":{"line":100,"column":56}},"64":{"start":{"line":101,"column":2},"end":{"line":101,"column":54}},"65":{"start":{"line":103,"column":2},"end":{"line":110,"column":3}},"66":{"start":{"line":104,"column":4},"end":{"line":104,"column":26}},"67":{"start":{"line":105,"column":4},"end":{"line":105,"column":27}},"68":{"start":{"line":106,"column":4},"end":{"line":106,"column":33}},"69":{"start":{"line":107,"column":4},"end":{"line":107,"column":35}},"70":{"start":{"line":108,"column":4},"end":{"line":108,"column":16}},"71":{"start":{"line":109,"column":4},"end":{"line":109,"column":16}},"72":{"start":{"line":115,"column":0},"end":{"line":118,"column":1}},"73":{"start":{"line":116,"column":2},"end":{"line":117,"column":36}},"74":{"start":{"line":120,"column":0},"end":{"line":154,"column":1}},"75":{"start":{"line":122,"column":2},"end":{"line":122,"column":22}},"76":{"start":{"line":124,"column":2},"end":{"line":143,"column":3}},"77":{"start":{"line":125,"column":4},"end":{"line":125,"column":35}},"78":{"start":{"line":126,"column":4},"end":{"line":142,"column":5}},"79":{"start":{"line":127,"column":6},"end":{"line":127,"column":39}},"80":{"start":{"line":128,"column":6},"end":{"line":141,"column":7}},"81":{"start":{"line":129,"column":8},"end":{"line":134,"column":9}},"82":{"start":{"line":130,"column":10},"end":{"line":130,"column":34}},"83":{"start":{"line":131,"column":10},"end":{"line":131,"column":26}},"84":{"start":{"line":132,"column":10},"end":{"line":132,"column":22}},"85":{"start":{"line":133,"column":10},"end":{"line":133,"column":28}},"86":{"start":{"line":135,"column":13},"end":{"line":141,"column":7}},"87":{"start":{"line":136,"column":8},"end":{"line":140,"column":9}},"88":{"start":{"line":137,"column":10},"end":{"line":137,"column":34}},"89":{"start":{"line":138,"column":10},"end":{"line":138,"column":30}},"90":{"start":{"line":139,"column":10},"end":{"line":139,"column":22}},"91":{"start":{"line":145,"column":2},"end":{"line":145,"column":58}},"92":{"start":{"line":146,"column":2},"end":{"line":146,"column":56}},"93":{"start":{"line":148,"column":2},"end":{"line":151,"column":3}},"94":{"start":{"line":149,"column":4},"end":{"line":149,"column":63}},"95":{"start":{"line":150,"column":4},"end":{"line":150,"column":61}},"96":{"start":{"line":153,"column":2},"end":{"line":153,"column":12}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":4},"end":{"line":15,"column":4}},{"start":{"line":15,"column":4},"end":{"line":15,"column":4}}]},"2":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":21}},{"start":{"line":15,"column":25},"end":{"line":15,"column":49}}]},"3":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":13}},{"start":{"line":17,"column":15},"end":{"line":17,"column":24}}]},"4":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":6},"end":{"line":19,"column":6}},{"start":{"line":19,"column":6},"end":{"line":19,"column":6}}]},"5":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":6},"end":{"line":23,"column":6}},{"start":{"line":23,"column":6},"end":{"line":23,"column":6}}]},"6":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":4},"end":{"line":34,"column":4}},{"start":{"line":34,"column":4},"end":{"line":34,"column":4}}]},"7":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":6},"end":{"line":36,"column":6}},{"start":{"line":36,"column":6},"end":{"line":36,"column":6}}]},"8":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":15}},{"start":{"line":37,"column":17},"end":{"line":37,"column":26}}]},"9":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":4},"end":{"line":47,"column":4}},{"start":{"line":47,"column":4},"end":{"line":47,"column":4}}]},"10":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"11":{"line":61,"type":"binary-expr","locations":[{"start":{"line":61,"column":6},"end":{"line":61,"column":13}},{"start":{"line":61,"column":15},"end":{"line":61,"column":24}}]},"12":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":71,"column":4}},{"start":{"line":71,"column":4},"end":{"line":71,"column":4}}]},"13":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":6},"end":{"line":73,"column":13}},{"start":{"line":73,"column":15},"end":{"line":73,"column":24}}]},"14":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":22},"end":{"line":82,"column":30}},{"start":{"line":82,"column":34},"end":{"line":82,"column":44}}]},"15":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"16":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":6},"end":{"line":88,"column":6}},{"start":{"line":88,"column":6},"end":{"line":88,"column":6}}]},"17":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":10},"end":{"line":88,"column":13}},{"start":{"line":88,"column":18},"end":{"line":88,"column":35}},{"start":{"line":88,"column":39},"end":{"line":88,"column":68}}]},"18":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":8},"end":{"line":89,"column":8}},{"start":{"line":89,"column":8},"end":{"line":89,"column":8}}]},"19":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":13},"end":{"line":89,"column":29}},{"start":{"line":89,"column":33},"end":{"line":89,"column":51}},{"start":{"line":89,"column":56},"end":{"line":89,"column":76}}]},"20":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":15},"end":{"line":92,"column":15}},{"start":{"line":92,"column":15},"end":{"line":92,"column":15}}]},"21":{"line":92,"type":"binary-expr","locations":[{"start":{"line":92,"column":19},"end":{"line":92,"column":39}},{"start":{"line":92,"column":43},"end":{"line":92,"column":64}}]},"22":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":10},"end":{"line":116,"column":33}},{"start":{"line":116,"column":37},"end":{"line":116,"column":56}},{"start":{"line":116,"column":60},"end":{"line":116,"column":82}},{"start":{"line":117,"column":10},"end":{"line":117,"column":36}}]},"23":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]},"24":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":8},"end":{"line":126,"column":11}},{"start":{"line":126,"column":16},"end":{"line":126,"column":33}},{"start":{"line":126,"column":37},"end":{"line":126,"column":66}}]},"25":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":6},"end":{"line":128,"column":6}},{"start":{"line":128,"column":6},"end":{"line":128,"column":6}}]},"26":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":8}},{"start":{"line":129,"column":8},"end":{"line":129,"column":8}}]},"27":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":13},"end":{"line":135,"column":13}},{"start":{"line":135,"column":13},"end":{"line":135,"column":13}}]},"28":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]}},"code":["var watch = require('observ/watch')","var Observ = require('observ')","","module.exports = InputStack","","function InputStack(){","","  var keysDown = null","  var stack = []","  var release = null","","  function grab(){","    var input = this","    var index = stack.indexOf(input)","    if (!stack.length || index < stack.length - 1){","","      release&&release()","","      if (stack.length){","        stack[stack.length-1].set([])","      }","","      if (~index){","        stack.splice(index, 1)","      }","      stack.push(input)","      release = activate(input)","    }","  }","","  function close(){","    var input = this","","    if (stack.length){","      var index = stack.indexOf(input)","      if (index === stack.length-1){","        release&&release()","        stack.pop()","        release = activate(stack[stack.length-1])","      }","    }","","    input.set([])","  }","","  function activate(input) {","    if (input) {","      var releaseInput = watch(getKeysDown(), input.set)","      input.active.set(true)","","      return function() {","        releaseInput()","        input.active.set(false)","      }","    }","  }","","  function next(){","    if (stack.length > 1){","      var input = stack.pop()","      release&&release()","      input.set([])","      input.active.set(false)","","      stack.unshift(input)","      release = activate(stack[stack.length-1])","    }","  }","","  function swap(){","    if (stack.length > 1){","      var input = stack.pop()","      release&&release()","      input.set([])","      input.active.set(false)","      stack.splice(-1, 0, input)","      release = activate(stack[stack.length-1])","    }","  }","","  function getKeysDown(){","    return keysDown = keysDown || KeysDown()","  }","","  function handleKey(e) {","    var el = document.activeElement","    if (stack.length) {","      if (!el || (!shouldIgnore(el) && el.contentEditable !== 'true')){","        if ((e.code === 'Tab' || e.code === 'Enter') && e.type === 'keydown') { // tab or enter","          e.preventDefault()","          next()","        } else if (e.code === 'AltLeft' || e.code === 'AltRight') { // alt","          e.preventDefault()","          swap()","        }","      }","    }","  }","","  document.addEventListener('keydown', handleKey, false)","  document.addEventListener('keyup', handleKey, false)","","  return function(){","    var input = Observ([])","    input.active = Observ()","    input.grab = grab.bind(input)","    input.close = close.bind(input)","    input.grab()","    return input","  }","","}","","","function shouldIgnore(el){","  return (el.nodeName === 'INPUT' && el.type !== 'range' && el.type !== 'checkbox') ||","          el.nodeName === 'TEXTAREA'","}","","function KeysDown () {","","  var obs = Observ([])","","  function handleEvent (e) {","    var el = document.activeElement","    if (!el || (!shouldIgnore(el) && el.contentEditable !== 'true')){","      var index = obs().indexOf(e.code)","      if (e.type === 'keydown'){","        if (!~index){","          var val = obs().concat()","          val.push(e.code)","          obs.set(val)","          e.preventDefault()","        }","      } else if (e.type === 'keyup'){","        if (~index){","          var val = obs().concat()","          val.splice(index, 1)","          obs.set(val)","        }","      }","    }","  }","","  document.addEventListener('keydown', handleEvent, false)","  document.addEventListener('keyup', handleEvent, false)","","  obs.destroy = function(){","    document.removeEventListener('keydown', handleEvent, false)","    document.removeEventListener('keyup', handleEvent, false)","  }","","  return obs","}",""],"l":{"1":1,"2":1,"4":1,"6":1,"8":0,"9":0,"10":0,"12":1,"13":0,"14":0,"15":0,"17":0,"19":0,"20":0,"23":0,"24":0,"26":0,"27":0,"31":1,"32":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"43":0,"46":1,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"58":1,"59":0,"60":0,"61":0,"62":0,"63":0,"65":0,"66":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"81":1,"82":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"100":0,"101":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"115":1,"116":0,"120":1,"122":0,"124":1,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"135":0,"136":0,"137":0,"138":0,"139":0,"145":0,"146":0,"148":0,"149":0,"150":0,"153":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/suppressor.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/loop-grid/suppressor.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":53}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":15},"end":{"line":14,"column":67}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":38},"end":{"line":24,"column":63}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":14},"end":{"line":34,"column":26}}},"5":{"name":"suppress","line":49,"loc":{"start":{"line":49,"column":0},"end":{"line":49,"column":57}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":21},"end":{"line":50,"column":40}}},"7":{"name":"resolve","line":69,"loc":{"start":{"line":69,"column":0},"end":{"line":69,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":30}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":51}},"4":{"start":{"line":5,"column":0},"end":{"line":47,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":67}},"6":{"start":{"line":8,"column":2},"end":{"line":8,"column":20}},"7":{"start":{"line":9,"column":2},"end":{"line":9,"column":25}},"8":{"start":{"line":11,"column":2},"end":{"line":11,"column":20}},"9":{"start":{"line":12,"column":2},"end":{"line":12,"column":17}},"10":{"start":{"line":14,"column":2},"end":{"line":32,"column":3}},"11":{"start":{"line":15,"column":4},"end":{"line":15,"column":15}},"12":{"start":{"line":17,"column":4},"end":{"line":17,"column":43}},"13":{"start":{"line":18,"column":4},"end":{"line":18,"column":39}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":69}},"15":{"start":{"line":24,"column":4},"end":{"line":27,"column":10}},"16":{"start":{"line":25,"column":6},"end":{"line":25,"column":26}},"17":{"start":{"line":26,"column":6},"end":{"line":26,"column":19}},"18":{"start":{"line":29,"column":4},"end":{"line":29,"column":57}},"19":{"start":{"line":31,"column":4},"end":{"line":31,"column":23}},"20":{"start":{"line":34,"column":2},"end":{"line":44,"column":3}},"21":{"start":{"line":35,"column":4},"end":{"line":43,"column":5}},"22":{"start":{"line":36,"column":6},"end":{"line":36,"column":57}},"23":{"start":{"line":37,"column":6},"end":{"line":37,"column":15}},"24":{"start":{"line":38,"column":6},"end":{"line":38,"column":20}},"25":{"start":{"line":39,"column":6},"end":{"line":42,"column":7}},"26":{"start":{"line":40,"column":8},"end":{"line":40,"column":22}},"27":{"start":{"line":41,"column":8},"end":{"line":41,"column":27}},"28":{"start":{"line":46,"column":2},"end":{"line":46,"column":13}},"29":{"start":{"line":49,"column":0},"end":{"line":67,"column":1}},"30":{"start":{"line":50,"column":2},"end":{"line":65,"column":4}},"31":{"start":{"line":51,"column":4},"end":{"line":64,"column":5}},"32":{"start":{"line":52,"column":6},"end":{"line":63,"column":7}},"33":{"start":{"line":55,"column":8},"end":{"line":55,"column":60}},"34":{"start":{"line":56,"column":8},"end":{"line":60,"column":9}},"35":{"start":{"line":57,"column":10},"end":{"line":57,"column":35}},"36":{"start":{"line":59,"column":10},"end":{"line":59,"column":26}},"37":{"start":{"line":62,"column":8},"end":{"line":62,"column":24}},"38":{"start":{"line":66,"column":2},"end":{"line":66,"column":14}},"39":{"start":{"line":69,"column":0},"end":{"line":71,"column":1}},"40":{"start":{"line":70,"column":2},"end":{"line":70,"column":48}}},"branchMap":{"1":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":22},"end":{"line":17,"column":37}},{"start":{"line":17,"column":41},"end":{"line":17,"column":43}}]},"2":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":33}},{"start":{"line":18,"column":37},"end":{"line":18,"column":39}}]},"3":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":4},"end":{"line":35,"column":4}},{"start":{"line":35,"column":4},"end":{"line":35,"column":4}}]},"4":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":6},"end":{"line":39,"column":6}},{"start":{"line":39,"column":6},"end":{"line":39,"column":6}}]},"5":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":4},"end":{"line":51,"column":4}},{"start":{"line":51,"column":4},"end":{"line":51,"column":4}}]},"6":{"line":51,"type":"binary-expr","locations":[{"start":{"line":51,"column":8},"end":{"line":51,"column":12}},{"start":{"line":51,"column":17},"end":{"line":51,"column":32}},{"start":{"line":51,"column":36},"end":{"line":51,"column":55}}]},"7":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":6},"end":{"line":52,"column":6}},{"start":{"line":52,"column":6},"end":{"line":52,"column":6}}]},"8":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":10},"end":{"line":52,"column":25}},{"start":{"line":52,"column":29},"end":{"line":52,"column":54}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"10":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":12},"end":{"line":56,"column":25}},{"start":{"line":56,"column":29},"end":{"line":56,"column":41}}]},"11":{"line":70,"type":"cond-expr","locations":[{"start":{"line":70,"column":37},"end":{"line":70,"column":42}},{"start":{"line":70,"column":45},"end":{"line":70,"column":48}}]}},"code":["var Observ = require('observ')","var ArrayGrid = require('array-grid')","var getEvents = require('loop-grid/lib/get-events')","","module.exports = function (transform, shape, stride) {","  var self = Observ(ArrayGrid([], resolve(shape), resolve(stride)))","","  var release = null","  var doneCallback = null","","  var set = self.set","  self.set = null","","  self.start = function (at, suppressIndexes, freezeIndexes, done) {","    self.stop()","","    suppressIndexes = suppressIndexes || []","    freezeIndexes = freezeIndexes || []","","    // transform","    release = transform(suppress, at, suppressIndexes, freezeIndexes)","","    // update observable grid","    var data = suppressIndexes.reduce(function (result, index) {","      result[index] = true","      return result","    }, [])","","    set(ArrayGrid(data, resolve(shape), resolve(stride)))","","    doneCallback = done","  }","","  self.stop = function () {","    if (release) {","      set(ArrayGrid([], resolve(shape), resolve(stride)))","      release()","      release = null","      if (typeof doneCallback === 'function') {","        doneCallback()","        doneCallback = null","      }","    }","  }","","  return self","}","","function suppress (input, start, indexes, freezeIndexes) {","  input.data.forEach(function (loop, i) {","    if (loop && (!indexes.length || ~indexes.indexOf(i))) {","      if (!indexes.length && ~freezeIndexes.indexOf(i)) {","        // HACK: this could be handled a lot more elegantly","        // and also when to use freezeIndexes is pretty poor","        var events = getEvents(loop, start, start + 0.01, 0)","        if (events.length && events[0][1]) {","          loop.events = [[0, true]]","        } else {","          loop.events = []","        }","      } else {","        loop.events = []","      }","    }","  })","  return input","}","","function resolve (obs) {","  return typeof obs === 'function' ? obs() : obs","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"8":0,"9":0,"11":0,"12":0,"14":0,"15":0,"17":0,"18":0,"21":0,"24":0,"25":0,"26":0,"29":0,"31":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"46":0,"49":1,"50":0,"51":0,"52":0,"55":0,"56":0,"57":0,"59":0,"62":0,"66":0,"69":1,"70":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/oscillator/shape-choices.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/oscillator/shape-choices.js","s":{"1":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":30,"column":1}}},"branchMap":{},"code":["module.exports = [","  ['Basic Shapes', [","    ['Sine', 'sine'],","    ['Square', 'square'],","    ['Sawtooth', 'sawtooth'],","    ['Triangle', 'triangle']","  ]],","  ['Wave Tables', [","    ['Bass', 'bass'],","    ['Bass Fuzz', 'bass-fuzz'],","    ['Bass Sub', 'bass-sub'],","    ['Brass', 'brass'],","    ['Disonant', 'disonant'],","    ['Guitar Fuzz', 'guitar-fuzz'],","    ['Organ', 'organ'],","    ['Piano', 'piano'],","    ['Soft Saw', 'soft-saw'],","    ['Strings', 'strings'],","    ['Throaty', 'throaty'],","    ['Trombone', 'trombone'],","    ['Wide', 'wide'],","    ['Wurlitzer', 'wurlitzer']","  ]],","  ['Phonemes', [","    ['Ah', 'ah'],","    ['Ee', 'ee'],","    ['Ow', 'ow'],","    ['Ooh', 'ooh']","  ]]","]"],"l":{"1":1}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/browser.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/browser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":1,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":1,"62":0,"63":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"renderBrowser","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":40}}},"2":{"name":"(anonymous_2)","line":21,"loc":{"start":{"line":21,"column":22},"end":{"line":21,"column":37}}},"3":{"name":"(anonymous_3)","line":28,"loc":{"start":{"line":28,"column":24},"end":{"line":28,"column":42}}},"4":{"name":"renderEntry","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":36}}},"5":{"name":"dragStart","line":114,"loc":{"start":{"line":114,"column":0},"end":{"line":114,"column":22}}},"6":{"name":"saveRename","line":119,"loc":{"start":{"line":119,"column":0},"end":{"line":119,"column":21}}},"7":{"name":"cancelRename","line":131,"loc":{"start":{"line":131,"column":0},"end":{"line":131,"column":23}}},"8":{"name":"getItemByPath","line":136,"loc":{"start":{"line":136,"column":0},"end":{"line":136,"column":35}}},"9":{"name":"(anonymous_9)","line":138,"loc":{"start":{"line":138,"column":13},"end":{"line":138,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":31}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":47}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":24}},"9":{"start":{"line":13,"column":0},"end":{"line":13,"column":30}},"10":{"start":{"line":15,"column":0},"end":{"line":41,"column":1}},"11":{"start":{"line":17,"column":2},"end":{"line":17,"column":19}},"12":{"start":{"line":20,"column":2},"end":{"line":38,"column":3}},"13":{"start":{"line":21,"column":4},"end":{"line":37,"column":6}},"14":{"start":{"line":22,"column":6},"end":{"line":22,"column":40}},"15":{"start":{"line":24,"column":6},"end":{"line":36,"column":7}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":50}},"17":{"start":{"line":26,"column":8},"end":{"line":26,"column":52}},"18":{"start":{"line":27,"column":8},"end":{"line":35,"column":9}},"19":{"start":{"line":28,"column":10},"end":{"line":34,"column":12}},"20":{"start":{"line":29,"column":12},"end":{"line":29,"column":53}},"21":{"start":{"line":30,"column":12},"end":{"line":30,"column":38}},"22":{"start":{"line":31,"column":12},"end":{"line":33,"column":13}},"23":{"start":{"line":32,"column":14},"end":{"line":32,"column":59}},"24":{"start":{"line":40,"column":2},"end":{"line":40,"column":33}},"25":{"start":{"line":43,"column":0},"end":{"line":112,"column":1}},"26":{"start":{"line":45,"column":2},"end":{"line":45,"column":31}},"27":{"start":{"line":46,"column":2},"end":{"line":46,"column":49}},"28":{"start":{"line":48,"column":2},"end":{"line":48,"column":20}},"29":{"start":{"line":49,"column":2},"end":{"line":49,"column":19}},"30":{"start":{"line":51,"column":2},"end":{"line":53,"column":3}},"31":{"start":{"line":52,"column":4},"end":{"line":52,"column":32}},"32":{"start":{"line":55,"column":2},"end":{"line":67,"column":3}},"33":{"start":{"line":56,"column":4},"end":{"line":56,"column":32}},"34":{"start":{"line":57,"column":4},"end":{"line":59,"column":6}},"35":{"start":{"line":61,"column":4},"end":{"line":63,"column":5}},"36":{"start":{"line":62,"column":6},"end":{"line":62,"column":29}},"37":{"start":{"line":66,"column":4},"end":{"line":66,"column":80}},"38":{"start":{"line":69,"column":2},"end":{"line":69,"column":47}},"39":{"start":{"line":70,"column":2},"end":{"line":70,"column":54}},"40":{"start":{"line":73,"column":2},"end":{"line":74,"column":43}},"41":{"start":{"line":76,"column":2},"end":{"line":78,"column":3}},"42":{"start":{"line":77,"column":4},"end":{"line":77,"column":31}},"43":{"start":{"line":79,"column":2},"end":{"line":82,"column":3}},"44":{"start":{"line":80,"column":4},"end":{"line":80,"column":31}},"45":{"start":{"line":81,"column":4},"end":{"line":81,"column":87}},"46":{"start":{"line":84,"column":2},"end":{"line":88,"column":3}},"47":{"start":{"line":90,"column":2},"end":{"line":99,"column":3}},"48":{"start":{"line":91,"column":4},"end":{"line":98,"column":5}},"49":{"start":{"line":101,"column":2},"end":{"line":102,"column":67}},"50":{"start":{"line":104,"column":2},"end":{"line":111,"column":39}},"51":{"start":{"line":114,"column":0},"end":{"line":117,"column":1}},"52":{"start":{"line":115,"column":2},"end":{"line":115,"column":27}},"53":{"start":{"line":116,"column":2},"end":{"line":116,"column":51}},"54":{"start":{"line":119,"column":0},"end":{"line":129,"column":1}},"55":{"start":{"line":120,"column":2},"end":{"line":120,"column":33}},"56":{"start":{"line":121,"column":2},"end":{"line":121,"column":29}},"57":{"start":{"line":122,"column":2},"end":{"line":122,"column":31}},"58":{"start":{"line":124,"column":2},"end":{"line":126,"column":3}},"59":{"start":{"line":125,"column":4},"end":{"line":125,"column":56}},"60":{"start":{"line":128,"column":2},"end":{"line":128,"column":29}},"61":{"start":{"line":131,"column":0},"end":{"line":134,"column":1}},"62":{"start":{"line":132,"column":2},"end":{"line":132,"column":33}},"63":{"start":{"line":133,"column":2},"end":{"line":133,"column":29}},"64":{"start":{"line":136,"column":0},"end":{"line":145,"column":1}},"65":{"start":{"line":137,"column":2},"end":{"line":137,"column":19}},"66":{"start":{"line":138,"column":2},"end":{"line":143,"column":4}},"67":{"start":{"line":139,"column":4},"end":{"line":142,"column":5}},"68":{"start":{"line":140,"column":6},"end":{"line":140,"column":19}},"69":{"start":{"line":141,"column":6},"end":{"line":141,"column":17}},"70":{"start":{"line":144,"column":2},"end":{"line":144,"column":15}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":6},"end":{"line":24,"column":6}},{"start":{"line":24,"column":6},"end":{"line":24,"column":6}}]},"3":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":10},"end":{"line":24,"column":36}},{"start":{"line":24,"column":40},"end":{"line":24,"column":62}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"5":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":15}},{"start":{"line":27,"column":19},"end":{"line":27,"column":24}}]},"6":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":12},"end":{"line":31,"column":12}},{"start":{"line":31,"column":12},"end":{"line":31,"column":12}}]},"7":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":16},"end":{"line":31,"column":40}},{"start":{"line":31,"column":44},"end":{"line":31,"column":69}},{"start":{"line":31,"column":73},"end":{"line":31,"column":88}}]},"8":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":2},"end":{"line":51,"column":2}},{"start":{"line":51,"column":2},"end":{"line":51,"column":2}}]},"9":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":2},"end":{"line":55,"column":2}},{"start":{"line":55,"column":2},"end":{"line":55,"column":2}}]},"10":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"11":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":15},"end":{"line":66,"column":23}},{"start":{"line":66,"column":27},"end":{"line":66,"column":80}}]},"12":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":17},"end":{"line":69,"column":25}},{"start":{"line":69,"column":29},"end":{"line":69,"column":47}}]},"13":{"line":73,"type":"cond-expr","locations":[{"start":{"line":74,"column":4},"end":{"line":74,"column":36}},{"start":{"line":74,"column":39},"end":{"line":74,"column":43}}]},"14":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":2},"end":{"line":76,"column":2}},{"start":{"line":76,"column":2},"end":{"line":76,"column":2}}]},"15":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":2},"end":{"line":79,"column":2}},{"start":{"line":79,"column":2},"end":{"line":79,"column":2}}]},"16":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":2},"end":{"line":90,"column":2}},{"start":{"line":90,"column":2},"end":{"line":90,"column":2}}]},"17":{"line":101,"type":"cond-expr","locations":[{"start":{"line":102,"column":4},"end":{"line":102,"column":17}},{"start":{"line":102,"column":20},"end":{"line":102,"column":67}}]},"18":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":2},"end":{"line":124,"column":2}},{"start":{"line":124,"column":2},"end":{"line":124,"column":2}}]},"19":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":4},"end":{"line":139,"column":4}},{"start":{"line":139,"column":4},"end":{"line":139,"column":4}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","var getBaseName = require('path').basename","var getExt = require('path').extname","var join = require('path').join","","var renameWidget = require('lib/rename-widget')","var DragEvent = require('lib/drag-event')","","var currentRename = null","","module.exports = renderBrowser","","function renderBrowser(entries, project){","","  var elements = []","","  // render two-level tree","  if (entries()){","    entries().forEach(function(entry){","      var base = getBaseName(entry.path)","","      if (entry.type === 'directory' && base !== '~recordings') {","        elements.push(renderEntry(entry, project))","        var sub = project.subEntries.get(entry.path)","        if (sub && sub()){","          sub().forEach(function(subEntry){","            var fileName = getBaseName(subEntry.path)","            var ext = getExt(fileName)","            if (subEntry.type === 'file' && fileName !== 'index.json' && ext === '.json'){","              elements.push(renderEntry(subEntry, project))","            }","          })","        }","      }","    })","  }","","  return h('ScrollBox', elements)","}","","function renderEntry(entry, project){","","  var actions = project.actions","  var selected = project.selected() == entry.path","","  var classList = []","  var expander = ''","","  if (project.recordingPath() === entry.path) {","    classList.push('-recording')","  }","","  if (entry.type === 'directory'){","    classList.push('-directory')","    expander = h('button.twirl', {","      'ev-click': send(actions.toggleDirectory, entry.path)","    })","","    if (project.subEntries.get(entry.path)){","      classList.push('-open')","    }","","    // handle index.json selected","    selected = selected || join(entry.path, 'index.json') === project.selected()","  }","","  var renaming = selected && project.renaming()","  var renameState = { project: project, entry: entry }","","  // handle rename click","  var click = selected ?","    send(project.renaming.set, true) : null","","  if (selected){","    classList.push('-selected')","  }","  if (renaming){","    classList.push('-renaming')","    currentRename = renameWidget(entry.fileName, saveRename, cancelRename, renameState)","  }","","  var buttons = [","    h('button.delete', {","      'ev-click': send(actions.deleteEntry, entry.path),","    }, 'delete')","  ]","","  if (renaming){","    buttons.push(","      h('button.save', {","        'ev-click': send(saveRename, renameState)","      }, 'save'),","      h('button.cancel', {","        'ev-click': send(cancelRename, renameState)","      }, 'cancel')","    )","  }","","  var nameElement = renaming ?","    currentRename : h('span', getBaseName(entry.fileName, '.json'))","","  return h('BrowserFile', {","    'data-entry': entry,","    'draggable': true,","    'ev-dragstart': DragEvent(dragStart, entry),","    'ev-click': click,","    'ev-dblclick': send(actions.open, entry.path),","    'className': classList.join(' ')","  }, [expander, nameElement, buttons ])","}","","function dragStart(ev){","  window.currentDrag = null","  ev.dataTransfer.setData('filepath', ev.data.path)","}","","function saveRename(){","  var project = this.data.project","  var entry = this.data.entry","  var actions = project.actions","","  if (currentRename){","    actions.rename(entry.path, currentRename.getValue())","  }","","  project.renaming.set(false)","}","","function cancelRename(){","  var project = this.data.project","  project.renaming.set(false)","}","","function getItemByPath(items, path){","  var result = null","  items.some(function(item){","    if (item.path === path){","      result = item","      return true","    }","  })","  return result","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"8":1,"9":1,"11":1,"13":1,"15":1,"17":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"40":0,"43":1,"45":0,"46":0,"48":0,"49":0,"51":0,"52":0,"55":0,"56":0,"57":0,"61":0,"62":0,"66":0,"69":0,"70":0,"73":0,"76":0,"77":0,"79":0,"80":0,"81":0,"84":0,"90":0,"91":0,"101":0,"104":0,"114":1,"115":0,"116":0,"119":1,"120":0,"121":0,"122":0,"124":0,"125":0,"128":0,"131":1,"132":0,"133":0,"136":1,"137":0,"138":0,"139":0,"140":0,"141":0,"144":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/global-controllers.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/global-controllers.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":1,"17":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":17},"end":{"line":5,"column":39}}},"2":{"name":"(anonymous_2)","line":9,"loc":{"start":{"line":9,"column":19},"end":{"line":9,"column":41}}},"3":{"name":"(anonymous_3)","line":16,"loc":{"start":{"line":16,"column":19},"end":{"line":16,"column":41}}},"4":{"name":"hasNode","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":36}}},"5":{"name":"(anonymous_5)","line":41,"loc":{"start":{"line":41,"column":58},"end":{"line":41,"column":74}}},"6":{"name":"spawn","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":24}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":5,"column":0},"end":{"line":38,"column":1}},"5":{"start":{"line":6,"column":2},"end":{"line":6,"column":72}},"6":{"start":{"line":7,"column":2},"end":{"line":7,"column":18}},"7":{"start":{"line":9,"column":2},"end":{"line":13,"column":4}},"8":{"start":{"line":10,"column":4},"end":{"line":12,"column":5}},"9":{"start":{"line":11,"column":6},"end":{"line":11,"column":49}},"10":{"start":{"line":15,"column":2},"end":{"line":37,"column":4}},"11":{"start":{"line":17,"column":6},"end":{"line":28,"column":7}},"12":{"start":{"line":18,"column":8},"end":{"line":27,"column":10}},"13":{"start":{"line":40,"column":0},"end":{"line":44,"column":1}},"14":{"start":{"line":41,"column":2},"end":{"line":43,"column":4}},"15":{"start":{"line":42,"column":4},"end":{"line":42,"column":29}},"16":{"start":{"line":46,"column":0},"end":{"line":48,"column":1}},"17":{"start":{"line":47,"column":2},"end":{"line":47,"column":28}}},"branchMap":{"1":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":4}},{"start":{"line":10,"column":4},"end":{"line":10,"column":4}}]},"2":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":6},"end":{"line":17,"column":6}},{"start":{"line":17,"column":6},"end":{"line":17,"column":6}}]},"3":{"line":31,"type":"cond-expr","locations":[{"start":{"line":31,"column":21},"end":{"line":36,"column":6}},{"start":{"line":36,"column":9},"end":{"line":36,"column":13}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":9},"end":{"line":41,"column":36}},{"start":{"line":41,"column":40},"end":{"line":43,"column":4}}]}},"code":["var h = require('lib/h')","var send = require('value-event/event')","var Select = require('lib/widgets/select')","","module.exports = function (collection) {","  var spawners = collection.context.project.availableGlobalControllers()","  var options = []","","  spawners.forEach(function (descriptor) {","    if (!hasNode(collection, descriptor.node)) {","      options.push([descriptor.name, descriptor])","    }","  })","","  return h('div.controllers', [","    collection.map(function (controller) {","      if (controller) {","        return h('GlobalControllerNode', [","          h('header', [","            h('span.name', [","              h('strong', ['Global: ']), controller().name","            ]),","            h('button.remove Button -warn', {","              'ev-click': send(collection.remove, controller),","            }, 'X')","          ])","        ])","      }","    }),","","    options.length ? h('div.spawn', [","      Select(spawn, collection, {","        includeBlank: 'Add Global Controller...',","        options: options","      })","    ]) : null","  ])","}","","function hasNode (collection, node) {","  return Array.isArray(collection()) && collection().some(function (item) {","    return item.node === node","  })","}","","function spawn (descriptor) {","  this.data.push(descriptor)","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":0,"7":0,"9":0,"10":0,"11":0,"15":0,"17":0,"18":0,"40":1,"41":0,"42":0,"46":1,"47":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/tabbed-editor.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/tabbed-editor.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"TabbedEditor","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":30}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":37},"end":{"line":20,"column":53}}},"3":{"name":"renderTab","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":24}}},"4":{"name":"getName","line":72,"loc":{"start":{"line":72,"column":0},"end":{"line":72,"column":22}}},"5":{"name":"renderHelper","line":82,"loc":{"start":{"line":82,"column":0},"end":{"line":82,"column":23}}},"6":{"name":"getItem","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":23}}},"7":{"name":"(anonymous_7)","line":98,"loc":{"start":{"line":98,"column":19},"end":{"line":98,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":42}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":42}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":43}},"7":{"start":{"line":8,"column":0},"end":{"line":8,"column":41}},"8":{"start":{"line":9,"column":0},"end":{"line":9,"column":54}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}},"10":{"start":{"line":12,"column":0},"end":{"line":12,"column":42}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":29}},"12":{"start":{"line":16,"column":0},"end":{"line":51,"column":1}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":22}},"14":{"start":{"line":18,"column":2},"end":{"line":18,"column":35}},"15":{"start":{"line":20,"column":2},"end":{"line":28,"column":4}},"16":{"start":{"line":21,"column":4},"end":{"line":23,"column":26}},"17":{"start":{"line":24,"column":4},"end":{"line":27,"column":11}},"18":{"start":{"line":30,"column":2},"end":{"line":45,"column":4}},"19":{"start":{"line":47,"column":2},"end":{"line":50,"column":4}},"20":{"start":{"line":53,"column":0},"end":{"line":70,"column":1}},"21":{"start":{"line":54,"column":2},"end":{"line":54,"column":20}},"22":{"start":{"line":55,"column":2},"end":{"line":55,"column":31}},"23":{"start":{"line":57,"column":2},"end":{"line":57,"column":25}},"24":{"start":{"line":58,"column":2},"end":{"line":69,"column":3}},"25":{"start":{"line":59,"column":4},"end":{"line":59,"column":50}},"26":{"start":{"line":60,"column":4},"end":{"line":66,"column":6}},"27":{"start":{"line":68,"column":4},"end":{"line":68,"column":13}},"28":{"start":{"line":72,"column":0},"end":{"line":80,"column":1}},"29":{"start":{"line":73,"column":2},"end":{"line":73,"column":39}},"30":{"start":{"line":74,"column":2},"end":{"line":79,"column":3}},"31":{"start":{"line":75,"column":4},"end":{"line":75,"column":42}},"32":{"start":{"line":77,"column":4},"end":{"line":77,"column":45}},"33":{"start":{"line":78,"column":4},"end":{"line":78,"column":29}},"34":{"start":{"line":82,"column":0},"end":{"line":93,"column":1}},"35":{"start":{"line":83,"column":2},"end":{"line":92,"column":4}},"36":{"start":{"line":95,"column":0},"end":{"line":105,"column":1}},"37":{"start":{"line":96,"column":2},"end":{"line":96,"column":19}},"38":{"start":{"line":97,"column":2},"end":{"line":97,"column":29}},"39":{"start":{"line":98,"column":2},"end":{"line":103,"column":4}},"40":{"start":{"line":99,"column":4},"end":{"line":102,"column":5}},"41":{"start":{"line":100,"column":6},"end":{"line":100,"column":19}},"42":{"start":{"line":101,"column":6},"end":{"line":101,"column":17}},"43":{"start":{"line":104,"column":2},"end":{"line":104,"column":15}}},"branchMap":{"1":{"line":21,"type":"cond-expr","locations":[{"start":{"line":22,"column":8},"end":{"line":22,"column":23}},{"start":{"line":23,"column":8},"end":{"line":23,"column":26}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":15},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":35}}]},"3":{"line":26,"type":"cond-expr","locations":[{"start":{"line":26,"column":39},"end":{"line":26,"column":48}},{"start":{"line":26,"column":51},"end":{"line":26,"column":53}}]},"4":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":18},"end":{"line":49,"column":22}},{"start":{"line":49,"column":25},"end":{"line":49,"column":39}}]},"5":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":13},"end":{"line":57,"column":17}},{"start":{"line":57,"column":19},"end":{"line":57,"column":25}}]},"6":{"line":58,"type":"if","locations":[{"start":{"line":58,"column":2},"end":{"line":58,"column":2}},{"start":{"line":58,"column":2},"end":{"line":58,"column":2}}]},"7":{"line":62,"type":"cond-expr","locations":[{"start":{"line":62,"column":30},"end":{"line":62,"column":41}},{"start":{"line":62,"column":44},"end":{"line":62,"column":48}}]},"8":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":2},"end":{"line":74,"column":2}},{"start":{"line":74,"column":2},"end":{"line":74,"column":2}}]},"9":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","var getBaseName = require('path').basename","var getDirectory = require('path').dirname","var join = require('path').join","","var ValueEvent = require('lib/value-event')","var Select = require('lib/params/select')","var ToggleButton = require('lib/params/toggle-button')","","var renderEditor = require('./editor')","var rawEditor = require('./editor/raw.js')","","module.exports = TabbedEditor","","function TabbedEditor(project){","  var data = project()","  var fileObject = getItem(project)","","  var tabs = project.items._list.map(function (item) {","    var tab = (data.rawMode && item)","      ? rawEditor(item)","      : renderEditor(item)","    return h('div.tab', {","      key: item.path,","      className: fileObject === item ? '-active' : ''","    }, tab)","  })","","  var controls = h('span.controls', [","    ToggleButton(project.rawMode, {","      title: 'raw'","    }),","    Select(project.zoom, {","      options: [","        ['50%', 0.5],","        ['75%', 0.75],","        ['90%', 0.9],","        ['100%', 1],","        ['110%', 1.1],","        ['125%', 1.25],","        ['150%', 1.5]","      ]","    })","  ])","","  return h('TabbedEditor', [","    h('header', [project.items._list.map(renderTab, project), controls]),","    tabs.length ? tabs : renderHelper()","  ])","}","","function renderTab(item){","  var project = this","  var actions = project.actions","","  var data = item&&item()","  if (data){","    var selected = project.selected() == item.path","    return h('div.tab', {","      'ev-click': send(project.selected.set, item.path),","      'className': selected ? '-selected' : null","    }, [","      h('span', [getName(item.path)]),","      h('button.close', {'ev-click': send(actions.closeFile, item.path)})","    ])","  } else {","    return ''","  }","}","","function getName(path){","  var base = getBaseName(path, '.json')","  if (base === 'index'){","    return getBaseName(getDirectory(path))","  } else {","    var dir = getBaseName(getDirectory(path))","    return dir + ' > ' + base","  }","}","","function renderHelper(){","  return h('div CenterTab', [","    h('div Helper', [","      h('a', {href: 'http://loopjs.com/'}, [","        h('img', {src: 'file://' + join(__dirname, '..', '..', 'logo.png'), width: 128})","      ]),","      h('br'),","      'For help visit ',","      h('a', {href: 'http://loopjs.com/'}, 'loopjs.com')","    ])","  ])","}","","function getItem(state){","  var result = null","  var path = state.selected()","  state.items.some(function(item){","    if (item.path === path){","      result = item","      return true","    }","  })","  return result","}",""],"l":{"1":2,"2":2,"3":2,"4":2,"5":2,"7":2,"8":2,"9":2,"11":2,"12":2,"14":0,"16":1,"17":0,"18":0,"20":0,"21":0,"24":0,"30":0,"47":0,"53":1,"54":0,"55":0,"57":0,"58":0,"59":0,"60":0,"68":0,"72":1,"73":0,"74":0,"75":0,"77":0,"78":0,"82":1,"83":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"104":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/editor/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/editor/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":1,"50":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"Editor","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":27}}},"2":{"name":"(anonymous_2)","line":20,"loc":{"start":{"line":20,"column":24},"end":{"line":20,"column":34}}},"3":{"name":"update","line":30,"loc":{"start":{"line":30,"column":2},"end":{"line":30,"column":19}}},"4":{"name":"doUpdate","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":21}}},"5":{"name":"(anonymous_5)","line":45,"loc":{"start":{"line":45,"column":28},"end":{"line":45,"column":38}}},"6":{"name":"(anonymous_6)","line":58,"loc":{"start":{"line":58,"column":26},"end":{"line":58,"column":46}}},"7":{"name":"(anonymous_7)","line":68,"loc":{"start":{"line":68,"column":27},"end":{"line":68,"column":41}}},"8":{"name":"bindToObject","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":35}}},"9":{"name":"invoke","line":94,"loc":{"start":{"line":94,"column":0},"end":{"line":94,"column":21}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":39}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":35}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":56}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":30}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":43}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":23}},"9":{"start":{"line":13,"column":0},"end":{"line":16,"column":1}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":62}},"11":{"start":{"line":14,"column":33},"end":{"line":14,"column":62}},"12":{"start":{"line":15,"column":2},"end":{"line":15,"column":30}},"13":{"start":{"line":18,"column":0},"end":{"line":18,"column":32}},"14":{"start":{"line":20,"column":0},"end":{"line":56,"column":1}},"15":{"start":{"line":22,"column":2},"end":{"line":26,"column":3}},"16":{"start":{"line":28,"column":2},"end":{"line":28,"column":27}},"17":{"start":{"line":30,"column":2},"end":{"line":35,"column":3}},"18":{"start":{"line":31,"column":4},"end":{"line":34,"column":5}},"19":{"start":{"line":32,"column":6},"end":{"line":32,"column":26}},"20":{"start":{"line":33,"column":6},"end":{"line":33,"column":24}},"21":{"start":{"line":37,"column":2},"end":{"line":43,"column":3}},"22":{"start":{"line":38,"column":4},"end":{"line":38,"column":25}},"23":{"start":{"line":42,"column":4},"end":{"line":42,"column":17}},"24":{"start":{"line":45,"column":2},"end":{"line":51,"column":16}},"25":{"start":{"line":46,"column":4},"end":{"line":50,"column":5}},"26":{"start":{"line":47,"column":6},"end":{"line":47,"column":46}},"27":{"start":{"line":49,"column":6},"end":{"line":49,"column":21}},"28":{"start":{"line":53,"column":2},"end":{"line":53,"column":28}},"29":{"start":{"line":55,"column":2},"end":{"line":55,"column":20}},"30":{"start":{"line":58,"column":0},"end":{"line":66,"column":1}},"31":{"start":{"line":59,"column":2},"end":{"line":59,"column":37}},"32":{"start":{"line":60,"column":2},"end":{"line":60,"column":36}},"33":{"start":{"line":62,"column":2},"end":{"line":65,"column":3}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":36}},"35":{"start":{"line":64,"column":4},"end":{"line":64,"column":18}},"36":{"start":{"line":68,"column":0},"end":{"line":72,"column":1}},"37":{"start":{"line":69,"column":2},"end":{"line":69,"column":24}},"38":{"start":{"line":70,"column":2},"end":{"line":70,"column":32}},"39":{"start":{"line":71,"column":2},"end":{"line":71,"column":27}},"40":{"start":{"line":74,"column":0},"end":{"line":92,"column":1}},"41":{"start":{"line":75,"column":2},"end":{"line":75,"column":24}},"42":{"start":{"line":76,"column":2},"end":{"line":76,"column":34}},"43":{"start":{"line":78,"column":2},"end":{"line":78,"column":32}},"44":{"start":{"line":79,"column":2},"end":{"line":79,"column":27}},"45":{"start":{"line":81,"column":2},"end":{"line":91,"column":3}},"46":{"start":{"line":82,"column":4},"end":{"line":85,"column":5}},"47":{"start":{"line":86,"column":4},"end":{"line":90,"column":5}},"48":{"start":{"line":87,"column":6},"end":{"line":89,"column":7}},"49":{"start":{"line":94,"column":0},"end":{"line":96,"column":1}},"50":{"start":{"line":95,"column":2},"end":{"line":95,"column":15}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"2":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"3":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":4}},{"start":{"line":46,"column":4},"end":{"line":46,"column":4}}]},"4":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":24}},{"start":{"line":46,"column":28},"end":{"line":46,"column":49}}]},"5":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":2},"end":{"line":62,"column":2}},{"start":{"line":62,"column":2},"end":{"line":62,"column":2}}]},"6":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":2},"end":{"line":81,"column":2}},{"start":{"line":81,"column":2},"end":{"line":81,"column":2}}]},"7":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]}},"code":["var VirtualDom = require('virtual-dom')","var MainLoop = require('main-loop')","var h = require('micro-css/h')(require('virtual-dom/h'))","","var Observ = require('observ')","var nextTick = require('next-tick')","var watch = require('observ/watch')","","var renderNode = require('lib/render-node')","","module.exports = Editor","","function Editor(fileObject){","  if (!(this instanceof Editor)) return new Editor(fileObject)","  this.fileObject = fileObject","}","","Editor.prototype.type = 'Widget'","","Editor.prototype.init = function(){","","  var state = this.state = {","    releases: [],","    fileObject: this.fileObject,","    update: update","  }","","  var pendingUpdate = false","","  function update(){","    if (!pendingUpdate){","      pendingUpdate = true","      nextTick(doUpdate)","    }","  }","","  function doUpdate(){","    pendingUpdate = false","","    // HACK: schedule 300 ms ahead to avoid audio interuption","    //state.fileObject.context.scheduler.schedule(0.3)","    loop.update()","  }","","  var loop = MainLoop(null, function(){","    if (state.fileObject && state.fileObject.node){","      return renderNode(state.fileObject.node)","    } else {","      return h('div')","    }","  }, VirtualDom)","","  bindToObject(this, update)","","  return loop.target","}","","Editor.prototype.update = function(prev, elem){","  var state = this.state = prev.state","  state.fileObject = this.fileObject","","  if (this.fileObject !== prev.fileObject){","    bindToObject(this, state.update)","    state.update()","  }","}","","Editor.prototype.destroy = function(elem){","  var state = this.state","  state.releases.forEach(invoke)","  state.releases.length = 0","}","","function bindToObject(self, update){","  var state = self.state","  var fileObject = self.fileObject","","  state.releases.forEach(invoke)","  state.releases.length = 0","","  if (fileObject){","    state.releases.push(","      fileObject.onNode(update),","      fileObject(update)","    )","    if (fileObject.resolved){","      state.releases.push(","        fileObject.resolved(update)","      )","    }","  }","}","","function invoke(func){","  return func()","}",""],"l":{"1":1,"2":1,"3":1,"5":1,"6":1,"7":1,"9":1,"11":1,"13":1,"14":0,"15":0,"18":1,"20":1,"22":0,"28":0,"30":1,"31":0,"32":0,"33":0,"37":1,"38":0,"42":0,"45":0,"46":0,"47":0,"49":0,"53":0,"55":0,"58":1,"59":0,"60":0,"62":0,"63":0,"64":0,"68":1,"69":0,"70":0,"71":0,"74":1,"75":0,"76":0,"78":0,"79":0,"81":0,"82":0,"86":0,"87":0,"94":1,"95":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/editor/raw.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/project/editor/raw.js","s":{"1":2,"2":2,"3":2,"4":2,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"RawEditor","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":30}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":27},"end":{"line":24,"column":37}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":23},"end":{"line":49,"column":43}}},"4":{"name":"save","line":64,"loc":{"start":{"line":64,"column":2},"end":{"line":64,"column":17}}},"5":{"name":"update","line":75,"loc":{"start":{"line":75,"column":2},"end":{"line":75,"column":19}}},"6":{"name":"(anonymous_6)","line":86,"loc":{"start":{"line":86,"column":25},"end":{"line":86,"column":35}}},"7":{"name":"(anonymous_7)","line":90,"loc":{"start":{"line":90,"column":24},"end":{"line":90,"column":34}}},"8":{"name":"(anonymous_8)","line":92,"loc":{"start":{"line":92,"column":27},"end":{"line":92,"column":37}}},"9":{"name":"(anonymous_9)","line":100,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":36}}},"10":{"name":"(anonymous_10)","line":113,"loc":{"start":{"line":113,"column":29},"end":{"line":113,"column":49}}},"11":{"name":"(anonymous_11)","line":123,"loc":{"start":{"line":123,"column":30},"end":{"line":123,"column":44}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":33}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":35}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":26}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":32}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":31}},"7":{"start":{"line":10,"column":0},"end":{"line":10,"column":23}},"8":{"start":{"line":12,"column":0},"end":{"line":12,"column":26}},"9":{"start":{"line":14,"column":0},"end":{"line":20,"column":1}},"10":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"11":{"start":{"line":16,"column":4},"end":{"line":16,"column":36}},"12":{"start":{"line":18,"column":2},"end":{"line":18,"column":30}},"13":{"start":{"line":19,"column":2},"end":{"line":19,"column":43}},"14":{"start":{"line":22,"column":0},"end":{"line":22,"column":35}},"15":{"start":{"line":24,"column":0},"end":{"line":111,"column":1}},"16":{"start":{"line":25,"column":2},"end":{"line":25,"column":45}},"17":{"start":{"line":26,"column":2},"end":{"line":26,"column":33}},"18":{"start":{"line":28,"column":2},"end":{"line":28,"column":40}},"19":{"start":{"line":30,"column":2},"end":{"line":30,"column":45}},"20":{"start":{"line":32,"column":2},"end":{"line":32,"column":39}},"21":{"start":{"line":33,"column":2},"end":{"line":33,"column":33}},"22":{"start":{"line":35,"column":2},"end":{"line":35,"column":44}},"23":{"start":{"line":36,"column":2},"end":{"line":36,"column":51}},"24":{"start":{"line":37,"column":2},"end":{"line":37,"column":40}},"25":{"start":{"line":38,"column":2},"end":{"line":38,"column":34}},"26":{"start":{"line":39,"column":2},"end":{"line":39,"column":45}},"27":{"start":{"line":40,"column":2},"end":{"line":40,"column":36}},"28":{"start":{"line":41,"column":2},"end":{"line":41,"column":42}},"29":{"start":{"line":43,"column":2},"end":{"line":43,"column":24}},"30":{"start":{"line":44,"column":2},"end":{"line":44,"column":17}},"31":{"start":{"line":46,"column":2},"end":{"line":46,"column":41}},"32":{"start":{"line":47,"column":2},"end":{"line":47,"column":31}},"33":{"start":{"line":49,"column":2},"end":{"line":62,"column":3}},"34":{"start":{"line":50,"column":4},"end":{"line":50,"column":27}},"35":{"start":{"line":52,"column":4},"end":{"line":55,"column":5}},"36":{"start":{"line":53,"column":6},"end":{"line":53,"column":20}},"37":{"start":{"line":54,"column":6},"end":{"line":54,"column":25}},"38":{"start":{"line":57,"column":4},"end":{"line":57,"column":28}},"39":{"start":{"line":59,"column":4},"end":{"line":61,"column":5}},"40":{"start":{"line":60,"column":6},"end":{"line":60,"column":46}},"41":{"start":{"line":64,"column":2},"end":{"line":73,"column":3}},"42":{"start":{"line":65,"column":4},"end":{"line":65,"column":45}},"43":{"start":{"line":66,"column":4},"end":{"line":72,"column":5}},"44":{"start":{"line":67,"column":6},"end":{"line":71,"column":21}},"45":{"start":{"line":68,"column":8},"end":{"line":68,"column":38}},"46":{"start":{"line":69,"column":8},"end":{"line":69,"column":25}},"47":{"start":{"line":70,"column":8},"end":{"line":70,"column":31}},"48":{"start":{"line":75,"column":2},"end":{"line":83,"column":3}},"49":{"start":{"line":76,"column":4},"end":{"line":76,"column":49}},"50":{"start":{"line":77,"column":4},"end":{"line":82,"column":5}},"51":{"start":{"line":78,"column":6},"end":{"line":78,"column":47}},"52":{"start":{"line":79,"column":6},"end":{"line":79,"column":35}},"53":{"start":{"line":80,"column":6},"end":{"line":80,"column":47}},"54":{"start":{"line":81,"column":6},"end":{"line":81,"column":41}},"55":{"start":{"line":85,"column":2},"end":{"line":85,"column":22}},"56":{"start":{"line":86,"column":2},"end":{"line":88,"column":4}},"57":{"start":{"line":87,"column":4},"end":{"line":87,"column":27}},"58":{"start":{"line":90,"column":2},"end":{"line":97,"column":4}},"59":{"start":{"line":91,"column":4},"end":{"line":91,"column":27}},"60":{"start":{"line":92,"column":4},"end":{"line":96,"column":11}},"61":{"start":{"line":93,"column":6},"end":{"line":95,"column":7}},"62":{"start":{"line":94,"column":8},"end":{"line":94,"column":16}},"63":{"start":{"line":99,"column":2},"end":{"line":99,"column":22}},"64":{"start":{"line":100,"column":2},"end":{"line":105,"column":4}},"65":{"start":{"line":101,"column":4},"end":{"line":104,"column":5}},"66":{"start":{"line":102,"column":6},"end":{"line":102,"column":29}},"67":{"start":{"line":103,"column":6},"end":{"line":103,"column":39}},"68":{"start":{"line":107,"column":2},"end":{"line":107,"column":37}},"69":{"start":{"line":109,"column":2},"end":{"line":109,"column":25}},"70":{"start":{"line":110,"column":2},"end":{"line":110,"column":16}},"71":{"start":{"line":113,"column":0},"end":{"line":121,"column":1}},"72":{"start":{"line":114,"column":2},"end":{"line":114,"column":27}},"73":{"start":{"line":115,"column":2},"end":{"line":115,"column":29}},"74":{"start":{"line":117,"column":2},"end":{"line":119,"column":3}},"75":{"start":{"line":118,"column":4},"end":{"line":118,"column":40}},"76":{"start":{"line":120,"column":2},"end":{"line":120,"column":13}},"77":{"start":{"line":123,"column":0},"end":{"line":127,"column":1}},"78":{"start":{"line":124,"column":2},"end":{"line":124,"column":23}},"79":{"start":{"line":125,"column":2},"end":{"line":125,"column":32}},"80":{"start":{"line":126,"column":2},"end":{"line":126,"column":21}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":15,"column":2}},{"start":{"line":15,"column":2},"end":{"line":15,"column":2}}]},"2":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":14},"end":{"line":19,"column":24}},{"start":{"line":19,"column":28},"end":{"line":19,"column":43}}]},"3":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":19},"end":{"line":32,"column":33}},{"start":{"line":32,"column":37},"end":{"line":32,"column":39}}]},"4":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"5":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"6":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"7":{"line":76,"type":"cond-expr","locations":[{"start":{"line":76,"column":29},"end":{"line":76,"column":42}},{"start":{"line":76,"column":45},"end":{"line":76,"column":49}}]},"8":{"line":77,"type":"if","locations":[{"start":{"line":77,"column":4},"end":{"line":77,"column":4}},{"start":{"line":77,"column":4},"end":{"line":77,"column":4}}]},"9":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":8},"end":{"line":77,"column":12}},{"start":{"line":77,"column":16},"end":{"line":77,"column":42}}]},"10":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":36},"end":{"line":78,"column":40}},{"start":{"line":78,"column":44},"end":{"line":78,"column":46}}]},"11":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":6},"end":{"line":93,"column":6}},{"start":{"line":93,"column":6},"end":{"line":93,"column":6}}]},"12":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"13":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":2},"end":{"line":117,"column":2}},{"start":{"line":117,"column":2},"end":{"line":117,"column":2}}]},"14":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":2},"end":{"line":125,"column":14}},{"start":{"line":125,"column":18},"end":{"line":125,"column":32}}]}},"code":["","var JSMN = require('lib/jsmn.js')","var deepEqual = require('deep-equal')","var watch = require('observ/watch')","","var ace = require('brace')","require('brace/mode/javascript')","require('brace/theme/ambiance')","","var NO_TRANSACTION = {}","","module.exports = RawEditor","","function RawEditor(fileObject){","  if (!(this instanceof RawEditor)){","    return new RawEditor(fileObject)","  }","  this.fileObject = fileObject","  this.file = fileObject && fileObject.file","}","","RawEditor.prototype.type = 'Widget'","","RawEditor.prototype.init = function(){","  var element = document.createElement('div')","  element.className = 'RawEditor'","","  var el = document.createElement('div')","","  var textEditor = this.editor = ace.edit(el)","","  window.editors = window.editors || []","  window.editors.push(textEditor)","","  textEditor.setTheme('ace/theme/ambiance');","  textEditor.session.setMode('ace/mode/javascript')","  textEditor.session.setUseWorker(false)","  textEditor.session.setTabSize(2)","  textEditor.renderer.setScrollMargin(20,100)","  textEditor.renderer.setPadding(20)","  textEditor.renderer.setShowGutter(false)","","  var currentFile = null","  var self = this","","  var currentTransaction = NO_TRANSACTION","  var lastSave = NO_TRANSACTION","","  textEditor.setFile = function(fileObject){","    clearTimeout(saveTimer)","","    if (self.release){","      self.release()","      self.release = null","    }","","    currentFile = fileObject","","    if (fileObject){","      self.release = watch(fileObject, update)","    }","  }","","  function save(){","    var value = textEditor.session.getValue()","    if (currentFile){","      try {","        var object = JSMN.parse(value)","        lastSave = object","        currentFile.set(object)","      } catch (ex) {}","    }","  }","","  function update(){","    var data = currentFile ? currentFile() : null","    if (data && !deepEqual(lastSave, data)) {","      var newValue = JSMN.stringify(data || {})","      currentTransaction = newValue","      textEditor.session.setValue(newValue, -1)","      currentTransaction = NO_TRANSACTION","    }","  }","","  var blurTimer = null","  textEditor.on('focus', function(){","    clearTimeout(blurTimer)","  })","","  textEditor.on('blur', function(){","    clearTimeout(blurTimer)","    blurTimer = setTimeout(function(){","      if (!textEditor.isFocused()){","        update()","      }","    }, 100)","  })","","  var saveTimer = null","  textEditor.on('change', function(){","    if (currentTransaction === NO_TRANSACTION){","      clearTimeout(saveTimer)","      saveTimer = setTimeout(save, 100)","    }","  })","","  textEditor.setFile(this.fileObject)","","  element.appendChild(el)","  return element","}","","RawEditor.prototype.update = function(prev, elem){","  this.editor = prev.editor","  this.release = prev.release","","  if (prev.file !== this.file){","    this.editor.setFile(this.fileObject)","  }","  return elem","}","","RawEditor.prototype.destroy = function(elem){","  this.editor.destroy()","  this.release && this.release()","  this.release = null","}",""],"l":{"2":2,"3":2,"4":2,"6":2,"7":0,"8":0,"10":0,"12":0,"14":1,"15":0,"16":0,"18":0,"19":0,"22":0,"24":0,"25":0,"26":0,"28":0,"30":0,"32":0,"33":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"43":0,"44":0,"46":0,"47":0,"49":0,"50":0,"52":0,"53":0,"54":0,"57":0,"59":0,"60":0,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"85":0,"86":0,"87":0,"90":0,"91":0,"92":0,"93":0,"94":0,"99":0,"100":0,"101":0,"102":0,"103":0,"107":0,"109":0,"110":0,"113":0,"114":0,"115":0,"117":0,"118":0,"120":0,"123":0,"124":0,"125":0,"126":0}},"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/triggers-chunk/slot-chooser.js":{"path":"/home/travis/build/npmtest/node-npmtest-loop-drop/node_modules/loop-drop/nodes/triggers-chunk/slot-chooser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":1,"25":0,"26":1,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":0,"77":0,"78":0,"79":1,"80":0,"81":0,"82":0,"83":0,"84":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"SlotChooser","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":38}}},"2":{"name":"dragStart","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":22}}},"3":{"name":"dragEnd","line":79,"loc":{"start":{"line":79,"column":0},"end":{"line":79,"column":20}}},"4":{"name":"dragOver","line":83,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":21}}},"5":{"name":"drop","line":93,"loc":{"start":{"line":93,"column":0},"end":{"line":93,"column":17}}},"6":{"name":"(anonymous_6)","line":119,"loc":{"start":{"line":119,"column":49},"end":{"line":119,"column":76}}},"7":{"name":"dragLeave","line":169,"loc":{"start":{"line":169,"column":0},"end":{"line":169,"column":22}}},"8":{"name":"obtainWithId","line":173,"loc":{"start":{"line":173,"column":0},"end":{"line":173,"column":30}}},"9":{"name":"containsFiles","line":179,"loc":{"start":{"line":179,"column":0},"end":{"line":179,"column":33}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":56}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":39}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":47}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":39}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":28}},"8":{"start":{"line":11,"column":0},"end":{"line":71,"column":1}},"9":{"start":{"line":13,"column":2},"end":{"line":13,"column":19}},"10":{"start":{"line":14,"column":2},"end":{"line":14,"column":36}},"11":{"start":{"line":15,"column":2},"end":{"line":15,"column":45}},"12":{"start":{"line":16,"column":2},"end":{"line":16,"column":38}},"13":{"start":{"line":17,"column":2},"end":{"line":17,"column":34}},"14":{"start":{"line":19,"column":2},"end":{"line":61,"column":3}},"15":{"start":{"line":20,"column":4},"end":{"line":20,"column":22}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":28}},"17":{"start":{"line":22,"column":4},"end":{"line":22,"column":38}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":124}},"19":{"start":{"line":25,"column":4},"end":{"line":58,"column":5}},"20":{"start":{"line":26,"column":6},"end":{"line":45,"column":7}},"21":{"start":{"line":47,"column":6},"end":{"line":57,"column":7}},"22":{"start":{"line":63,"column":2},"end":{"line":70,"column":4}},"23":{"start":{"line":73,"column":0},"end":{"line":73,"column":22}},"24":{"start":{"line":75,"column":0},"end":{"line":77,"column":1}},"25":{"start":{"line":76,"column":2},"end":{"line":76,"column":23}},"26":{"start":{"line":79,"column":0},"end":{"line":81,"column":1}},"27":{"start":{"line":80,"column":2},"end":{"line":80,"column":20}},"28":{"start":{"line":83,"column":0},"end":{"line":91,"column":1}},"29":{"start":{"line":84,"column":2},"end":{"line":84,"column":45}},"30":{"start":{"line":85,"column":2},"end":{"line":89,"column":3}},"31":{"start":{"line":86,"column":4},"end":{"line":86,"column":39}},"32":{"start":{"line":88,"column":4},"end":{"line":88,"column":39}},"33":{"start":{"line":90,"column":2},"end":{"line":90,"column":27}},"34":{"start":{"line":93,"column":0},"end":{"line":167,"column":1}},"35":{"start":{"line":94,"column":2},"end":{"line":94,"column":15}},"36":{"start":{"line":95,"column":2},"end":{"line":95,"column":27}},"37":{"start":{"line":97,"column":2},"end":{"line":97,"column":43}},"38":{"start":{"line":98,"column":2},"end":{"line":98,"column":56}},"39":{"start":{"line":99,"column":2},"end":{"line":99,"column":43}},"40":{"start":{"line":101,"column":2},"end":{"line":166,"column":3}},"41":{"start":{"line":102,"column":4},"end":{"line":104,"column":56}},"42":{"start":{"line":106,"column":4},"end":{"line":108,"column":5}},"43":{"start":{"line":107,"column":6},"end":{"line":107,"column":37}},"44":{"start":{"line":110,"column":4},"end":{"line":117,"column":6}},"45":{"start":{"line":119,"column":4},"end":{"line":123,"column":6}},"46":{"start":{"line":120,"column":6},"end":{"line":120,"column":38}},"47":{"start":{"line":121,"column":6},"end":{"line":121,"column":46}},"48":{"start":{"line":122,"column":6},"end":{"line":122,"column":32}},"49":{"start":{"line":124,"column":9},"end":{"line":166,"column":3}},"50":{"start":{"line":125,"column":4},"end":{"line":125,"column":70}},"51":{"start":{"line":126,"column":4},"end":{"line":128,"column":5}},"52":{"start":{"line":127,"column":6},"end":{"line":127,"column":72}},"53":{"start":{"line":129,"column":4},"end":{"line":129,"column":29}},"54":{"start":{"line":130,"column":9},"end":{"line":166,"column":3}},"55":{"start":{"line":131,"column":4},"end":{"line":131,"column":73}},"56":{"start":{"line":132,"column":4},"end":{"line":134,"column":5}},"57":{"start":{"line":133,"column":6},"end":{"line":133,"column":72}},"58":{"start":{"line":135,"column":4},"end":{"line":135,"column":32}},"59":{"start":{"line":137,"column":4},"end":{"line":137,"column":49}},"60":{"start":{"line":138,"column":4},"end":{"line":138,"column":58}},"61":{"start":{"line":139,"column":4},"end":{"line":139,"column":49}},"62":{"start":{"line":140,"column":4},"end":{"line":140,"column":29}},"63":{"start":{"line":142,"column":4},"end":{"line":165,"column":5}},"64":{"start":{"line":144,"column":6},"end":{"line":147,"column":7}},"65":{"start":{"line":146,"column":8},"end":{"line":146,"column":39}},"66":{"start":{"line":149,"column":6},"end":{"line":162,"column":7}},"67":{"start":{"line":152,"column":8},"end":{"line":152,"column":59}},"68":{"start":{"line":154,"column":8},"end":{"line":156,"column":9}},"69":{"start":{"line":155,"column":10},"end":{"line":155,"column":41}},"70":{"start":{"line":158,"column":8},"end":{"line":158,"column":41}},"71":{"start":{"line":161,"column":8},"end":{"line":161,"column":33}},"72":{"start":{"line":164,"column":6},"end":{"line":164,"column":32}},"73":{"start":{"line":169,"column":0},"end":{"line":171,"column":1}},"74":{"start":{"line":170,"column":2},"end":{"line":170,"column":48}},"75":{"start":{"line":173,"column":0},"end":{"line":177,"column":1}},"76":{"start":{"line":174,"column":2},"end":{"line":174,"column":39}},"77":{"start":{"line":175,"column":2},"end":{"line":175,"column":13}},"78":{"start":{"line":176,"column":2},"end":{"line":176,"column":12}},"79":{"start":{"line":179,"column":0},"end":{"line":188,"column":1}},"80":{"start":{"line":180,"column":2},"end":{"line":186,"column":3}},"81":{"start":{"line":181,"column":4},"end":{"line":185,"column":5}},"82":{"start":{"line":182,"column":6},"end":{"line":184,"column":7}},"83":{"start":{"line":183,"column":8},"end":{"line":183,"column":19}},"84":{"start":{"line":187,"column":2},"end":{"line":187,"column":14}}},"branchMap":{"1":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":14},"end":{"line":14,"column":27}},{"start":{"line":14,"column":31},"end":{"line":14,"column":36}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":37,"column":47},"end":{"line":37,"column":58}},{"start":{"line":37,"column":61},"end":{"line":37,"column":63}}]},"4":{"line":67,"type":"cond-expr","locations":[{"start":{"line":67,"column":49},"end":{"line":67,"column":60}},{"start":{"line":67,"column":63},"end":{"line":67,"column":65}}]},"5":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]},"6":{"line":85,"type":"binary-expr","locations":[{"start":{"line":85,"column":6},"end":{"line":85,"column":15}},{"start":{"line":85,"column":19},"end":{"line":85,"column":49}}]},"7":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":2},"end":{"line":101,"column":2}},{"start":{"line":101,"column":2},"end":{"line":101,"column":2}}]},"8":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":6},"end":{"line":101,"column":36}},{"start":{"line":101,"column":40},"end":{"line":101,"column":95}}]},"9":{"line":102,"type":"cond-expr","locations":[{"start":{"line":103,"column":8},"end":{"line":103,"column":49}},{"start":{"line":104,"column":8},"end":{"line":104,"column":56}}]},"10":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":4},"end":{"line":106,"column":4}},{"start":{"line":106,"column":4},"end":{"line":106,"column":4}}]},"11":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":9},"end":{"line":124,"column":9}},{"start":{"line":124,"column":9},"end":{"line":124,"column":9}}]},"12":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":4},"end":{"line":126,"column":4}},{"start":{"line":126,"column":4},"end":{"line":126,"column":4}}]},"13":{"line":130,"type":"if","locations":[{"start":{"line":130,"column":9},"end":{"line":130,"column":9}},{"start":{"line":130,"column":9},"end":{"line":130,"column":9}}]},"14":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":4},"end":{"line":132,"column":4}},{"start":{"line":132,"column":4},"end":{"line":132,"column":4}}]},"15":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"16":{"line":142,"type":"binary-expr","locations":[{"start":{"line":142,"column":8},"end":{"line":142,"column":14}},{"start":{"line":142,"column":18},"end":{"line":142,"column":35}}]},"17":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":6}},{"start":{"line":144,"column":6},"end":{"line":144,"column":6}}]},"18":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":6},"end":{"line":149,"column":6}},{"start":{"line":149,"column":6},"end":{"line":149,"column":6}}]},"19":{"line":149,"type":"binary-expr","locations":[{"start":{"line":149,"column":10},"end":{"line":149,"column":47}},{"start":{"line":149,"column":51},"end":{"line":149,"column":60}}]},"20":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":8}},{"start":{"line":154,"column":8},"end":{"line":154,"column":8}}]},"21":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":2},"end":{"line":180,"column":2}},{"start":{"line":180,"column":2},"end":{"line":180,"column":2}}]},"22":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":6},"end":{"line":182,"column":6}},{"start":{"line":182,"column":6},"end":{"line":182,"column":6}}]}},"code":["var h = require('micro-css/h')(require('virtual-dom/h'))","var send = require('value-event/event')","","var MPE = require('lib/mouse-position-event.js')","var nextTick = require('next-tick')","var importSample = require('lib/import-sample')","var extend = require('xtend/immutable')","","module.exports = SlotChooser","","function SlotChooser(chunk, spawnSlot){","","  var triggers = []","  var shape = chunk.shape() || [1,1]","  var selectedSlotId = chunk.selectedSlotId()","  var slots = chunk.context.slotLookup","  var length = shape[0] * shape[1]","","  for (var i=0;i<length;i++){","    var id = String(i)","    var slot = slots.get(id)","    var width = (100 / shape[1]) + '%'","    var dragInfo = { collection: chunk.slots, id: id, select: chunk.selectedSlotId.set, spawnSlot: spawnSlot, chunk: chunk }","","    if (slot){","      triggers.push(","        h('div.slot', {","          'draggable': true,","","          'ev-dragstart': MPE(dragStart, dragInfo),","          'ev-dragend': MPE(dragEnd, dragInfo),","          'ev-dragover': MPE(dragOver, dragInfo),","          'ev-dragleave': MPE(dragLeave, dragInfo),","          'ev-drop': MPE(drop, dragInfo),","","          'style': {width: width},","          'className': selectedSlotId === id ? '-selected' : '',","          'ev-click': send(chunk.selectedSlotId.set, id)","        }, [","          id,","          h('button.remove', {","            'ev-click': send(chunk.slots.remove, slot),","          }, 'X')","        ])","      )","    } else {","      triggers.push(","        h('div.slot -spawn', {","          'style': {width: width},","","          'ev-dragover': MPE(dragOver, dragInfo),","          'ev-dragleave': MPE(dragLeave, dragInfo),","          'ev-drop': MPE(drop, dragInfo),","","          'ev-click': send(spawnSlot, { id: id, chunk: chunk })","        }, '+ trigger')","      )","    }","","","  }","","  return h('SlotChooser', [","    triggers,","    h('div.spacer'),","    h('div.slot -output', {","      'className': selectedSlotId === 'output' ? '-selected' : '',","      'ev-click': send(chunk.selectedSlotId.set, 'output')","    }, 'output')","  ])","}","","var currentDrag = null","","function dragStart(ev){","  currentDrag = ev.data","}","","function dragEnd(ev){","  currentDrag = null","}","","function dragOver(ev){","  ev.currentTarget.classList.add('-dragOver')","  if (ev.altKey || containsFiles(ev.dataTransfer)) {","    ev.dataTransfer.dropEffect = 'copy'","  } else {","    ev.dataTransfer.dropEffect = 'move'","  }","  ev.event.preventDefault()","}","","function drop(ev){","  dragLeave(ev)","  ev.event.preventDefault()","","  var targetCollection = ev.data.collection","  var targetLookup = targetCollection.context.slotLookup","  var target = targetLookup.get(ev.data.id)","","  if (containsFiles(ev.dataTransfer) || ev.dataTransfer.types.includes('loop-drop/sample-path')) {","    var path = ev.dataTransfer.items[0].kind === 'file'","      ? ev.dataTransfer.items[0].getAsFile().path","      : ev.dataTransfer.getData('loop-drop/sample-path')","","    if (target){","      targetCollection.remove(target)","    }","","    var node = targetCollection.push({","      id: ev.data.id,","      node: 'slot',","      output: 'output',","      sources: [","        { node: 'source/sample', mode: 'oneshot' }","      ]","    })","","    importSample(targetCollection.context, path, function (err, descriptor) {","      var player = node.sources.get(0)","      player.set(extend(player(), descriptor))","      ev.data.select(ev.data.id)","    })","  } else if (ev.dataTransfer.types.includes('loop-drop/source')) {","    var data = JSON.parse(ev.dataTransfer.getData('loop-drop/source'))","    if (!target) {","      target = ev.data.spawnSlot({id: ev.data.id, chunk: ev.data.chunk})","    }","    target.sources.push(data)","  } else if (ev.dataTransfer.types.includes('loop-drop/processor')) {","    var data = JSON.parse(ev.dataTransfer.getData('loop-drop/processor'))","    if (!target) {","      target = ev.data.spawnSlot({id: ev.data.id, chunk: ev.data.chunk})","    }","    target.processors.push(data)","  } else {","    var sourceCollection = currentDrag.collection","    var sourceLookup = sourceCollection.context.slotLookup","    var source = sourceLookup.get(currentDrag.id)","    var isCopying = ev.altKey","","    if (source && source !== target){","","      if (target){","        // clear out existing","        targetCollection.remove(target)","      }","","      if (sourceCollection !== targetCollection || isCopying){","","        // move to different collection","        var descriptor = obtainWithId(ev.data.id, source())","","        if (!isCopying){","          sourceCollection.remove(source)","        }","","        targetCollection.push(descriptor)","","      } else {","        source.id.set(ev.data.id)","      }","","      ev.data.select(ev.data.id)","    }","  }","}","","function dragLeave(ev){","  ev.currentTarget.classList.remove('-dragOver')","}","","function obtainWithId(id, obj){","  obj = JSON.parse(JSON.stringify(obj))","  obj.id = id","  return obj","}","","function containsFiles(transfer) {","  if (transfer.types) {","    for (var i = 0; i < event.dataTransfer.types.length; i++) {","      if (event.dataTransfer.types[i] == \"Files\") {","        return true","      }","    }","  }","  return false","}",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"7":1,"9":1,"11":1,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"47":0,"63":0,"73":1,"75":1,"76":0,"79":1,"80":0,"83":1,"84":0,"85":0,"86":0,"88":0,"90":0,"93":1,"94":0,"95":0,"97":0,"98":0,"99":0,"101":0,"102":0,"106":0,"107":0,"110":0,"119":0,"120":0,"121":0,"122":0,"124":0,"125":0,"126":0,"127":0,"129":0,"130":0,"131":0,"132":0,"133":0,"135":0,"137":0,"138":0,"139":0,"140":0,"142":0,"144":0,"146":0,"149":0,"152":0,"154":0,"155":0,"158":0,"161":0,"164":0,"169":1,"170":0,"173":1,"174":0,"175":0,"176":0,"179":1,"180":0,"181":0,"182":0,"183":0,"187":0}}}